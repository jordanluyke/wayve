(function () {
'use strict';

var PlatformLocation=function(){function PlatformLocation(){}PlatformLocation.prototype.getBaseHrefFromDOM=function(){};PlatformLocation.prototype.onPopState=function(fn){};PlatformLocation.prototype.onHashChange=function(fn){};Object.defineProperty(PlatformLocation.prototype,"pathname",{get:function get(){return null},enumerable:true,configurable:true});Object.defineProperty(PlatformLocation.prototype,"search",{get:function get(){return null},enumerable:true,configurable:true});Object.defineProperty(PlatformLocation.prototype,"hash",{get:function get(){return null},enumerable:true,configurable:true});PlatformLocation.prototype.replaceState=function(state,title,url){};PlatformLocation.prototype.pushState=function(state,title,url){};PlatformLocation.prototype.forward=function(){};PlatformLocation.prototype.back=function(){};return PlatformLocation}();

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
  return typeof obj;
} : function (obj) {
  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
};











var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();







var get$1 = function get$1(object, property, receiver) {
  if (object === null) object = Function.prototype;
  var desc = Object.getOwnPropertyDescriptor(object, property);

  if (desc === undefined) {
    var parent = Object.getPrototypeOf(object);

    if (parent === null) {
      return undefined;
    } else {
      return get$1(parent, property, receiver);
    }
  } else if ("value" in desc) {
    return desc.value;
  } else {
    var getter = desc.get;

    if (getter === undefined) {
      return undefined;
    }

    return getter.call(receiver);
  }
};

var inherits = function (subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
};











var possibleConstructorReturn = function (self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return call && (typeof call === "object" || typeof call === "function") ? call : self;
};



var set$1 = function set$1(object, property, value, receiver) {
  var desc = Object.getOwnPropertyDescriptor(object, property);

  if (desc === undefined) {
    var parent = Object.getPrototypeOf(object);

    if (parent !== null) {
      set$1(parent, property, value, receiver);
    }
  } else if ("value" in desc && desc.writable) {
    desc.value = value;
  } else {
    var setter = desc.set;

    if (setter !== undefined) {
      setter.call(receiver, value);
    }
  }

  return value;
};

var globalScope;if(typeof window==='undefined'){if(typeof WorkerGlobalScope!=='undefined'&&self instanceof WorkerGlobalScope){globalScope=self;}else{globalScope=global;}}else{globalScope=window;}function scheduleMicroTask(fn){Zone.current.scheduleMicroTask('scheduleMicrotask',fn);}var _global=globalScope;function getTypeNameForDebugging(type){return type['name']||(typeof type==='undefined'?'undefined':_typeof(type))}_global.assert=function assert(condition){};function isPresent(obj){return obj!=null}function isBlank(obj){return obj==null}function stringify(token){if(typeof token==='string'){return token}if(token==null){return''+token}if(token.overriddenName){return''+token.overriddenName}if(token.name){return''+token.name}var res=token.toString();var newLineIndex=res.indexOf('\n');return newLineIndex===-1?res:res.substring(0,newLineIndex)}function looseIdentical(a,b){return a===b||typeof a==='number'&&typeof b==='number'&&isNaN(a)&&isNaN(b)}function isJsObject(o){return o!==null&&(typeof o==='function'||(typeof o==='undefined'?'undefined':_typeof(o))==='object')}function print(obj){console.log(obj);}function warn(obj){console.warn(obj);}var _symbolIterator=null;function getSymbolIterator(){if(!_symbolIterator){if(globalScope.Symbol&&Symbol.iterator){_symbolIterator=Symbol.iterator;}else{var keys=Object.getOwnPropertyNames(Map.prototype);for(var i=0;i<keys.length;++i){var key=keys[i];if(key!=='entries'&&key!=='size'&&Map.prototype[key]===Map.prototype['entries']){_symbolIterator=key;}}}}return _symbolIterator}function isPrimitive(obj){return!isJsObject(obj)}

var _nextClassId=0;var Reflect$1=_global.Reflect;function extractAnnotation(annotation){if(typeof annotation==='function'&&annotation.hasOwnProperty('annotation')){annotation=annotation.annotation;}return annotation}function applyParams(fnOrArray,key){if(fnOrArray===Object||fnOrArray===String||fnOrArray===Function||fnOrArray===Number||fnOrArray===Array){throw new Error('Can not use native '+stringify(fnOrArray)+' as constructor')}if(typeof fnOrArray==='function'){return fnOrArray}if(Array.isArray(fnOrArray)){var annotations=fnOrArray;var annoLength=annotations.length-1;var fn=fnOrArray[annoLength];if(typeof fn!=='function'){throw new Error('Last position of Class method array must be Function in key '+key+' was \''+stringify(fn)+'\'')}if(annoLength!=fn.length){throw new Error('Number of annotations ('+annoLength+') does not match number of arguments ('+fn.length+') in the function: '+stringify(fn))}var paramsAnnotations=[];for(var i=0,ii=annotations.length-1;i<ii;i++){var paramAnnotations=[];paramsAnnotations.push(paramAnnotations);var annotation=annotations[i];if(Array.isArray(annotation)){for(var j=0;j<annotation.length;j++){paramAnnotations.push(extractAnnotation(annotation[j]));}}else if(typeof annotation==='function'){paramAnnotations.push(extractAnnotation(annotation));}else{paramAnnotations.push(annotation);}}Reflect$1.defineMetadata('parameters',paramsAnnotations,fn);return fn}throw new Error('Only Function or Array is supported in Class definition for key \''+key+'\' is \''+stringify(fnOrArray)+'\'')}function Class(clsDef){var constructor=applyParams(clsDef.hasOwnProperty('constructor')?clsDef.constructor:undefined,'constructor');var proto=constructor.prototype;if(clsDef.hasOwnProperty('extends')){if(typeof clsDef.extends==='function'){constructor.prototype=proto=Object.create(clsDef.extends.prototype);}else{throw new Error('Class definition \'extends\' property must be a constructor function was: '+stringify(clsDef.extends))}}for(var key in clsDef){if(key!=='extends'&&key!=='prototype'&&clsDef.hasOwnProperty(key)){proto[key]=applyParams(clsDef[key],key);}}if(this&&this.annotations instanceof Array){Reflect$1.defineMetadata('annotations',this.annotations,constructor);}var constructorName=constructor['name'];if(!constructorName||constructorName==='constructor'){constructor['overriddenName']='class'+_nextClassId++;}return constructor}function makeDecorator(name,props,parentClass,chainFn){if(chainFn===void 0){chainFn=null;}var metaCtor=makeMetadataCtor([props]);function DecoratorFactory(objOrType){if(!(Reflect$1&&Reflect$1.getOwnMetadata)){throw'reflect-metadata shim is required when using class decorators'}if(this instanceof DecoratorFactory){metaCtor.call(this,objOrType);return this}var annotationInstance=new DecoratorFactory(objOrType);var chainAnnotation=typeof this==='function'&&Array.isArray(this.annotations)?this.annotations:[];chainAnnotation.push(annotationInstance);var TypeDecorator=function TypeDecorator(cls){var annotations=Reflect$1.getOwnMetadata('annotations',cls)||[];annotations.push(annotationInstance);Reflect$1.defineMetadata('annotations',annotations,cls);return cls};TypeDecorator.annotations=chainAnnotation;TypeDecorator.Class=Class;if(chainFn)chainFn(TypeDecorator);return TypeDecorator}if(parentClass){DecoratorFactory.prototype=Object.create(parentClass.prototype);}DecoratorFactory.prototype.toString=function(){return'@'+name};DecoratorFactory.annotationCls=DecoratorFactory;return DecoratorFactory}function makeMetadataCtor(props){return function ctor(){var _this=this;var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i-0]=arguments[_i];}props.forEach(function(prop,i){var argVal=args[i];if(Array.isArray(prop)){_this[prop[0]]=argVal===undefined?prop[1]:argVal;}else{for(var propName in prop){_this[propName]=argVal&&argVal.hasOwnProperty(propName)?argVal[propName]:prop[propName];}}});}}function makeParamDecorator(name,props,parentClass){var metaCtor=makeMetadataCtor(props);function ParamDecoratorFactory(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i-0]=arguments[_i];}if(this instanceof ParamDecoratorFactory){metaCtor.apply(this,args);return this}var annotationInstance=new((_a=ParamDecoratorFactory).bind.apply(_a,[void 0].concat(args)));ParamDecorator.annotation=annotationInstance;return ParamDecorator;function ParamDecorator(cls,unusedKey,index){var parameters=Reflect$1.getOwnMetadata('parameters',cls)||[];while(parameters.length<=index){parameters.push(null);}parameters[index]=parameters[index]||[];parameters[index].push(annotationInstance);Reflect$1.defineMetadata('parameters',parameters,cls);return cls}var _a;}if(parentClass){ParamDecoratorFactory.prototype=Object.create(parentClass.prototype);}ParamDecoratorFactory.prototype.toString=function(){return'@'+name};ParamDecoratorFactory.annotationCls=ParamDecoratorFactory;return ParamDecoratorFactory}function makePropDecorator(name,props,parentClass){var metaCtor=makeMetadataCtor(props);function PropDecoratorFactory(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i-0]=arguments[_i];}if(this instanceof PropDecoratorFactory){metaCtor.apply(this,args);return this}var decoratorInstance=new((_a=PropDecoratorFactory).bind.apply(_a,[void 0].concat(args)));return function PropDecorator(target,name){var meta=Reflect$1.getOwnMetadata('propMetadata',target.constructor)||{};meta[name]=meta.hasOwnProperty(name)&&meta[name]||[];meta[name].unshift(decoratorInstance);Reflect$1.defineMetadata('propMetadata',meta,target.constructor);};var _a;}if(parentClass){PropDecoratorFactory.prototype=Object.create(parentClass.prototype);}PropDecoratorFactory.prototype.toString=function(){return'@'+name};PropDecoratorFactory.annotationCls=PropDecoratorFactory;return PropDecoratorFactory}

var Inject=makeParamDecorator('Inject',[['token',undefined]]);var Optional=makeParamDecorator('Optional',[]);var Injectable=makeDecorator('Injectable',[]);var Self=makeParamDecorator('Self',[]);var SkipSelf=makeParamDecorator('SkipSelf',[]);var Host=makeParamDecorator('Host',[]);

var OpaqueToken=function(){function OpaqueToken(_desc){this._desc=_desc;}OpaqueToken.prototype.toString=function(){return"Token "+this._desc};OpaqueToken.decorators=[{type:Injectable}];OpaqueToken.ctorParameters=function(){return[null]};return OpaqueToken}();

var ANALYZE_FOR_ENTRY_COMPONENTS=new OpaqueToken('AnalyzeForEntryComponents');var Attribute=makeParamDecorator('Attribute',[['attributeName',undefined]]);var Query=function(){function Query(){}return Query}();var ContentChildren=makePropDecorator('ContentChildren',[['selector',undefined],{first:false,isViewQuery:false,descendants:false,read:undefined}],Query);var ContentChild=makePropDecorator('ContentChild',[['selector',undefined],{first:true,isViewQuery:false,descendants:true,read:undefined}],Query);var ViewChildren=makePropDecorator('ViewChildren',[['selector',undefined],{first:false,isViewQuery:true,descendants:true,read:undefined}],Query);var ViewChild=makePropDecorator('ViewChild',[['selector',undefined],{first:true,isViewQuery:true,descendants:true,read:undefined}],Query);

var ChangeDetectionStrategy={};ChangeDetectionStrategy.OnPush=0;ChangeDetectionStrategy.Default=1;ChangeDetectionStrategy[ChangeDetectionStrategy.OnPush]="OnPush";ChangeDetectionStrategy[ChangeDetectionStrategy.Default]="Default";var ChangeDetectorStatus={};ChangeDetectorStatus.CheckOnce=0;ChangeDetectorStatus.Checked=1;ChangeDetectorStatus.CheckAlways=2;ChangeDetectorStatus.Detached=3;ChangeDetectorStatus.Errored=4;ChangeDetectorStatus.Destroyed=5;ChangeDetectorStatus[ChangeDetectorStatus.CheckOnce]="CheckOnce";ChangeDetectorStatus[ChangeDetectorStatus.Checked]="Checked";ChangeDetectorStatus[ChangeDetectorStatus.CheckAlways]="CheckAlways";ChangeDetectorStatus[ChangeDetectorStatus.Detached]="Detached";ChangeDetectorStatus[ChangeDetectorStatus.Errored]="Errored";ChangeDetectorStatus[ChangeDetectorStatus.Destroyed]="Destroyed";function isDefaultChangeDetectionStrategy(changeDetectionStrategy){return isBlank(changeDetectionStrategy)||changeDetectionStrategy===ChangeDetectionStrategy.Default}

var Directive=makeDecorator('Directive',{selector:undefined,inputs:undefined,outputs:undefined,host:undefined,providers:undefined,exportAs:undefined,queries:undefined});var Component=makeDecorator('Component',{selector:undefined,inputs:undefined,outputs:undefined,host:undefined,exportAs:undefined,moduleId:undefined,providers:undefined,viewProviders:undefined,changeDetection:ChangeDetectionStrategy.Default,queries:undefined,templateUrl:undefined,template:undefined,styleUrls:undefined,styles:undefined,animations:undefined,encapsulation:undefined,interpolation:undefined,entryComponents:undefined},Directive);var Pipe=makeDecorator('Pipe',{name:undefined,pure:true});var Input=makePropDecorator('Input',[['bindingPropertyName',undefined]]);var Output=makePropDecorator('Output',[['bindingPropertyName',undefined]]);var HostBinding=makePropDecorator('HostBinding',[['hostPropertyName',undefined]]);var HostListener=makePropDecorator('HostListener',[['eventName',undefined],['args',[]]]);

var LifecycleHooks={};LifecycleHooks.OnInit=0;LifecycleHooks.OnDestroy=1;LifecycleHooks.DoCheck=2;LifecycleHooks.OnChanges=3;LifecycleHooks.AfterContentInit=4;LifecycleHooks.AfterContentChecked=5;LifecycleHooks.AfterViewInit=6;LifecycleHooks.AfterViewChecked=7;LifecycleHooks[LifecycleHooks.OnInit]="OnInit";LifecycleHooks[LifecycleHooks.OnDestroy]="OnDestroy";LifecycleHooks[LifecycleHooks.DoCheck]="DoCheck";LifecycleHooks[LifecycleHooks.OnChanges]="OnChanges";LifecycleHooks[LifecycleHooks.AfterContentInit]="AfterContentInit";LifecycleHooks[LifecycleHooks.AfterContentChecked]="AfterContentChecked";LifecycleHooks[LifecycleHooks.AfterViewInit]="AfterViewInit";LifecycleHooks[LifecycleHooks.AfterViewChecked]="AfterViewChecked";var LIFECYCLE_HOOKS_VALUES=[LifecycleHooks.OnInit,LifecycleHooks.OnDestroy,LifecycleHooks.DoCheck,LifecycleHooks.OnChanges,LifecycleHooks.AfterContentInit,LifecycleHooks.AfterContentChecked,LifecycleHooks.AfterViewInit,LifecycleHooks.AfterViewChecked];

var NgModule=makeDecorator('NgModule',{providers:undefined,declarations:undefined,imports:undefined,exports:undefined,entryComponents:undefined,bootstrap:undefined,schemas:undefined,id:undefined});

var ViewEncapsulation={};ViewEncapsulation.Emulated=0;ViewEncapsulation.Native=1;ViewEncapsulation.None=2;ViewEncapsulation[ViewEncapsulation.Emulated]="Emulated";ViewEncapsulation[ViewEncapsulation.Native]="Native";ViewEncapsulation[ViewEncapsulation.None]="None";var ViewMetadata=function(){function ViewMetadata(_a){var _b=_a===void 0?{}:_a,templateUrl=_b.templateUrl,template=_b.template,encapsulation=_b.encapsulation,styles=_b.styles,styleUrls=_b.styleUrls,animations=_b.animations,interpolation=_b.interpolation;this.templateUrl=templateUrl;this.template=template;this.styleUrls=styleUrls;this.styles=styles;this.encapsulation=encapsulation;this.animations=animations;this.interpolation=interpolation;}return ViewMetadata}();

var Version=function(){function Version(full){this.full=full;}Object.defineProperty(Version.prototype,"major",{get:function get(){return this.full.split(".")[0]},enumerable:true,configurable:true});Object.defineProperty(Version.prototype,"minor",{get:function get(){return this.full.split(".")[1]},enumerable:true,configurable:true});Object.defineProperty(Version.prototype,"patch",{get:function get(){return this.full.split(".").slice(2).join(".")},enumerable:true,configurable:true});return Version}();var VERSION=new Version("2.3.1");

function forwardRef(forwardRefFn){forwardRefFn.__forward_ref__=forwardRef;forwardRefFn.toString=function(){return stringify(this())};return forwardRefFn}function resolveForwardRef(type){if(typeof type==='function'&&type.hasOwnProperty('__forward_ref__')&&type.__forward_ref__===forwardRef){return type()}else{return type}}

var __extends=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};function unimplemented(){throw new Error("unimplemented")}var BaseError=function(_super){__extends(BaseError,_super);function BaseError(message){_super.call(this,message);var nativeError=new Error(message);this._nativeError=nativeError;}Object.defineProperty(BaseError.prototype,"message",{get:function get(){return this._nativeError.message},set:function set(message){this._nativeError.message=message;},enumerable:true,configurable:true});Object.defineProperty(BaseError.prototype,"name",{get:function get(){return this._nativeError.name},enumerable:true,configurable:true});Object.defineProperty(BaseError.prototype,"stack",{get:function get(){return this._nativeError.stack},set:function set(value){this._nativeError.stack=value;},enumerable:true,configurable:true});BaseError.prototype.toString=function(){return this._nativeError.toString()};return BaseError}(Error);var WrappedError=function(_super){__extends(WrappedError,_super);function WrappedError(message,error){_super.call(this,message+" caused by: "+(error instanceof Error?error.message:error));this.originalError=error;}Object.defineProperty(WrappedError.prototype,"stack",{get:function get(){return(this.originalError instanceof Error?this.originalError:this._nativeError).stack},enumerable:true,configurable:true});return WrappedError}(BaseError);

var _THROW_IF_NOT_FOUND=new Object;var THROW_IF_NOT_FOUND=_THROW_IF_NOT_FOUND;var _NullInjector=function(){function _NullInjector(){}_NullInjector.prototype.get=function(token,notFoundValue){if(notFoundValue===void 0){notFoundValue=_THROW_IF_NOT_FOUND;}if(notFoundValue===_THROW_IF_NOT_FOUND){throw new Error('No provider for '+stringify(token)+'!')}return notFoundValue};return _NullInjector}();var Injector=function(){function Injector(){}Injector.prototype.get=function(token,notFoundValue){return unimplemented()};Injector.THROW_IF_NOT_FOUND=_THROW_IF_NOT_FOUND;Injector.NULL=new _NullInjector;return Injector}();

var __extends$1=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};function findFirstClosedCycle(keys){var res=[];for(var i=0;i<keys.length;++i){if(res.indexOf(keys[i])>-1){res.push(keys[i]);return res}res.push(keys[i]);}return res}function constructResolvingPath(keys){if(keys.length>1){var reversed=findFirstClosedCycle(keys.slice().reverse());var tokenStrs=reversed.map(function(k){return stringify(k.token)});return' ('+tokenStrs.join(' -> ')+')'}return''}var AbstractProviderError=function(_super){__extends$1(AbstractProviderError,_super);function AbstractProviderError(injector,key,constructResolvingMessage){_super.call(this,'DI Error');this.keys=[key];this.injectors=[injector];this.constructResolvingMessage=constructResolvingMessage;this.message=this.constructResolvingMessage(this.keys);}AbstractProviderError.prototype.addKey=function(injector,key){this.injectors.push(injector);this.keys.push(key);this.message=this.constructResolvingMessage(this.keys);};return AbstractProviderError}(BaseError);var NoProviderError=function(_super){__extends$1(NoProviderError,_super);function NoProviderError(injector,key){_super.call(this,injector,key,function(keys){var first=stringify(keys[0].token);return'No provider for '+first+'!'+constructResolvingPath(keys)});}return NoProviderError}(AbstractProviderError);var CyclicDependencyError=function(_super){__extends$1(CyclicDependencyError,_super);function CyclicDependencyError(injector,key){_super.call(this,injector,key,function(keys){return'Cannot instantiate cyclic dependency!'+constructResolvingPath(keys)});}return CyclicDependencyError}(AbstractProviderError);var InstantiationError=function(_super){__extends$1(InstantiationError,_super);function InstantiationError(injector,originalException,originalStack,key){_super.call(this,'DI Error',originalException);this.keys=[key];this.injectors=[injector];}InstantiationError.prototype.addKey=function(injector,key){this.injectors.push(injector);this.keys.push(key);};Object.defineProperty(InstantiationError.prototype,'message',{get:function get(){var first=stringify(this.keys[0].token);return this.originalError.message+': Error during instantiation of '+first+'!'+constructResolvingPath(this.keys)+'.'},enumerable:true,configurable:true});Object.defineProperty(InstantiationError.prototype,'causeKey',{get:function get(){return this.keys[0]},enumerable:true,configurable:true});return InstantiationError}(WrappedError);var InvalidProviderError=function(_super){__extends$1(InvalidProviderError,_super);function InvalidProviderError(provider){_super.call(this,'Invalid provider - only instances of Provider and Type are allowed, got: '+provider);}return InvalidProviderError}(BaseError);var NoAnnotationError=function(_super){__extends$1(NoAnnotationError,_super);function NoAnnotationError(typeOrFunc,params){_super.call(this,NoAnnotationError._genMessage(typeOrFunc,params));}NoAnnotationError._genMessage=function(typeOrFunc,params){var signature=[];for(var i=0,ii=params.length;i<ii;i++){var parameter=params[i];if(!parameter||parameter.length==0){signature.push('?');}else{signature.push(parameter.map(stringify).join(' '));}}return'Cannot resolve all parameters for \''+stringify(typeOrFunc)+'\'('+signature.join(', ')+'). '+'Make sure that all the parameters are decorated with Inject or have valid type annotations and that \''+stringify(typeOrFunc)+'\' is decorated with Injectable.'};return NoAnnotationError}(BaseError);var OutOfBoundsError=function(_super){__extends$1(OutOfBoundsError,_super);function OutOfBoundsError(index){_super.call(this,'Index '+index+' is out-of-bounds.');}return OutOfBoundsError}(BaseError);var MixingMultiProvidersWithRegularProvidersError=function(_super){__extends$1(MixingMultiProvidersWithRegularProvidersError,_super);function MixingMultiProvidersWithRegularProvidersError(provider1,provider2){_super.call(this,'Cannot mix multi providers and regular providers, got: '+provider1.toString()+' '+provider2.toString());}return MixingMultiProvidersWithRegularProvidersError}(BaseError);

var ReflectiveKey=function(){function ReflectiveKey(token,id){this.token=token;this.id=id;if(!token){throw new Error('Token must be defined!')}}Object.defineProperty(ReflectiveKey.prototype,'displayName',{get:function get(){return stringify(this.token)},enumerable:true,configurable:true});ReflectiveKey.get=function(token){return _globalKeyRegistry.get(resolveForwardRef(token))};Object.defineProperty(ReflectiveKey,'numberOfKeys',{get:function get(){return _globalKeyRegistry.numberOfKeys},enumerable:true,configurable:true});return ReflectiveKey}();var KeyRegistry=function(){function KeyRegistry(){this._allKeys=new Map;}KeyRegistry.prototype.get=function(token){if(token instanceof ReflectiveKey)return token;if(this._allKeys.has(token)){return this._allKeys.get(token)}var newKey=new ReflectiveKey(token,ReflectiveKey.numberOfKeys);this._allKeys.set(token,newKey);return newKey};Object.defineProperty(KeyRegistry.prototype,'numberOfKeys',{get:function get(){return this._allKeys.size},enumerable:true,configurable:true});return KeyRegistry}();var _globalKeyRegistry=new KeyRegistry;

var Type=Function;

var DELEGATE_CTOR=/^function\s+\S+\(\)\s*{\s*("use strict";)?\s*(return\s+)?\S+\.apply\(this,\s*arguments\)/;var ReflectionCapabilities=function(){function ReflectionCapabilities(reflect){this._reflect=reflect||_global.Reflect;}ReflectionCapabilities.prototype.isReflectionEnabled=function(){return true};ReflectionCapabilities.prototype.factory=function(t){return function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i-0]=arguments[_i];}return new(t.bind.apply(t,[void 0].concat(args)))}};ReflectionCapabilities.prototype._zipTypesAndAnnotations=function(paramTypes,paramAnnotations){var result;if(typeof paramTypes==='undefined'){result=new Array(paramAnnotations.length);}else{result=new Array(paramTypes.length);}for(var i=0;i<result.length;i++){if(typeof paramTypes==='undefined'){result[i]=[];}else if(paramTypes[i]!=Object){result[i]=[paramTypes[i]];}else{result[i]=[];}if(paramAnnotations&&isPresent(paramAnnotations[i])){result[i]=result[i].concat(paramAnnotations[i]);}}return result};ReflectionCapabilities.prototype._ownParameters=function(type,parentCtor){if(DELEGATE_CTOR.exec(type.toString())){return null}if(type.parameters&&type.parameters!==parentCtor.parameters){return type.parameters}var tsickleCtorParams=type.ctorParameters;if(tsickleCtorParams&&tsickleCtorParams!==parentCtor.ctorParameters){var ctorParameters=typeof tsickleCtorParams==='function'?tsickleCtorParams():tsickleCtorParams;var paramTypes=ctorParameters.map(function(ctorParam){return ctorParam&&ctorParam.type});var paramAnnotations=ctorParameters.map(function(ctorParam){return ctorParam&&convertTsickleDecoratorIntoMetadata(ctorParam.decorators)});return this._zipTypesAndAnnotations(paramTypes,paramAnnotations)}if(isPresent(this._reflect)&&isPresent(this._reflect.getOwnMetadata)){var paramAnnotations=this._reflect.getOwnMetadata('parameters',type);var paramTypes=this._reflect.getOwnMetadata('design:paramtypes',type);if(paramTypes||paramAnnotations){return this._zipTypesAndAnnotations(paramTypes,paramAnnotations)}}return new Array(type.length).fill(undefined)};ReflectionCapabilities.prototype.parameters=function(type){var parentCtor=Object.getPrototypeOf(type.prototype).constructor;var parameters=this._ownParameters(type,parentCtor);if(!parameters&&parentCtor!==Object){parameters=this.parameters(parentCtor);}return parameters||[]};ReflectionCapabilities.prototype._ownAnnotations=function(typeOrFunc,parentCtor){if(typeOrFunc.annotations&&typeOrFunc.annotations!==parentCtor.annotations){var annotations=typeOrFunc.annotations;if(typeof annotations==='function'&&annotations.annotations){annotations=annotations.annotations;}return annotations}if(typeOrFunc.decorators&&typeOrFunc.decorators!==parentCtor.decorators){return convertTsickleDecoratorIntoMetadata(typeOrFunc.decorators)}if(this._reflect&&this._reflect.getOwnMetadata){return this._reflect.getOwnMetadata('annotations',typeOrFunc)}};ReflectionCapabilities.prototype.annotations=function(typeOrFunc){var parentCtor=Object.getPrototypeOf(typeOrFunc.prototype).constructor;var ownAnnotations=this._ownAnnotations(typeOrFunc,parentCtor)||[];var parentAnnotations=parentCtor!==Object?this.annotations(parentCtor):[];return parentAnnotations.concat(ownAnnotations)};ReflectionCapabilities.prototype._ownPropMetadata=function(typeOrFunc,parentCtor){if(typeOrFunc.propMetadata&&typeOrFunc.propMetadata!==parentCtor.propMetadata){var propMetadata=typeOrFunc.propMetadata;if(typeof propMetadata==='function'&&propMetadata.propMetadata){propMetadata=propMetadata.propMetadata;}return propMetadata}if(typeOrFunc.propDecorators&&typeOrFunc.propDecorators!==parentCtor.propDecorators){var propDecorators_1=typeOrFunc.propDecorators;var propMetadata_1={};Object.keys(propDecorators_1).forEach(function(prop){propMetadata_1[prop]=convertTsickleDecoratorIntoMetadata(propDecorators_1[prop]);});return propMetadata_1}if(this._reflect&&this._reflect.getOwnMetadata){return this._reflect.getOwnMetadata('propMetadata',typeOrFunc)}};ReflectionCapabilities.prototype.propMetadata=function(typeOrFunc){var parentCtor=Object.getPrototypeOf(typeOrFunc.prototype).constructor;var propMetadata={};if(parentCtor!==Object){var parentPropMetadata_1=this.propMetadata(parentCtor);Object.keys(parentPropMetadata_1).forEach(function(propName){propMetadata[propName]=parentPropMetadata_1[propName];});}var ownPropMetadata=this._ownPropMetadata(typeOrFunc,parentCtor);if(ownPropMetadata){Object.keys(ownPropMetadata).forEach(function(propName){var decorators=[];if(propMetadata.hasOwnProperty(propName)){decorators.push.apply(decorators,propMetadata[propName]);}decorators.push.apply(decorators,ownPropMetadata[propName]);propMetadata[propName]=decorators;});}return propMetadata};ReflectionCapabilities.prototype.hasLifecycleHook=function(type,lcProperty){return type instanceof Type&&lcProperty in type.prototype};ReflectionCapabilities.prototype.getter=function(name){return new Function('o','return o.'+name+';')};ReflectionCapabilities.prototype.setter=function(name){return new Function('o','v','return o.'+name+' = v;')};ReflectionCapabilities.prototype.method=function(name){var functionBody='if (!o.'+name+') throw new Error(\'"'+name+'" is undefined\');\n        return o.'+name+'.apply(o, args);';return new Function('o','args',functionBody)};ReflectionCapabilities.prototype.importUri=function(type){if((typeof type==='undefined'?'undefined':_typeof(type))==='object'&&type['filePath']){return type['filePath']}return'./'+stringify(type)};ReflectionCapabilities.prototype.resolveIdentifier=function(name,moduleUrl,runtime){return runtime};ReflectionCapabilities.prototype.resolveEnum=function(enumIdentifier,name){return enumIdentifier[name]};return ReflectionCapabilities}();function convertTsickleDecoratorIntoMetadata(decoratorInvocations){if(!decoratorInvocations){return[]}return decoratorInvocations.map(function(decoratorInvocation){var decoratorType=decoratorInvocation.type;var annotationCls=decoratorType.annotationCls;var annotationArgs=decoratorInvocation.args?decoratorInvocation.args:[];return new(annotationCls.bind.apply(annotationCls,[void 0].concat(annotationArgs)))})}

var ReflectorReader=function(){function ReflectorReader(){}ReflectorReader.prototype.parameters=function(typeOrFunc){};ReflectorReader.prototype.annotations=function(typeOrFunc){};ReflectorReader.prototype.propMetadata=function(typeOrFunc){};ReflectorReader.prototype.importUri=function(typeOrFunc){};ReflectorReader.prototype.resolveIdentifier=function(name,moduleUrl,runtime){};ReflectorReader.prototype.resolveEnum=function(identifier,name){};return ReflectorReader}();

var __extends$2=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Reflector=function(_super){__extends$2(Reflector,_super);function Reflector(reflectionCapabilities){_super.call(this);this.reflectionCapabilities=reflectionCapabilities;}Reflector.prototype.updateCapabilities=function(caps){this.reflectionCapabilities=caps;};Reflector.prototype.factory=function(type){return this.reflectionCapabilities.factory(type)};Reflector.prototype.parameters=function(typeOrFunc){return this.reflectionCapabilities.parameters(typeOrFunc)};Reflector.prototype.annotations=function(typeOrFunc){return this.reflectionCapabilities.annotations(typeOrFunc)};Reflector.prototype.propMetadata=function(typeOrFunc){return this.reflectionCapabilities.propMetadata(typeOrFunc)};Reflector.prototype.hasLifecycleHook=function(type,lcProperty){return this.reflectionCapabilities.hasLifecycleHook(type,lcProperty)};Reflector.prototype.getter=function(name){return this.reflectionCapabilities.getter(name)};Reflector.prototype.setter=function(name){return this.reflectionCapabilities.setter(name)};Reflector.prototype.method=function(name){return this.reflectionCapabilities.method(name)};Reflector.prototype.importUri=function(type){return this.reflectionCapabilities.importUri(type)};Reflector.prototype.resolveIdentifier=function(name,moduleUrl,runtime){return this.reflectionCapabilities.resolveIdentifier(name,moduleUrl,runtime)};Reflector.prototype.resolveEnum=function(identifier,name){return this.reflectionCapabilities.resolveEnum(identifier,name)};return Reflector}(ReflectorReader);

var reflector=new Reflector(new ReflectionCapabilities());

var ReflectiveDependency=function(){function ReflectiveDependency(key,optional,lowerBoundVisibility,upperBoundVisibility,properties){this.key=key;this.optional=optional;this.lowerBoundVisibility=lowerBoundVisibility;this.upperBoundVisibility=upperBoundVisibility;this.properties=properties;}ReflectiveDependency.fromKey=function(key){return new ReflectiveDependency(key,false,null,null,[])};return ReflectiveDependency}();var _EMPTY_LIST=[];var ResolvedReflectiveProvider_=function(){function ResolvedReflectiveProvider_(key,resolvedFactories,multiProvider){this.key=key;this.resolvedFactories=resolvedFactories;this.multiProvider=multiProvider;}Object.defineProperty(ResolvedReflectiveProvider_.prototype,'resolvedFactory',{get:function get(){return this.resolvedFactories[0]},enumerable:true,configurable:true});return ResolvedReflectiveProvider_}();var ResolvedReflectiveFactory=function(){function ResolvedReflectiveFactory(factory,dependencies){this.factory=factory;this.dependencies=dependencies;}return ResolvedReflectiveFactory}();function resolveReflectiveFactory(provider){var factoryFn;var resolvedDeps;if(provider.useClass){var useClass=resolveForwardRef(provider.useClass);factoryFn=reflector.factory(useClass);resolvedDeps=_dependenciesFor(useClass);}else if(provider.useExisting){factoryFn=function factoryFn(aliasInstance){return aliasInstance};resolvedDeps=[ReflectiveDependency.fromKey(ReflectiveKey.get(provider.useExisting))];}else if(provider.useFactory){factoryFn=provider.useFactory;resolvedDeps=constructDependencies(provider.useFactory,provider.deps);}else{factoryFn=function factoryFn(){return provider.useValue};resolvedDeps=_EMPTY_LIST;}return new ResolvedReflectiveFactory(factoryFn,resolvedDeps)}function resolveReflectiveProvider(provider){return new ResolvedReflectiveProvider_(ReflectiveKey.get(provider.provide),[resolveReflectiveFactory(provider)],provider.multi)}function resolveReflectiveProviders(providers){var normalized=_normalizeProviders(providers,[]);var resolved=normalized.map(resolveReflectiveProvider);var resolvedProviderMap=mergeResolvedReflectiveProviders(resolved,new Map);return Array.from(resolvedProviderMap.values())}function mergeResolvedReflectiveProviders(providers,normalizedProvidersMap){for(var i=0;i<providers.length;i++){var provider=providers[i];var existing=normalizedProvidersMap.get(provider.key.id);if(existing){if(provider.multiProvider!==existing.multiProvider){throw new MixingMultiProvidersWithRegularProvidersError(existing,provider)}if(provider.multiProvider){for(var j=0;j<provider.resolvedFactories.length;j++){existing.resolvedFactories.push(provider.resolvedFactories[j]);}}else{normalizedProvidersMap.set(provider.key.id,provider);}}else{var resolvedProvider=void 0;if(provider.multiProvider){resolvedProvider=new ResolvedReflectiveProvider_(provider.key,provider.resolvedFactories.slice(),provider.multiProvider);}else{resolvedProvider=provider;}normalizedProvidersMap.set(provider.key.id,resolvedProvider);}}return normalizedProvidersMap}function _normalizeProviders(providers,res){providers.forEach(function(b){if(b instanceof Type){res.push({provide:b,useClass:b});}else if(b&&(typeof b==='undefined'?'undefined':_typeof(b))=='object'&&b.provide!==undefined){res.push(b);}else if(b instanceof Array){_normalizeProviders(b,res);}else{throw new InvalidProviderError(b)}});return res}function constructDependencies(typeOrFunc,dependencies){if(!dependencies){return _dependenciesFor(typeOrFunc)}else{var params_1=dependencies.map(function(t){return[t]});return dependencies.map(function(t){return _extractToken(typeOrFunc,t,params_1)})}}function _dependenciesFor(typeOrFunc){var params=reflector.parameters(typeOrFunc);if(!params)return[];if(params.some(function(p){return p==null})){throw new NoAnnotationError(typeOrFunc,params)}return params.map(function(p){return _extractToken(typeOrFunc,p,params)})}function _extractToken(typeOrFunc,metadata,params){var depProps=[];var token=null;var optional=false;if(!Array.isArray(metadata)){if(metadata instanceof Inject){return _createDependency(metadata.token,optional,null,null,depProps)}else{return _createDependency(metadata,optional,null,null,depProps)}}var lowerBoundVisibility=null;var upperBoundVisibility=null;for(var i=0;i<metadata.length;++i){var paramMetadata=metadata[i];if(paramMetadata instanceof Type){token=paramMetadata;}else if(paramMetadata instanceof Inject){token=paramMetadata.token;}else if(paramMetadata instanceof Optional){optional=true;}else if(paramMetadata instanceof Self){upperBoundVisibility=paramMetadata;}else if(paramMetadata instanceof Host){upperBoundVisibility=paramMetadata;}else if(paramMetadata instanceof SkipSelf){lowerBoundVisibility=paramMetadata;}}token=resolveForwardRef(token);if(token!=null){return _createDependency(token,optional,lowerBoundVisibility,upperBoundVisibility,depProps)}else{throw new NoAnnotationError(typeOrFunc,params)}}function _createDependency(token,optional,lowerBoundVisibility,upperBoundVisibility,depProps){return new ReflectiveDependency(ReflectiveKey.get(token),optional,lowerBoundVisibility,upperBoundVisibility,depProps)}

var _MAX_CONSTRUCTION_COUNTER=10;var UNDEFINED=new Object;var ReflectiveProtoInjectorInlineStrategy=function(){function ReflectiveProtoInjectorInlineStrategy(protoEI,providers){this.provider0=null;this.provider1=null;this.provider2=null;this.provider3=null;this.provider4=null;this.provider5=null;this.provider6=null;this.provider7=null;this.provider8=null;this.provider9=null;this.keyId0=null;this.keyId1=null;this.keyId2=null;this.keyId3=null;this.keyId4=null;this.keyId5=null;this.keyId6=null;this.keyId7=null;this.keyId8=null;this.keyId9=null;var length=providers.length;if(length>0){this.provider0=providers[0];this.keyId0=providers[0].key.id;}if(length>1){this.provider1=providers[1];this.keyId1=providers[1].key.id;}if(length>2){this.provider2=providers[2];this.keyId2=providers[2].key.id;}if(length>3){this.provider3=providers[3];this.keyId3=providers[3].key.id;}if(length>4){this.provider4=providers[4];this.keyId4=providers[4].key.id;}if(length>5){this.provider5=providers[5];this.keyId5=providers[5].key.id;}if(length>6){this.provider6=providers[6];this.keyId6=providers[6].key.id;}if(length>7){this.provider7=providers[7];this.keyId7=providers[7].key.id;}if(length>8){this.provider8=providers[8];this.keyId8=providers[8].key.id;}if(length>9){this.provider9=providers[9];this.keyId9=providers[9].key.id;}}ReflectiveProtoInjectorInlineStrategy.prototype.getProviderAtIndex=function(index){if(index==0)return this.provider0;if(index==1)return this.provider1;if(index==2)return this.provider2;if(index==3)return this.provider3;if(index==4)return this.provider4;if(index==5)return this.provider5;if(index==6)return this.provider6;if(index==7)return this.provider7;if(index==8)return this.provider8;if(index==9)return this.provider9;throw new OutOfBoundsError(index)};ReflectiveProtoInjectorInlineStrategy.prototype.createInjectorStrategy=function(injector){return new ReflectiveInjectorInlineStrategy(injector,this)};return ReflectiveProtoInjectorInlineStrategy}();var ReflectiveProtoInjectorDynamicStrategy=function(){function ReflectiveProtoInjectorDynamicStrategy(protoInj,providers){this.providers=providers;var len=providers.length;this.keyIds=new Array(len);for(var i=0;i<len;i++){this.keyIds[i]=providers[i].key.id;}}ReflectiveProtoInjectorDynamicStrategy.prototype.getProviderAtIndex=function(index){if(index<0||index>=this.providers.length){throw new OutOfBoundsError(index)}return this.providers[index]};ReflectiveProtoInjectorDynamicStrategy.prototype.createInjectorStrategy=function(ei){return new ReflectiveInjectorDynamicStrategy(this,ei)};return ReflectiveProtoInjectorDynamicStrategy}();var ReflectiveProtoInjector=function(){function ReflectiveProtoInjector(providers){this.numberOfProviders=providers.length;this._strategy=providers.length>_MAX_CONSTRUCTION_COUNTER?new ReflectiveProtoInjectorDynamicStrategy(this,providers):new ReflectiveProtoInjectorInlineStrategy(this,providers);}ReflectiveProtoInjector.fromResolvedProviders=function(providers){return new ReflectiveProtoInjector(providers)};ReflectiveProtoInjector.prototype.getProviderAtIndex=function(index){return this._strategy.getProviderAtIndex(index)};return ReflectiveProtoInjector}();var ReflectiveInjectorInlineStrategy=function(){function ReflectiveInjectorInlineStrategy(injector,protoStrategy){this.injector=injector;this.protoStrategy=protoStrategy;this.obj0=UNDEFINED;this.obj1=UNDEFINED;this.obj2=UNDEFINED;this.obj3=UNDEFINED;this.obj4=UNDEFINED;this.obj5=UNDEFINED;this.obj6=UNDEFINED;this.obj7=UNDEFINED;this.obj8=UNDEFINED;this.obj9=UNDEFINED;}ReflectiveInjectorInlineStrategy.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0;};ReflectiveInjectorInlineStrategy.prototype.instantiateProvider=function(provider){return this.injector._new(provider)};ReflectiveInjectorInlineStrategy.prototype.getObjByKeyId=function(keyId){var p=this.protoStrategy;var inj=this.injector;if(p.keyId0===keyId){if(this.obj0===UNDEFINED){this.obj0=inj._new(p.provider0);}return this.obj0}if(p.keyId1===keyId){if(this.obj1===UNDEFINED){this.obj1=inj._new(p.provider1);}return this.obj1}if(p.keyId2===keyId){if(this.obj2===UNDEFINED){this.obj2=inj._new(p.provider2);}return this.obj2}if(p.keyId3===keyId){if(this.obj3===UNDEFINED){this.obj3=inj._new(p.provider3);}return this.obj3}if(p.keyId4===keyId){if(this.obj4===UNDEFINED){this.obj4=inj._new(p.provider4);}return this.obj4}if(p.keyId5===keyId){if(this.obj5===UNDEFINED){this.obj5=inj._new(p.provider5);}return this.obj5}if(p.keyId6===keyId){if(this.obj6===UNDEFINED){this.obj6=inj._new(p.provider6);}return this.obj6}if(p.keyId7===keyId){if(this.obj7===UNDEFINED){this.obj7=inj._new(p.provider7);}return this.obj7}if(p.keyId8===keyId){if(this.obj8===UNDEFINED){this.obj8=inj._new(p.provider8);}return this.obj8}if(p.keyId9===keyId){if(this.obj9===UNDEFINED){this.obj9=inj._new(p.provider9);}return this.obj9}return UNDEFINED};ReflectiveInjectorInlineStrategy.prototype.getObjAtIndex=function(index){if(index==0)return this.obj0;if(index==1)return this.obj1;if(index==2)return this.obj2;if(index==3)return this.obj3;if(index==4)return this.obj4;if(index==5)return this.obj5;if(index==6)return this.obj6;if(index==7)return this.obj7;if(index==8)return this.obj8;if(index==9)return this.obj9;throw new OutOfBoundsError(index)};ReflectiveInjectorInlineStrategy.prototype.getMaxNumberOfObjects=function(){return _MAX_CONSTRUCTION_COUNTER};return ReflectiveInjectorInlineStrategy}();var ReflectiveInjectorDynamicStrategy=function(){function ReflectiveInjectorDynamicStrategy(protoStrategy,injector){this.protoStrategy=protoStrategy;this.injector=injector;this.objs=new Array(protoStrategy.providers.length).fill(UNDEFINED);}ReflectiveInjectorDynamicStrategy.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0;};ReflectiveInjectorDynamicStrategy.prototype.instantiateProvider=function(provider){return this.injector._new(provider)};ReflectiveInjectorDynamicStrategy.prototype.getObjByKeyId=function(keyId){var p=this.protoStrategy;for(var i=0;i<p.keyIds.length;i++){if(p.keyIds[i]===keyId){if(this.objs[i]===UNDEFINED){this.objs[i]=this.injector._new(p.providers[i]);}return this.objs[i]}}return UNDEFINED};ReflectiveInjectorDynamicStrategy.prototype.getObjAtIndex=function(index){if(index<0||index>=this.objs.length){throw new OutOfBoundsError(index)}return this.objs[index]};ReflectiveInjectorDynamicStrategy.prototype.getMaxNumberOfObjects=function(){return this.objs.length};return ReflectiveInjectorDynamicStrategy}();var ReflectiveInjector=function(){function ReflectiveInjector(){}ReflectiveInjector.resolve=function(providers){return resolveReflectiveProviders(providers)};ReflectiveInjector.resolveAndCreate=function(providers,parent){if(parent===void 0){parent=null;}var ResolvedReflectiveProviders=ReflectiveInjector.resolve(providers);return ReflectiveInjector.fromResolvedProviders(ResolvedReflectiveProviders,parent)};ReflectiveInjector.fromResolvedProviders=function(providers,parent){if(parent===void 0){parent=null;}return new ReflectiveInjector_(ReflectiveProtoInjector.fromResolvedProviders(providers),parent)};Object.defineProperty(ReflectiveInjector.prototype,'parent',{get:function get(){return unimplemented()},enumerable:true,configurable:true});ReflectiveInjector.prototype.resolveAndCreateChild=function(providers){return unimplemented()};ReflectiveInjector.prototype.createChildFromResolved=function(providers){return unimplemented()};ReflectiveInjector.prototype.resolveAndInstantiate=function(provider){return unimplemented()};ReflectiveInjector.prototype.instantiateResolved=function(provider){return unimplemented()};ReflectiveInjector.prototype.get=function(token,notFoundValue){};return ReflectiveInjector}();var ReflectiveInjector_=function(){function ReflectiveInjector_(_proto,_parent){if(_parent===void 0){_parent=null;}this._constructionCounter=0;this._proto=_proto;this._parent=_parent;this._strategy=_proto._strategy.createInjectorStrategy(this);}ReflectiveInjector_.prototype.get=function(token,notFoundValue){if(notFoundValue===void 0){notFoundValue=THROW_IF_NOT_FOUND;}return this._getByKey(ReflectiveKey.get(token),null,null,notFoundValue)};ReflectiveInjector_.prototype.getAt=function(index){return this._strategy.getObjAtIndex(index)};Object.defineProperty(ReflectiveInjector_.prototype,'parent',{get:function get(){return this._parent},enumerable:true,configurable:true});Object.defineProperty(ReflectiveInjector_.prototype,'internalStrategy',{get:function get(){return this._strategy},enumerable:true,configurable:true});ReflectiveInjector_.prototype.resolveAndCreateChild=function(providers){var ResolvedReflectiveProviders=ReflectiveInjector.resolve(providers);return this.createChildFromResolved(ResolvedReflectiveProviders)};ReflectiveInjector_.prototype.createChildFromResolved=function(providers){var proto=new ReflectiveProtoInjector(providers);var inj=new ReflectiveInjector_(proto);inj._parent=this;return inj};ReflectiveInjector_.prototype.resolveAndInstantiate=function(provider){return this.instantiateResolved(ReflectiveInjector.resolve([provider])[0])};ReflectiveInjector_.prototype.instantiateResolved=function(provider){return this._instantiateProvider(provider)};ReflectiveInjector_.prototype._new=function(provider){if(this._constructionCounter++>this._strategy.getMaxNumberOfObjects()){throw new CyclicDependencyError(this,provider.key)}return this._instantiateProvider(provider)};ReflectiveInjector_.prototype._instantiateProvider=function(provider){if(provider.multiProvider){var res=new Array(provider.resolvedFactories.length);for(var i=0;i<provider.resolvedFactories.length;++i){res[i]=this._instantiate(provider,provider.resolvedFactories[i]);}return res}else{return this._instantiate(provider,provider.resolvedFactories[0])}};ReflectiveInjector_.prototype._instantiate=function(provider,ResolvedReflectiveFactory$$1){var factory=ResolvedReflectiveFactory$$1.factory;var deps=ResolvedReflectiveFactory$$1.dependencies;var length=deps.length;var d0;var d1;var d2;var d3;var d4;var d5;var d6;var d7;var d8;var d9;var d10;var d11;var d12;var d13;var d14;var d15;var d16;var d17;var d18;var d19;try{d0=length>0?this._getByReflectiveDependency(provider,deps[0]):null;d1=length>1?this._getByReflectiveDependency(provider,deps[1]):null;d2=length>2?this._getByReflectiveDependency(provider,deps[2]):null;d3=length>3?this._getByReflectiveDependency(provider,deps[3]):null;d4=length>4?this._getByReflectiveDependency(provider,deps[4]):null;d5=length>5?this._getByReflectiveDependency(provider,deps[5]):null;d6=length>6?this._getByReflectiveDependency(provider,deps[6]):null;d7=length>7?this._getByReflectiveDependency(provider,deps[7]):null;d8=length>8?this._getByReflectiveDependency(provider,deps[8]):null;d9=length>9?this._getByReflectiveDependency(provider,deps[9]):null;d10=length>10?this._getByReflectiveDependency(provider,deps[10]):null;d11=length>11?this._getByReflectiveDependency(provider,deps[11]):null;d12=length>12?this._getByReflectiveDependency(provider,deps[12]):null;d13=length>13?this._getByReflectiveDependency(provider,deps[13]):null;d14=length>14?this._getByReflectiveDependency(provider,deps[14]):null;d15=length>15?this._getByReflectiveDependency(provider,deps[15]):null;d16=length>16?this._getByReflectiveDependency(provider,deps[16]):null;d17=length>17?this._getByReflectiveDependency(provider,deps[17]):null;d18=length>18?this._getByReflectiveDependency(provider,deps[18]):null;d19=length>19?this._getByReflectiveDependency(provider,deps[19]):null;}catch(e){if(e instanceof AbstractProviderError||e instanceof InstantiationError){e.addKey(this,provider.key);}throw e}var obj;try{switch(length){case 0:obj=factory();break;case 1:obj=factory(d0);break;case 2:obj=factory(d0,d1);break;case 3:obj=factory(d0,d1,d2);break;case 4:obj=factory(d0,d1,d2,d3);break;case 5:obj=factory(d0,d1,d2,d3,d4);break;case 6:obj=factory(d0,d1,d2,d3,d4,d5);break;case 7:obj=factory(d0,d1,d2,d3,d4,d5,d6);break;case 8:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7);break;case 9:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8);break;case 10:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9);break;case 11:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10);break;case 12:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11);break;case 13:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12);break;case 14:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13);break;case 15:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14);break;case 16:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15);break;case 17:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16);break;case 18:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17);break;case 19:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17,d18);break;case 20:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17,d18,d19);break;default:throw new Error('Cannot instantiate \''+provider.key.displayName+'\' because it has more than 20 dependencies');}}catch(e){throw new InstantiationError(this,e,e.stack,provider.key)}return obj};ReflectiveInjector_.prototype._getByReflectiveDependency=function(provider,dep){return this._getByKey(dep.key,dep.lowerBoundVisibility,dep.upperBoundVisibility,dep.optional?null:THROW_IF_NOT_FOUND)};ReflectiveInjector_.prototype._getByKey=function(key,lowerBoundVisibility,upperBoundVisibility,notFoundValue){if(key===INJECTOR_KEY){return this}if(upperBoundVisibility instanceof Self){return this._getByKeySelf(key,notFoundValue)}else{return this._getByKeyDefault(key,notFoundValue,lowerBoundVisibility)}};ReflectiveInjector_.prototype._throwOrNull=function(key,notFoundValue){if(notFoundValue!==THROW_IF_NOT_FOUND){return notFoundValue}else{throw new NoProviderError(this,key)}};ReflectiveInjector_.prototype._getByKeySelf=function(key,notFoundValue){var obj=this._strategy.getObjByKeyId(key.id);return obj!==UNDEFINED?obj:this._throwOrNull(key,notFoundValue)};ReflectiveInjector_.prototype._getByKeyDefault=function(key,notFoundValue,lowerBoundVisibility){var inj;if(lowerBoundVisibility instanceof SkipSelf){inj=this._parent;}else{inj=this;}while(inj instanceof ReflectiveInjector_){var inj_=inj;var obj=inj_._strategy.getObjByKeyId(key.id);if(obj!==UNDEFINED)return obj;inj=inj_._parent;}if(inj!==null){return inj.get(key.token,notFoundValue)}else{return this._throwOrNull(key,notFoundValue)}};Object.defineProperty(ReflectiveInjector_.prototype,'displayName',{get:function get(){var providers=_mapProviders(this,function(b){return' "'+b.key.displayName+'" '}).join(', ');return'ReflectiveInjector(providers: ['+providers+'])'},enumerable:true,configurable:true});ReflectiveInjector_.prototype.toString=function(){return this.displayName};return ReflectiveInjector_}();var INJECTOR_KEY=ReflectiveKey.get(Injector);function _mapProviders(injector,fn){var res=new Array(injector._proto.numberOfProviders);for(var i=0;i<injector._proto.numberOfProviders;++i){res[i]=fn(injector._proto.getProviderAtIndex(i));}return res}

var ErrorHandler=function(){function ErrorHandler(rethrowError){if(rethrowError===void 0){rethrowError=true;}this._console=console;this.rethrowError=rethrowError;}ErrorHandler.prototype.handleError=function(error){var originalError=this._findOriginalError(error);var originalStack=this._findOriginalStack(error);var context=this._findContext(error);this._console.error("EXCEPTION: "+this._extractMessage(error));if(originalError){this._console.error("ORIGINAL EXCEPTION: "+this._extractMessage(originalError));}if(originalStack){this._console.error("ORIGINAL STACKTRACE:");this._console.error(originalStack);}if(context){this._console.error("ERROR CONTEXT:");this._console.error(context);}if(this.rethrowError)throw error};ErrorHandler.prototype._extractMessage=function(error){return error instanceof Error?error.message:error.toString()};ErrorHandler.prototype._findContext=function(error){if(error){return error.context?error.context:this._findContext(error.originalError)}return null};ErrorHandler.prototype._findOriginalError=function(error){var e=error.originalError;while(e&&e.originalError){e=e.originalError;}return e};ErrorHandler.prototype._findOriginalStack=function(error){if(!(error instanceof Error))return null;var e=error;var stack=e.stack;while(e instanceof Error&&e.originalError){e=e.originalError;if(e instanceof Error&&e.stack){stack=e.stack;}}return stack};return ErrorHandler}();

var StringMapWrapper=function(){function StringMapWrapper(){}StringMapWrapper.merge=function(m1,m2){var m={};for(var _i=0,_a=Object.keys(m1);_i<_a.length;_i++){var k=_a[_i];m[k]=m1[k];}for(var _b=0,_c=Object.keys(m2);_b<_c.length;_b++){var k=_c[_b];m[k]=m2[k];}return m};StringMapWrapper.equals=function(m1,m2){var k1=Object.keys(m1);var k2=Object.keys(m2);if(k1.length!=k2.length){return false}for(var i=0;i<k1.length;i++){var key=k1[i];if(m1[key]!==m2[key]){return false}}return true};return StringMapWrapper}();var ListWrapper=function(){function ListWrapper(){}ListWrapper.findLast=function(arr,condition){for(var i=arr.length-1;i>=0;i--){if(condition(arr[i])){return arr[i]}}return null};ListWrapper.removeAll=function(list,items){for(var i=0;i<items.length;++i){var index=list.indexOf(items[i]);if(index>-1){list.splice(index,1);}}};ListWrapper.remove=function(list,el){var index=list.indexOf(el);if(index>-1){list.splice(index,1);return true}return false};ListWrapper.equals=function(a,b){if(a.length!=b.length)return false;for(var i=0;i<a.length;++i){if(a[i]!==b[i])return false}return true};ListWrapper.flatten=function(list){return list.reduce(function(flat,item){var flatItem=Array.isArray(item)?ListWrapper.flatten(item):item;return flat.concat(flatItem)},[])};return ListWrapper}();function isListLikeIterable(obj){if(!isJsObject(obj))return false;return Array.isArray(obj)||!(obj instanceof Map)&&getSymbolIterator()in obj}function areIterablesEqual(a,b,comparator){var iterator1=a[getSymbolIterator()]();var iterator2=b[getSymbolIterator()]();while(true){var item1=iterator1.next();var item2=iterator2.next();if(item1.done&&item2.done)return true;if(item1.done||item2.done)return false;if(!comparator(item1.value,item2.value))return false}}function iterateListLike(obj,fn){if(Array.isArray(obj)){for(var i=0;i<obj.length;i++){fn(obj[i]);}}else{var iterator=obj[getSymbolIterator()]();var item=void 0;while(!(item=iterator.next()).done){fn(item.value);}}}

function isPromise(obj){return!!obj&&typeof obj.then==='function'}

var APP_INITIALIZER=new OpaqueToken('Application Initializer');var ApplicationInitStatus=function(){function ApplicationInitStatus(appInits){var _this=this;this._done=false;var asyncInitPromises=[];if(appInits){for(var i=0;i<appInits.length;i++){var initResult=appInits[i]();if(isPromise(initResult)){asyncInitPromises.push(initResult);}}}this._donePromise=Promise.all(asyncInitPromises).then(function(){_this._done=true;});if(asyncInitPromises.length===0){this._done=true;}}Object.defineProperty(ApplicationInitStatus.prototype,'done',{get:function get(){return this._done},enumerable:true,configurable:true});Object.defineProperty(ApplicationInitStatus.prototype,'donePromise',{get:function get(){return this._donePromise},enumerable:true,configurable:true});ApplicationInitStatus.decorators=[{type:Injectable}];ApplicationInitStatus.ctorParameters=function(){return[{type:Array,decorators:[{type:Inject,args:[APP_INITIALIZER]},{type:Optional}]}]};return ApplicationInitStatus}();

var APP_ID=new OpaqueToken('AppId');function _appIdRandomProviderFactory(){return''+_randomChar()+_randomChar()+_randomChar()}var APP_ID_RANDOM_PROVIDER={provide:APP_ID,useFactory:_appIdRandomProviderFactory,deps:[]};function _randomChar(){return String.fromCharCode(97+Math.floor(Math.random()*25))}var PLATFORM_INITIALIZER=new OpaqueToken('Platform Initializer');var APP_BOOTSTRAP_LISTENER=new OpaqueToken('appBootstrapListener');var PACKAGE_ROOT_URL=new OpaqueToken('Application Packages Root URL');

var Console=function(){function Console(){}Console.prototype.log=function(message){print(message);};Console.prototype.warn=function(message){warn(message);};Console.decorators=[{type:Injectable}];Console.ctorParameters=function(){return[]};return Console}();

var __extends$4=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var ComponentStillLoadingError=function(_super){__extends$4(ComponentStillLoadingError,_super);function ComponentStillLoadingError(compType){_super.call(this,'Can\'t compile synchronously as '+stringify(compType)+' is still being loaded!');this.compType=compType;}return ComponentStillLoadingError}(BaseError);function _throwError(){throw new Error('Runtime compiler is not loaded')}var Compiler=function(){function Compiler(){}Compiler.prototype.compileModuleSync=function(moduleType){throw _throwError()};Compiler.prototype.compileModuleAsync=function(moduleType){throw _throwError()};Compiler.prototype.compileModuleAndAllComponentsSync=function(moduleType){throw _throwError()};Compiler.prototype.compileModuleAndAllComponentsAsync=function(moduleType){throw _throwError()};Compiler.prototype.getNgContentSelectors=function(component){throw _throwError()};Compiler.prototype.clearCache=function(){};Compiler.prototype.clearCacheFor=function(type){};return Compiler}();var COMPILER_OPTIONS=new OpaqueToken('compilerOptions');var CompilerFactory=function(){function CompilerFactory(){}CompilerFactory.prototype.createCompiler=function(options){};return CompilerFactory}();

var ElementRef=function(){function ElementRef(nativeElement){this.nativeElement=nativeElement;}return ElementRef}();

var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};





function createCommonjsModule(fn, module) {
	return module = { exports: {} }, fn(module, module.exports), module.exports;
}

var root=createCommonjsModule(function(module,exports){'use strict';exports.root=(typeof window==='undefined'?'undefined':_typeof(window))=='object'&&window.window===window&&window||(typeof self==='undefined'?'undefined':_typeof(self))=='object'&&self.self===self&&self||_typeof(commonjsGlobal)=='object'&&commonjsGlobal.global===commonjsGlobal&&commonjsGlobal;if(!exports.root){throw new Error('RxJS could not find any global context (window, self, global)')}});

function isFunction(x){return typeof x==="function"}var isFunction_2=isFunction;var isFunction_1$1={isFunction:isFunction_2};

var isArray_1$1=Array.isArray||function(x){return x&&typeof x.length==="number"};var isArray={isArray:isArray_1$1};

function isObject(x){return x!=null&&(typeof x==="undefined"?"undefined":_typeof(x))==="object"}var isObject_2=isObject;var isObject_1$1={isObject:isObject_2};

var errorObject_1$2={e:{}};var errorObject={errorObject:errorObject_1$2};

var errorObject_1$1=errorObject;var tryCatchTarget;function tryCatcher(){try{return tryCatchTarget.apply(this,arguments)}catch(e){errorObject_1$1.errorObject.e=e;return errorObject_1$1.errorObject}}function tryCatch(fn){tryCatchTarget=fn;return tryCatcher}var tryCatch_2=tryCatch;var tryCatch_1$1={tryCatch:tryCatch_2};

var __extends$9=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var UnsubscriptionError=function(_super){__extends$9(UnsubscriptionError,_super);function UnsubscriptionError(errors){_super.call(this);this.errors=errors;var err=Error.call(this,errors?errors.length+" errors occurred during unsubscription:\n  "+errors.map(function(err,i){return i+1+") "+err.toString()}).join("\n  "):"");this.name=err.name="UnsubscriptionError";this.stack=err.stack;this.message=err.message;}return UnsubscriptionError}(Error);var UnsubscriptionError_2=UnsubscriptionError;var UnsubscriptionError_1$1={UnsubscriptionError:UnsubscriptionError_2};

var isArray_1=isArray;var isObject_1=isObject_1$1;var isFunction_1$3=isFunction_1$1;var tryCatch_1=tryCatch_1$1;var errorObject_1=errorObject;var UnsubscriptionError_1=UnsubscriptionError_1$1;var Subscription=function(){function Subscription(unsubscribe){this.closed=false;if(unsubscribe){this._unsubscribe=unsubscribe;}}Subscription.prototype.unsubscribe=function(){var hasErrors=false;var errors;if(this.closed){return}this.closed=true;var _a=this,_unsubscribe=_a._unsubscribe,_subscriptions=_a._subscriptions;this._subscriptions=null;if(isFunction_1$3.isFunction(_unsubscribe)){var trial=tryCatch_1.tryCatch(_unsubscribe).call(this);if(trial===errorObject_1.errorObject){hasErrors=true;(errors=errors||[]).push(errorObject_1.errorObject.e);}}if(isArray_1.isArray(_subscriptions)){var index=-1;var len=_subscriptions.length;while(++index<len){var sub=_subscriptions[index];if(isObject_1.isObject(sub)){var trial=tryCatch_1.tryCatch(sub.unsubscribe).call(sub);if(trial===errorObject_1.errorObject){hasErrors=true;errors=errors||[];var err=errorObject_1.errorObject.e;if(err instanceof UnsubscriptionError_1.UnsubscriptionError){errors=errors.concat(err.errors);}else{errors.push(err);}}}}}if(hasErrors){throw new UnsubscriptionError_1.UnsubscriptionError(errors)}};Subscription.prototype.add=function(teardown){if(!teardown||teardown===Subscription.EMPTY){return Subscription.EMPTY}if(teardown===this){return this}var sub=teardown;switch(typeof teardown==='undefined'?'undefined':_typeof(teardown)){case'function':sub=new Subscription(teardown);case'object':if(sub.closed||typeof sub.unsubscribe!=='function'){break}else if(this.closed){sub.unsubscribe();}else{(this._subscriptions||(this._subscriptions=[])).push(sub);}break;default:throw new Error('unrecognized teardown '+teardown+' added to Subscription.');}return sub};Subscription.prototype.remove=function(subscription){if(subscription==null||subscription===this||subscription===Subscription.EMPTY){return}var subscriptions=this._subscriptions;if(subscriptions){var subscriptionIndex=subscriptions.indexOf(subscription);if(subscriptionIndex!==-1){subscriptions.splice(subscriptionIndex,1);}}};Subscription.EMPTY=function(empty){empty.closed=true;return empty}(new Subscription);return Subscription}();var Subscription_2=Subscription;var Subscription_1$2={Subscription:Subscription_2};

var empty={closed:true,next:function next(value){},error:function error(err){throw err},complete:function complete(){}};var Observer={empty:empty};

var root_1$2=root;var _Symbol=root_1$2.root.Symbol;var $$rxSubscriber=typeof _Symbol==='function'&&typeof _Symbol.for==='function'?_Symbol.for('rxSubscriber'):'@@rxSubscriber';var rxSubscriber={$$rxSubscriber:$$rxSubscriber};

var __extends$8=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var isFunction_1=isFunction_1$1;var Subscription_1$1=Subscription_1$2;var Observer_1$1=Observer;var rxSubscriber_1$2=rxSubscriber;var Subscriber=function(_super){__extends$8(Subscriber,_super);function Subscriber(destinationOrNext,error,complete){_super.call(this);this.syncErrorValue=null;this.syncErrorThrown=false;this.syncErrorThrowable=false;this.isStopped=false;switch(arguments.length){case 0:this.destination=Observer_1$1.empty;break;case 1:if(!destinationOrNext){this.destination=Observer_1$1.empty;break}if((typeof destinationOrNext==='undefined'?'undefined':_typeof(destinationOrNext))==='object'){if(destinationOrNext instanceof Subscriber){this.destination=destinationOrNext;this.destination.add(this);}else{this.syncErrorThrowable=true;this.destination=new SafeSubscriber(this,destinationOrNext);}break}default:this.syncErrorThrowable=true;this.destination=new SafeSubscriber(this,destinationOrNext,error,complete);break;}}Subscriber.prototype[rxSubscriber_1$2.$$rxSubscriber]=function(){return this};Subscriber.create=function(next,error,complete){var subscriber=new Subscriber(next,error,complete);subscriber.syncErrorThrowable=false;return subscriber};Subscriber.prototype.next=function(value){if(!this.isStopped){this._next(value);}};Subscriber.prototype.error=function(err){if(!this.isStopped){this.isStopped=true;this._error(err);}};Subscriber.prototype.complete=function(){if(!this.isStopped){this.isStopped=true;this._complete();}};Subscriber.prototype.unsubscribe=function(){if(this.closed){return}this.isStopped=true;_super.prototype.unsubscribe.call(this);};Subscriber.prototype._next=function(value){this.destination.next(value);};Subscriber.prototype._error=function(err){this.destination.error(err);this.unsubscribe();};Subscriber.prototype._complete=function(){this.destination.complete();this.unsubscribe();};return Subscriber}(Subscription_1$1.Subscription);var Subscriber_2=Subscriber;var SafeSubscriber=function(_super){__extends$8(SafeSubscriber,_super);function SafeSubscriber(_parent,observerOrNext,error,complete){_super.call(this);this._parent=_parent;var next;var context=this;if(isFunction_1.isFunction(observerOrNext)){next=observerOrNext;}else if(observerOrNext){context=observerOrNext;next=observerOrNext.next;error=observerOrNext.error;complete=observerOrNext.complete;if(isFunction_1.isFunction(context.unsubscribe)){this.add(context.unsubscribe.bind(context));}context.unsubscribe=this.unsubscribe.bind(this);}this._context=context;this._next=next;this._error=error;this._complete=complete;}SafeSubscriber.prototype.next=function(value){if(!this.isStopped&&this._next){var _parent=this._parent;if(!_parent.syncErrorThrowable){this.__tryOrUnsub(this._next,value);}else if(this.__tryOrSetError(_parent,this._next,value)){this.unsubscribe();}}};SafeSubscriber.prototype.error=function(err){if(!this.isStopped){var _parent=this._parent;if(this._error){if(!_parent.syncErrorThrowable){this.__tryOrUnsub(this._error,err);this.unsubscribe();}else{this.__tryOrSetError(_parent,this._error,err);this.unsubscribe();}}else if(!_parent.syncErrorThrowable){this.unsubscribe();throw err}else{_parent.syncErrorValue=err;_parent.syncErrorThrown=true;this.unsubscribe();}}};SafeSubscriber.prototype.complete=function(){if(!this.isStopped){var _parent=this._parent;if(this._complete){if(!_parent.syncErrorThrowable){this.__tryOrUnsub(this._complete);this.unsubscribe();}else{this.__tryOrSetError(_parent,this._complete);this.unsubscribe();}}else{this.unsubscribe();}}};SafeSubscriber.prototype.__tryOrUnsub=function(fn,value){try{fn.call(this._context,value);}catch(err){this.unsubscribe();throw err}};SafeSubscriber.prototype.__tryOrSetError=function(parent,fn,value){try{fn.call(this._context,value);}catch(err){parent.syncErrorValue=err;parent.syncErrorThrown=true;return true}return false};SafeSubscriber.prototype._unsubscribe=function(){var _parent=this._parent;this._context=null;this._parent=null;_parent.unsubscribe();};return SafeSubscriber}(Subscriber);var Subscriber_1$2={Subscriber:Subscriber_2};

var Subscriber_1$1=Subscriber_1$2;var rxSubscriber_1$1=rxSubscriber;var Observer_1=Observer;function toSubscriber(nextOrObserver,error,complete){if(nextOrObserver){if(nextOrObserver instanceof Subscriber_1$1.Subscriber){return nextOrObserver}if(nextOrObserver[rxSubscriber_1$1.$$rxSubscriber]){return nextOrObserver[rxSubscriber_1$1.$$rxSubscriber]()}}if(!nextOrObserver&&!error&&!complete){return new Subscriber_1$1.Subscriber(Observer_1.empty)}return new Subscriber_1$1.Subscriber(nextOrObserver,error,complete)}var toSubscriber_2=toSubscriber;var toSubscriber_1$1={toSubscriber:toSubscriber_2};

var root_1$3=root;function getSymbolObservable(context){var $$observable;var _Symbol=context.Symbol;if(typeof _Symbol==='function'){if(_Symbol.observable){$$observable=_Symbol.observable;}else{$$observable=_Symbol('observable');_Symbol.observable=$$observable;}}else{$$observable='@@observable';}return $$observable}var getSymbolObservable_1=getSymbolObservable;var $$observable=getSymbolObservable(root_1$3.root);var observable={getSymbolObservable:getSymbolObservable_1,$$observable:$$observable};

var root_1=root;var toSubscriber_1=toSubscriber_1$1;var observable_1=observable;var Observable=function(){function Observable(subscribe){this._isScalar=false;if(subscribe){this._subscribe=subscribe;}}Observable.prototype.lift=function(operator){var observable$$1=new Observable;observable$$1.source=this;observable$$1.operator=operator;return observable$$1};Observable.prototype.subscribe=function(observerOrNext,error,complete){var operator=this.operator;var sink=toSubscriber_1.toSubscriber(observerOrNext,error,complete);if(operator){operator.call(sink,this);}else{sink.add(this._subscribe(sink));}if(sink.syncErrorThrowable){sink.syncErrorThrowable=false;if(sink.syncErrorThrown){throw sink.syncErrorValue}}return sink};Observable.prototype.forEach=function(next,PromiseCtor){var _this=this;if(!PromiseCtor){if(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise){PromiseCtor=root_1.root.Rx.config.Promise;}else if(root_1.root.Promise){PromiseCtor=root_1.root.Promise;}}if(!PromiseCtor){throw new Error('no Promise impl found')}return new PromiseCtor(function(resolve,reject){var subscription=_this.subscribe(function(value){if(subscription){try{next(value);}catch(err){reject(err);subscription.unsubscribe();}}else{next(value);}},reject,resolve);})};Observable.prototype._subscribe=function(subscriber){return this.source.subscribe(subscriber)};Observable.prototype[observable_1.$$observable]=function(){return this};Observable.create=function(subscribe){return new Observable(subscribe)};return Observable}();var Observable_2=Observable;var Observable_1$1={Observable:Observable_2};

var __extends$10=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var ObjectUnsubscribedError=function(_super){__extends$10(ObjectUnsubscribedError,_super);function ObjectUnsubscribedError(){var err=_super.call(this,'object unsubscribed');this.name=err.name='ObjectUnsubscribedError';this.stack=err.stack;this.message=err.message;}return ObjectUnsubscribedError}(Error);var ObjectUnsubscribedError_2=ObjectUnsubscribedError;var ObjectUnsubscribedError_1$1={ObjectUnsubscribedError:ObjectUnsubscribedError_2};

var __extends$11=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscription_1$4=Subscription_1$2;var SubjectSubscription=function(_super){__extends$11(SubjectSubscription,_super);function SubjectSubscription(subject,subscriber){_super.call(this);this.subject=subject;this.subscriber=subscriber;this.closed=false;}SubjectSubscription.prototype.unsubscribe=function(){if(this.closed){return}this.closed=true;var subject=this.subject;var observers=subject.observers;this.subject=null;if(!observers||observers.length===0||subject.isStopped||subject.closed){return}var subscriberIndex=observers.indexOf(this.subscriber);if(subscriberIndex!==-1){observers.splice(subscriberIndex,1);}};return SubjectSubscription}(Subscription_1$4.Subscription);var SubjectSubscription_2=SubjectSubscription;var SubjectSubscription_1$1={SubjectSubscription:SubjectSubscription_2};

var __extends$7=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Observable_1=Observable_1$1;var Subscriber_1=Subscriber_1$2;var Subscription_1=Subscription_1$2;var ObjectUnsubscribedError_1=ObjectUnsubscribedError_1$1;var SubjectSubscription_1=SubjectSubscription_1$1;var rxSubscriber_1=rxSubscriber;var SubjectSubscriber=function(_super){__extends$7(SubjectSubscriber,_super);function SubjectSubscriber(destination){_super.call(this,destination);this.destination=destination;}return SubjectSubscriber}(Subscriber_1.Subscriber);var SubjectSubscriber_1=SubjectSubscriber;var Subject=function(_super){__extends$7(Subject,_super);function Subject(){_super.call(this);this.observers=[];this.closed=false;this.isStopped=false;this.hasError=false;this.thrownError=null;}Subject.prototype[rxSubscriber_1.$$rxSubscriber]=function(){return new SubjectSubscriber(this)};Subject.prototype.lift=function(operator){var subject=new AnonymousSubject(this,this);subject.operator=operator;return subject};Subject.prototype.next=function(value){if(this.closed){throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError}if(!this.isStopped){var observers=this.observers;var len=observers.length;var copy=observers.slice();for(var i=0;i<len;i++){copy[i].next(value);}}};Subject.prototype.error=function(err){if(this.closed){throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError}this.hasError=true;this.thrownError=err;this.isStopped=true;var observers=this.observers;var len=observers.length;var copy=observers.slice();for(var i=0;i<len;i++){copy[i].error(err);}this.observers.length=0;};Subject.prototype.complete=function(){if(this.closed){throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError}this.isStopped=true;var observers=this.observers;var len=observers.length;var copy=observers.slice();for(var i=0;i<len;i++){copy[i].complete();}this.observers.length=0;};Subject.prototype.unsubscribe=function(){this.isStopped=true;this.closed=true;this.observers=null;};Subject.prototype._subscribe=function(subscriber){if(this.closed){throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError}else if(this.hasError){subscriber.error(this.thrownError);return Subscription_1.Subscription.EMPTY}else if(this.isStopped){subscriber.complete();return Subscription_1.Subscription.EMPTY}else{this.observers.push(subscriber);return new SubjectSubscription_1.SubjectSubscription(this,subscriber)}};Subject.prototype.asObservable=function(){var observable=new Observable_1.Observable;observable.source=this;return observable};Subject.create=function(destination,source){return new AnonymousSubject(destination,source)};return Subject}(Observable_1.Observable);var Subject_2=Subject;var AnonymousSubject=function(_super){__extends$7(AnonymousSubject,_super);function AnonymousSubject(destination,source){_super.call(this);this.destination=destination;this.source=source;}AnonymousSubject.prototype.next=function(value){var destination=this.destination;if(destination&&destination.next){destination.next(value);}};AnonymousSubject.prototype.error=function(err){var destination=this.destination;if(destination&&destination.error){this.destination.error(err);}};AnonymousSubject.prototype.complete=function(){var destination=this.destination;if(destination&&destination.complete){this.destination.complete();}};AnonymousSubject.prototype._subscribe=function(subscriber){var source=this.source;if(source){return this.source.subscribe(subscriber)}else{return Subscription_1.Subscription.EMPTY}};return AnonymousSubject}(Subject);var AnonymousSubject_1=AnonymousSubject;var Subject_1={SubjectSubscriber:SubjectSubscriber_1,Subject:Subject_2,AnonymousSubject:AnonymousSubject_1};

var __extends$6=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var EventEmitter=function(_super){__extends$6(EventEmitter,_super);function EventEmitter(isAsync){if(isAsync===void 0){isAsync=false;}_super.call(this);this.__isAsync=isAsync;}EventEmitter.prototype.emit=function(value){_super.prototype.next.call(this,value);};EventEmitter.prototype.subscribe=function(generatorOrNext,error,complete){var schedulerFn;var errorFn=function errorFn(err){return null};var completeFn=function completeFn(){return null};if(generatorOrNext&&(typeof generatorOrNext==='undefined'?'undefined':_typeof(generatorOrNext))==='object'){schedulerFn=this.__isAsync?function(value){setTimeout(function(){return generatorOrNext.next(value)});}:function(value){generatorOrNext.next(value);};if(generatorOrNext.error){errorFn=this.__isAsync?function(err){setTimeout(function(){return generatorOrNext.error(err)});}:function(err){generatorOrNext.error(err);};}if(generatorOrNext.complete){completeFn=this.__isAsync?function(){setTimeout(function(){return generatorOrNext.complete()});}:function(){generatorOrNext.complete();};}}else{schedulerFn=this.__isAsync?function(value){setTimeout(function(){return generatorOrNext(value)});}:function(value){generatorOrNext(value);};if(error){errorFn=this.__isAsync?function(err){setTimeout(function(){return error(err)});}:function(err){error(err);};}if(complete){completeFn=this.__isAsync?function(){setTimeout(function(){return complete()});}:function(){complete();};}}return _super.prototype.subscribe.call(this,schedulerFn,errorFn,completeFn)};return EventEmitter}(Subject_2);

var NgZone=function(){function NgZone(_a){var _b=_a.enableLongStackTrace,enableLongStackTrace=_b===void 0?false:_b;this._hasPendingMicrotasks=false;this._hasPendingMacrotasks=false;this._isStable=true;this._nesting=0;this._onUnstable=new EventEmitter(false);this._onMicrotaskEmpty=new EventEmitter(false);this._onStable=new EventEmitter(false);this._onErrorEvents=new EventEmitter(false);if(typeof Zone=='undefined'){throw new Error('Angular requires Zone.js prolyfill.')}Zone.assertZonePatched();this.outer=this.inner=Zone.current;if(Zone['wtfZoneSpec']){this.inner=this.inner.fork(Zone['wtfZoneSpec']);}if(enableLongStackTrace&&Zone['longStackTraceZoneSpec']){this.inner=this.inner.fork(Zone['longStackTraceZoneSpec']);}this.forkInnerZoneWithAngularBehavior();}NgZone.isInAngularZone=function(){return Zone.current.get('isAngularZone')===true};NgZone.assertInAngularZone=function(){if(!NgZone.isInAngularZone()){throw new Error('Expected to be in Angular Zone, but it is not!')}};NgZone.assertNotInAngularZone=function(){if(NgZone.isInAngularZone()){throw new Error('Expected to not be in Angular Zone, but it is!')}};NgZone.prototype.run=function(fn){return this.inner.run(fn)};NgZone.prototype.runGuarded=function(fn){return this.inner.runGuarded(fn)};NgZone.prototype.runOutsideAngular=function(fn){return this.outer.run(fn)};Object.defineProperty(NgZone.prototype,'onUnstable',{get:function get(){return this._onUnstable},enumerable:true,configurable:true});Object.defineProperty(NgZone.prototype,'onMicrotaskEmpty',{get:function get(){return this._onMicrotaskEmpty},enumerable:true,configurable:true});Object.defineProperty(NgZone.prototype,'onStable',{get:function get(){return this._onStable},enumerable:true,configurable:true});Object.defineProperty(NgZone.prototype,'onError',{get:function get(){return this._onErrorEvents},enumerable:true,configurable:true});Object.defineProperty(NgZone.prototype,'isStable',{get:function get(){return this._isStable},enumerable:true,configurable:true});Object.defineProperty(NgZone.prototype,'hasPendingMicrotasks',{get:function get(){return this._hasPendingMicrotasks},enumerable:true,configurable:true});Object.defineProperty(NgZone.prototype,'hasPendingMacrotasks',{get:function get(){return this._hasPendingMacrotasks},enumerable:true,configurable:true});NgZone.prototype.checkStable=function(){var _this=this;if(this._nesting==0&&!this._hasPendingMicrotasks&&!this._isStable){try{this._nesting++;this._onMicrotaskEmpty.emit(null);}finally{this._nesting--;if(!this._hasPendingMicrotasks){try{this.runOutsideAngular(function(){return _this._onStable.emit(null)});}finally{this._isStable=true;}}}}};NgZone.prototype.forkInnerZoneWithAngularBehavior=function(){var _this=this;this.inner=this.inner.fork({name:'angular',properties:{'isAngularZone':true},onInvokeTask:function onInvokeTask(delegate,current,target,task,applyThis,applyArgs){try{_this.onEnter();return delegate.invokeTask(target,task,applyThis,applyArgs)}finally{_this.onLeave();}},onInvoke:function onInvoke(delegate,current,target,callback,applyThis,applyArgs,source){try{_this.onEnter();return delegate.invoke(target,callback,applyThis,applyArgs,source)}finally{_this.onLeave();}},onHasTask:function onHasTask(delegate,current,target,hasTaskState){delegate.hasTask(target,hasTaskState);if(current===target){if(hasTaskState.change=='microTask'){_this.setHasMicrotask(hasTaskState.microTask);}else if(hasTaskState.change=='macroTask'){_this.setHasMacrotask(hasTaskState.macroTask);}}},onHandleError:function onHandleError(delegate,current,target,error){delegate.handleError(target,error);_this.triggerError(error);return false}});};NgZone.prototype.onEnter=function(){this._nesting++;if(this._isStable){this._isStable=false;this._onUnstable.emit(null);}};NgZone.prototype.onLeave=function(){this._nesting--;this.checkStable();};NgZone.prototype.setHasMicrotask=function(hasMicrotasks){this._hasPendingMicrotasks=hasMicrotasks;this.checkStable();};NgZone.prototype.setHasMacrotask=function(hasMacrotasks){this._hasPendingMacrotasks=hasMacrotasks;};NgZone.prototype.triggerError=function(error){this._onErrorEvents.emit(error);};return NgZone}();

var AnimationQueue=function(){function AnimationQueue(_zone){this._zone=_zone;this.entries=[];}AnimationQueue.prototype.enqueue=function(player){this.entries.push(player);};AnimationQueue.prototype.flush=function(){var _this=this;if(this.entries.length){this._zone.runOutsideAngular(function(){Promise.resolve(null).then(function(){return _this._triggerAnimations()});});}};AnimationQueue.prototype._triggerAnimations=function(){NgZone.assertNotInAngularZone();while(this.entries.length){var player=this.entries.shift();if(!player.hasStarted()){player.play();}}};AnimationQueue.decorators=[{type:Injectable}];AnimationQueue.ctorParameters=function(){return[{type:NgZone}]};return AnimationQueue}();

var DefaultIterableDifferFactory=function(){function DefaultIterableDifferFactory(){}DefaultIterableDifferFactory.prototype.supports=function(obj){return isListLikeIterable(obj)};DefaultIterableDifferFactory.prototype.create=function(cdRef,trackByFn){return new DefaultIterableDiffer(trackByFn)};return DefaultIterableDifferFactory}();var trackByIdentity=function trackByIdentity(index,item){return item};var DefaultIterableDiffer=function(){function DefaultIterableDiffer(_trackByFn){this._trackByFn=_trackByFn;this._length=null;this._collection=null;this._linkedRecords=null;this._unlinkedRecords=null;this._previousItHead=null;this._itHead=null;this._itTail=null;this._additionsHead=null;this._additionsTail=null;this._movesHead=null;this._movesTail=null;this._removalsHead=null;this._removalsTail=null;this._identityChangesHead=null;this._identityChangesTail=null;this._trackByFn=this._trackByFn||trackByIdentity;}Object.defineProperty(DefaultIterableDiffer.prototype,'collection',{get:function get(){return this._collection},enumerable:true,configurable:true});Object.defineProperty(DefaultIterableDiffer.prototype,'length',{get:function get(){return this._length},enumerable:true,configurable:true});DefaultIterableDiffer.prototype.forEachItem=function(fn){var record;for(record=this._itHead;record!==null;record=record._next){fn(record);}};DefaultIterableDiffer.prototype.forEachOperation=function(fn){var nextIt=this._itHead;var nextRemove=this._removalsHead;var addRemoveOffset=0;var moveOffsets=null;while(nextIt||nextRemove){var record=!nextRemove||nextIt&&nextIt.currentIndex<getPreviousIndex(nextRemove,addRemoveOffset,moveOffsets)?nextIt:nextRemove;var adjPreviousIndex=getPreviousIndex(record,addRemoveOffset,moveOffsets);var currentIndex=record.currentIndex;if(record===nextRemove){addRemoveOffset--;nextRemove=nextRemove._nextRemoved;}else{nextIt=nextIt._next;if(record.previousIndex==null){addRemoveOffset++;}else{if(!moveOffsets)moveOffsets=[];var localMovePreviousIndex=adjPreviousIndex-addRemoveOffset;var localCurrentIndex=currentIndex-addRemoveOffset;if(localMovePreviousIndex!=localCurrentIndex){for(var i=0;i<localMovePreviousIndex;i++){var offset=i<moveOffsets.length?moveOffsets[i]:moveOffsets[i]=0;var index=offset+i;if(localCurrentIndex<=index&&index<localMovePreviousIndex){moveOffsets[i]=offset+1;}}var previousIndex=record.previousIndex;moveOffsets[previousIndex]=localCurrentIndex-localMovePreviousIndex;}}}if(adjPreviousIndex!==currentIndex){fn(record,adjPreviousIndex,currentIndex);}}};DefaultIterableDiffer.prototype.forEachPreviousItem=function(fn){var record;for(record=this._previousItHead;record!==null;record=record._nextPrevious){fn(record);}};DefaultIterableDiffer.prototype.forEachAddedItem=function(fn){var record;for(record=this._additionsHead;record!==null;record=record._nextAdded){fn(record);}};DefaultIterableDiffer.prototype.forEachMovedItem=function(fn){var record;for(record=this._movesHead;record!==null;record=record._nextMoved){fn(record);}};DefaultIterableDiffer.prototype.forEachRemovedItem=function(fn){var record;for(record=this._removalsHead;record!==null;record=record._nextRemoved){fn(record);}};DefaultIterableDiffer.prototype.forEachIdentityChange=function(fn){var record;for(record=this._identityChangesHead;record!==null;record=record._nextIdentityChange){fn(record);}};DefaultIterableDiffer.prototype.diff=function(collection){if(isBlank(collection))collection=[];if(!isListLikeIterable(collection)){throw new Error('Error trying to diff \''+collection+'\'')}if(this.check(collection)){return this}else{return null}};DefaultIterableDiffer.prototype.onDestroy=function(){};DefaultIterableDiffer.prototype.check=function(collection){var _this=this;this._reset();var record=this._itHead;var mayBeDirty=false;var index;var item;var itemTrackBy;if(Array.isArray(collection)){var list=collection;this._length=collection.length;for(var index_1=0;index_1<this._length;index_1++){item=list[index_1];itemTrackBy=this._trackByFn(index_1,item);if(record===null||!looseIdentical(record.trackById,itemTrackBy)){record=this._mismatch(record,item,itemTrackBy,index_1);mayBeDirty=true;}else{if(mayBeDirty){record=this._verifyReinsertion(record,item,itemTrackBy,index_1);}if(!looseIdentical(record.item,item))this._addIdentityChange(record,item);}record=record._next;}}else{index=0;iterateListLike(collection,function(item){itemTrackBy=_this._trackByFn(index,item);if(record===null||!looseIdentical(record.trackById,itemTrackBy)){record=_this._mismatch(record,item,itemTrackBy,index);mayBeDirty=true;}else{if(mayBeDirty){record=_this._verifyReinsertion(record,item,itemTrackBy,index);}if(!looseIdentical(record.item,item))_this._addIdentityChange(record,item);}record=record._next;index++;});this._length=index;}this._truncate(record);this._collection=collection;return this.isDirty};Object.defineProperty(DefaultIterableDiffer.prototype,'isDirty',{get:function get(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null},enumerable:true,configurable:true});DefaultIterableDiffer.prototype._reset=function(){if(this.isDirty){var record=void 0;var nextRecord=void 0;for(record=this._previousItHead=this._itHead;record!==null;record=record._next){record._nextPrevious=record._next;}for(record=this._additionsHead;record!==null;record=record._nextAdded){record.previousIndex=record.currentIndex;}this._additionsHead=this._additionsTail=null;for(record=this._movesHead;record!==null;record=nextRecord){record.previousIndex=record.currentIndex;nextRecord=record._nextMoved;}this._movesHead=this._movesTail=null;this._removalsHead=this._removalsTail=null;this._identityChangesHead=this._identityChangesTail=null;}};DefaultIterableDiffer.prototype._mismatch=function(record,item,itemTrackBy,index){var previousRecord;if(record===null){previousRecord=this._itTail;}else{previousRecord=record._prev;this._remove(record);}record=this._linkedRecords===null?null:this._linkedRecords.get(itemTrackBy,index);if(record!==null){if(!looseIdentical(record.item,item))this._addIdentityChange(record,item);this._moveAfter(record,previousRecord,index);}else{record=this._unlinkedRecords===null?null:this._unlinkedRecords.get(itemTrackBy);if(record!==null){if(!looseIdentical(record.item,item))this._addIdentityChange(record,item);this._reinsertAfter(record,previousRecord,index);}else{record=this._addAfter(new CollectionChangeRecord(item,itemTrackBy),previousRecord,index);}}return record};DefaultIterableDiffer.prototype._verifyReinsertion=function(record,item,itemTrackBy,index){var reinsertRecord=this._unlinkedRecords===null?null:this._unlinkedRecords.get(itemTrackBy);if(reinsertRecord!==null){record=this._reinsertAfter(reinsertRecord,record._prev,index);}else if(record.currentIndex!=index){record.currentIndex=index;this._addToMoves(record,index);}return record};DefaultIterableDiffer.prototype._truncate=function(record){while(record!==null){var nextRecord=record._next;this._addToRemovals(this._unlink(record));record=nextRecord;}if(this._unlinkedRecords!==null){this._unlinkedRecords.clear();}if(this._additionsTail!==null){this._additionsTail._nextAdded=null;}if(this._movesTail!==null){this._movesTail._nextMoved=null;}if(this._itTail!==null){this._itTail._next=null;}if(this._removalsTail!==null){this._removalsTail._nextRemoved=null;}if(this._identityChangesTail!==null){this._identityChangesTail._nextIdentityChange=null;}};DefaultIterableDiffer.prototype._reinsertAfter=function(record,prevRecord,index){if(this._unlinkedRecords!==null){this._unlinkedRecords.remove(record);}var prev=record._prevRemoved;var next=record._nextRemoved;if(prev===null){this._removalsHead=next;}else{prev._nextRemoved=next;}if(next===null){this._removalsTail=prev;}else{next._prevRemoved=prev;}this._insertAfter(record,prevRecord,index);this._addToMoves(record,index);return record};DefaultIterableDiffer.prototype._moveAfter=function(record,prevRecord,index){this._unlink(record);this._insertAfter(record,prevRecord,index);this._addToMoves(record,index);return record};DefaultIterableDiffer.prototype._addAfter=function(record,prevRecord,index){this._insertAfter(record,prevRecord,index);if(this._additionsTail===null){this._additionsTail=this._additionsHead=record;}else{this._additionsTail=this._additionsTail._nextAdded=record;}return record};DefaultIterableDiffer.prototype._insertAfter=function(record,prevRecord,index){var next=prevRecord===null?this._itHead:prevRecord._next;record._next=next;record._prev=prevRecord;if(next===null){this._itTail=record;}else{next._prev=record;}if(prevRecord===null){this._itHead=record;}else{prevRecord._next=record;}if(this._linkedRecords===null){this._linkedRecords=new _DuplicateMap;}this._linkedRecords.put(record);record.currentIndex=index;return record};DefaultIterableDiffer.prototype._remove=function(record){return this._addToRemovals(this._unlink(record))};DefaultIterableDiffer.prototype._unlink=function(record){if(this._linkedRecords!==null){this._linkedRecords.remove(record);}var prev=record._prev;var next=record._next;if(prev===null){this._itHead=next;}else{prev._next=next;}if(next===null){this._itTail=prev;}else{next._prev=prev;}return record};DefaultIterableDiffer.prototype._addToMoves=function(record,toIndex){if(record.previousIndex===toIndex){return record}if(this._movesTail===null){this._movesTail=this._movesHead=record;}else{this._movesTail=this._movesTail._nextMoved=record;}return record};DefaultIterableDiffer.prototype._addToRemovals=function(record){if(this._unlinkedRecords===null){this._unlinkedRecords=new _DuplicateMap;}this._unlinkedRecords.put(record);record.currentIndex=null;record._nextRemoved=null;if(this._removalsTail===null){this._removalsTail=this._removalsHead=record;record._prevRemoved=null;}else{record._prevRemoved=this._removalsTail;this._removalsTail=this._removalsTail._nextRemoved=record;}return record};DefaultIterableDiffer.prototype._addIdentityChange=function(record,item){record.item=item;if(this._identityChangesTail===null){this._identityChangesTail=this._identityChangesHead=record;}else{this._identityChangesTail=this._identityChangesTail._nextIdentityChange=record;}return record};DefaultIterableDiffer.prototype.toString=function(){var list=[];this.forEachItem(function(record){return list.push(record)});var previous=[];this.forEachPreviousItem(function(record){return previous.push(record)});var additions=[];this.forEachAddedItem(function(record){return additions.push(record)});var moves=[];this.forEachMovedItem(function(record){return moves.push(record)});var removals=[];this.forEachRemovedItem(function(record){return removals.push(record)});var identityChanges=[];this.forEachIdentityChange(function(record){return identityChanges.push(record)});return'collection: '+list.join(', ')+'\n'+'previous: '+previous.join(', ')+'\n'+'additions: '+additions.join(', ')+'\n'+'moves: '+moves.join(', ')+'\n'+'removals: '+removals.join(', ')+'\n'+'identityChanges: '+identityChanges.join(', ')+'\n'};return DefaultIterableDiffer}();var CollectionChangeRecord=function(){function CollectionChangeRecord(item,trackById){this.item=item;this.trackById=trackById;this.currentIndex=null;this.previousIndex=null;this._nextPrevious=null;this._prev=null;this._next=null;this._prevDup=null;this._nextDup=null;this._prevRemoved=null;this._nextRemoved=null;this._nextAdded=null;this._nextMoved=null;this._nextIdentityChange=null;}CollectionChangeRecord.prototype.toString=function(){return this.previousIndex===this.currentIndex?stringify(this.item):stringify(this.item)+'['+stringify(this.previousIndex)+'->'+stringify(this.currentIndex)+']'};return CollectionChangeRecord}();var _DuplicateItemRecordList=function(){function _DuplicateItemRecordList(){this._head=null;this._tail=null;}_DuplicateItemRecordList.prototype.add=function(record){if(this._head===null){this._head=this._tail=record;record._nextDup=null;record._prevDup=null;}else{this._tail._nextDup=record;record._prevDup=this._tail;record._nextDup=null;this._tail=record;}};_DuplicateItemRecordList.prototype.get=function(trackById,afterIndex){var record;for(record=this._head;record!==null;record=record._nextDup){if((afterIndex===null||afterIndex<record.currentIndex)&&looseIdentical(record.trackById,trackById)){return record}}return null};_DuplicateItemRecordList.prototype.remove=function(record){var prev=record._prevDup;var next=record._nextDup;if(prev===null){this._head=next;}else{prev._nextDup=next;}if(next===null){this._tail=prev;}else{next._prevDup=prev;}return this._head===null};return _DuplicateItemRecordList}();var _DuplicateMap=function(){function _DuplicateMap(){this.map=new Map;}_DuplicateMap.prototype.put=function(record){var key=record.trackById;var duplicates=this.map.get(key);if(!duplicates){duplicates=new _DuplicateItemRecordList;this.map.set(key,duplicates);}duplicates.add(record);};_DuplicateMap.prototype.get=function(trackById,afterIndex){if(afterIndex===void 0){afterIndex=null;}var key=trackById;var recordList=this.map.get(key);return recordList?recordList.get(trackById,afterIndex):null};_DuplicateMap.prototype.remove=function(record){var key=record.trackById;var recordList=this.map.get(key);if(recordList.remove(record)){this.map.delete(key);}return record};Object.defineProperty(_DuplicateMap.prototype,'isEmpty',{get:function get(){return this.map.size===0},enumerable:true,configurable:true});_DuplicateMap.prototype.clear=function(){this.map.clear();};_DuplicateMap.prototype.toString=function(){return'_DuplicateMap('+stringify(this.map)+')'};return _DuplicateMap}();function getPreviousIndex(item,addRemoveOffset,moveOffsets){var previousIndex=item.previousIndex;if(previousIndex===null)return previousIndex;var moveOffset=0;if(moveOffsets&&previousIndex<moveOffsets.length){moveOffset=moveOffsets[previousIndex];}return previousIndex+addRemoveOffset+moveOffset}

var DefaultKeyValueDifferFactory=function(){function DefaultKeyValueDifferFactory(){}DefaultKeyValueDifferFactory.prototype.supports=function(obj){return obj instanceof Map||isJsObject(obj)};DefaultKeyValueDifferFactory.prototype.create=function(cdRef){return new DefaultKeyValueDiffer};return DefaultKeyValueDifferFactory}();var DefaultKeyValueDiffer=function(){function DefaultKeyValueDiffer(){this._records=new Map;this._mapHead=null;this._previousMapHead=null;this._changesHead=null;this._changesTail=null;this._additionsHead=null;this._additionsTail=null;this._removalsHead=null;this._removalsTail=null;}Object.defineProperty(DefaultKeyValueDiffer.prototype,"isDirty",{get:function get(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null},enumerable:true,configurable:true});DefaultKeyValueDiffer.prototype.forEachItem=function(fn){var record;for(record=this._mapHead;record!==null;record=record._next){fn(record);}};DefaultKeyValueDiffer.prototype.forEachPreviousItem=function(fn){var record;for(record=this._previousMapHead;record!==null;record=record._nextPrevious){fn(record);}};DefaultKeyValueDiffer.prototype.forEachChangedItem=function(fn){var record;for(record=this._changesHead;record!==null;record=record._nextChanged){fn(record);}};DefaultKeyValueDiffer.prototype.forEachAddedItem=function(fn){var record;for(record=this._additionsHead;record!==null;record=record._nextAdded){fn(record);}};DefaultKeyValueDiffer.prototype.forEachRemovedItem=function(fn){var record;for(record=this._removalsHead;record!==null;record=record._nextRemoved){fn(record);}};DefaultKeyValueDiffer.prototype.diff=function(map){if(!map){map=new Map;}else if(!(map instanceof Map||isJsObject(map))){throw new Error("Error trying to diff '"+map+"'")}return this.check(map)?this:null};DefaultKeyValueDiffer.prototype.onDestroy=function(){};DefaultKeyValueDiffer.prototype.check=function(map){var _this=this;this._reset();var records=this._records;var oldSeqRecord=this._mapHead;var lastOldSeqRecord=null;var lastNewSeqRecord=null;var seqChanged=false;this._forEach(map,function(value,key){var newSeqRecord;if(oldSeqRecord&&key===oldSeqRecord.key){newSeqRecord=oldSeqRecord;_this._maybeAddToChanges(newSeqRecord,value);}else{seqChanged=true;if(oldSeqRecord!==null){_this._removeFromSeq(lastOldSeqRecord,oldSeqRecord);_this._addToRemovals(oldSeqRecord);}if(records.has(key)){newSeqRecord=records.get(key);_this._maybeAddToChanges(newSeqRecord,value);}else{newSeqRecord=new KeyValueChangeRecord(key);records.set(key,newSeqRecord);newSeqRecord.currentValue=value;_this._addToAdditions(newSeqRecord);}}if(seqChanged){if(_this._isInRemovals(newSeqRecord)){_this._removeFromRemovals(newSeqRecord);}if(lastNewSeqRecord==null){_this._mapHead=newSeqRecord;}else{lastNewSeqRecord._next=newSeqRecord;}}lastOldSeqRecord=oldSeqRecord;lastNewSeqRecord=newSeqRecord;oldSeqRecord=oldSeqRecord&&oldSeqRecord._next;});this._truncate(lastOldSeqRecord,oldSeqRecord);return this.isDirty};DefaultKeyValueDiffer.prototype._reset=function(){if(this.isDirty){var record=void 0;for(record=this._previousMapHead=this._mapHead;record!==null;record=record._next){record._nextPrevious=record._next;}for(record=this._changesHead;record!==null;record=record._nextChanged){record.previousValue=record.currentValue;}for(record=this._additionsHead;record!=null;record=record._nextAdded){record.previousValue=record.currentValue;}this._changesHead=this._changesTail=null;this._additionsHead=this._additionsTail=null;this._removalsHead=this._removalsTail=null;}};DefaultKeyValueDiffer.prototype._truncate=function(lastRecord,record){while(record!==null){if(lastRecord===null){this._mapHead=null;}else{lastRecord._next=null;}var nextRecord=record._next;this._addToRemovals(record);lastRecord=record;record=nextRecord;}for(var rec=this._removalsHead;rec!==null;rec=rec._nextRemoved){rec.previousValue=rec.currentValue;rec.currentValue=null;this._records.delete(rec.key);}};DefaultKeyValueDiffer.prototype._maybeAddToChanges=function(record,newValue){if(!looseIdentical(newValue,record.currentValue)){record.previousValue=record.currentValue;record.currentValue=newValue;this._addToChanges(record);}};DefaultKeyValueDiffer.prototype._isInRemovals=function(record){return record===this._removalsHead||record._nextRemoved!==null||record._prevRemoved!==null};DefaultKeyValueDiffer.prototype._addToRemovals=function(record){if(this._removalsHead===null){this._removalsHead=this._removalsTail=record;}else{this._removalsTail._nextRemoved=record;record._prevRemoved=this._removalsTail;this._removalsTail=record;}};DefaultKeyValueDiffer.prototype._removeFromSeq=function(prev,record){var next=record._next;if(prev===null){this._mapHead=next;}else{prev._next=next;}record._next=null;};DefaultKeyValueDiffer.prototype._removeFromRemovals=function(record){var prev=record._prevRemoved;var next=record._nextRemoved;if(prev===null){this._removalsHead=next;}else{prev._nextRemoved=next;}if(next===null){this._removalsTail=prev;}else{next._prevRemoved=prev;}record._prevRemoved=record._nextRemoved=null;};DefaultKeyValueDiffer.prototype._addToAdditions=function(record){if(this._additionsHead===null){this._additionsHead=this._additionsTail=record;}else{this._additionsTail._nextAdded=record;this._additionsTail=record;}};DefaultKeyValueDiffer.prototype._addToChanges=function(record){if(this._changesHead===null){this._changesHead=this._changesTail=record;}else{this._changesTail._nextChanged=record;this._changesTail=record;}};DefaultKeyValueDiffer.prototype.toString=function(){var items=[];var previous=[];var changes=[];var additions=[];var removals=[];var record;for(record=this._mapHead;record!==null;record=record._next){items.push(stringify(record));}for(record=this._previousMapHead;record!==null;record=record._nextPrevious){previous.push(stringify(record));}for(record=this._changesHead;record!==null;record=record._nextChanged){changes.push(stringify(record));}for(record=this._additionsHead;record!==null;record=record._nextAdded){additions.push(stringify(record));}for(record=this._removalsHead;record!==null;record=record._nextRemoved){removals.push(stringify(record));}return"map: "+items.join(", ")+"\n"+"previous: "+previous.join(", ")+"\n"+"additions: "+additions.join(", ")+"\n"+"changes: "+changes.join(", ")+"\n"+"removals: "+removals.join(", ")+"\n"};DefaultKeyValueDiffer.prototype._forEach=function(obj,fn){if(obj instanceof Map){obj.forEach(fn);}else{Object.keys(obj).forEach(function(k){return fn(obj[k],k)});}};return DefaultKeyValueDiffer}();var KeyValueChangeRecord=function(){function KeyValueChangeRecord(key){this.key=key;this.previousValue=null;this.currentValue=null;this._nextPrevious=null;this._next=null;this._nextAdded=null;this._nextRemoved=null;this._prevRemoved=null;this._nextChanged=null;}KeyValueChangeRecord.prototype.toString=function(){return looseIdentical(this.previousValue,this.currentValue)?stringify(this.key):stringify(this.key)+"["+stringify(this.previousValue)+"->"+stringify(this.currentValue)+"]"};return KeyValueChangeRecord}();

var IterableDiffers=function(){function IterableDiffers(factories){this.factories=factories;}IterableDiffers.create=function(factories,parent){if(isPresent(parent)){var copied=parent.factories.slice();factories=factories.concat(copied);return new IterableDiffers(factories)}else{return new IterableDiffers(factories)}};IterableDiffers.extend=function(factories){return{provide:IterableDiffers,useFactory:function useFactory(parent){if(!parent){throw new Error('Cannot extend IterableDiffers without a parent injector')}return IterableDiffers.create(factories,parent)},deps:[[IterableDiffers,new SkipSelf,new Optional]]}};IterableDiffers.prototype.find=function(iterable){var factory=this.factories.find(function(f){return f.supports(iterable)});if(isPresent(factory)){return factory}else{throw new Error('Cannot find a differ supporting object \''+iterable+'\' of type \''+getTypeNameForDebugging(iterable)+'\'')}};return IterableDiffers}();

var KeyValueDiffers=function(){function KeyValueDiffers(factories){this.factories=factories;}KeyValueDiffers.create=function(factories,parent){if(isPresent(parent)){var copied=parent.factories.slice();factories=factories.concat(copied);return new KeyValueDiffers(factories)}else{return new KeyValueDiffers(factories)}};KeyValueDiffers.extend=function(factories){return{provide:KeyValueDiffers,useFactory:function useFactory(parent){if(!parent){throw new Error('Cannot extend KeyValueDiffers without a parent injector')}return KeyValueDiffers.create(factories,parent)},deps:[[KeyValueDiffers,new SkipSelf,new Optional]]}};KeyValueDiffers.prototype.find=function(kv){var factory=this.factories.find(function(f){return f.supports(kv)});if(isPresent(factory)){return factory}else{throw new Error('Cannot find a differ supporting object \''+kv+'\'')}};return KeyValueDiffers}();

var UNINITIALIZED={toString:function toString(){return'CD_INIT_VALUE'}};function devModeEqual(a,b){if(isListLikeIterable(a)&&isListLikeIterable(b)){return areIterablesEqual(a,b,devModeEqual)}else if(!isListLikeIterable(a)&&!isPrimitive(a)&&!isListLikeIterable(b)&&!isPrimitive(b)){return true}else{return looseIdentical(a,b)}}var WrappedValue=function(){function WrappedValue(wrapped){this.wrapped=wrapped;}WrappedValue.wrap=function(value){return new WrappedValue(value)};return WrappedValue}();var ValueUnwrapper=function(){function ValueUnwrapper(){this.hasWrappedValue=false;}ValueUnwrapper.prototype.unwrap=function(value){if(value instanceof WrappedValue){this.hasWrappedValue=true;return value.wrapped}return value};ValueUnwrapper.prototype.reset=function(){this.hasWrappedValue=false;};return ValueUnwrapper}();var SimpleChange=function(){function SimpleChange(previousValue,currentValue){this.previousValue=previousValue;this.currentValue=currentValue;}SimpleChange.prototype.isFirstChange=function(){return this.previousValue===UNINITIALIZED};return SimpleChange}();

var ChangeDetectorRef=function(){function ChangeDetectorRef(){}ChangeDetectorRef.prototype.markForCheck=function(){};ChangeDetectorRef.prototype.detach=function(){};ChangeDetectorRef.prototype.detectChanges=function(){};ChangeDetectorRef.prototype.checkNoChanges=function(){};ChangeDetectorRef.prototype.reattach=function(){};return ChangeDetectorRef}();

var keyValDiff=[new DefaultKeyValueDifferFactory];var iterableDiff=[new DefaultIterableDifferFactory];var defaultIterableDiffers=new IterableDiffers(iterableDiff);var defaultKeyValueDiffers=new KeyValueDiffers(keyValDiff);

var RenderComponentType=function(){function RenderComponentType(id,templateUrl,slotCount,encapsulation,styles,animations){this.id=id;this.templateUrl=templateUrl;this.slotCount=slotCount;this.encapsulation=encapsulation;this.styles=styles;this.animations=animations;}return RenderComponentType}();var RenderDebugInfo=function(){function RenderDebugInfo(){}Object.defineProperty(RenderDebugInfo.prototype,"injector",{get:function get(){return unimplemented()},enumerable:true,configurable:true});Object.defineProperty(RenderDebugInfo.prototype,"component",{get:function get(){return unimplemented()},enumerable:true,configurable:true});Object.defineProperty(RenderDebugInfo.prototype,"providerTokens",{get:function get(){return unimplemented()},enumerable:true,configurable:true});Object.defineProperty(RenderDebugInfo.prototype,"references",{get:function get(){return unimplemented()},enumerable:true,configurable:true});Object.defineProperty(RenderDebugInfo.prototype,"context",{get:function get(){return unimplemented()},enumerable:true,configurable:true});Object.defineProperty(RenderDebugInfo.prototype,"source",{get:function get(){return unimplemented()},enumerable:true,configurable:true});return RenderDebugInfo}();var Renderer=function(){function Renderer(){}Renderer.prototype.selectRootElement=function(selectorOrNode,debugInfo){};Renderer.prototype.createElement=function(parentElement,name,debugInfo){};Renderer.prototype.createViewRoot=function(hostElement){};Renderer.prototype.createTemplateAnchor=function(parentElement,debugInfo){};Renderer.prototype.createText=function(parentElement,value,debugInfo){};Renderer.prototype.projectNodes=function(parentElement,nodes){};Renderer.prototype.attachViewAfter=function(node,viewRootNodes){};Renderer.prototype.detachView=function(viewRootNodes){};Renderer.prototype.destroyView=function(hostElement,viewAllNodes){};Renderer.prototype.listen=function(renderElement,name,callback){};Renderer.prototype.listenGlobal=function(target,name,callback){};Renderer.prototype.setElementProperty=function(renderElement,propertyName,propertyValue){};Renderer.prototype.setElementAttribute=function(renderElement,attributeName,attributeValue){};Renderer.prototype.setBindingDebugInfo=function(renderElement,propertyName,propertyValue){};Renderer.prototype.setElementClass=function(renderElement,className,isAdd){};Renderer.prototype.setElementStyle=function(renderElement,styleName,styleValue){};Renderer.prototype.invokeElementMethod=function(renderElement,methodName,args){};Renderer.prototype.setText=function(renderNode,text){};Renderer.prototype.animate=function(element,startingStyles,keyframes,duration,delay,easing,previousPlayers){};return Renderer}();var RootRenderer=function(){function RootRenderer(){}RootRenderer.prototype.renderComponent=function(componentType){};return RootRenderer}();

var SecurityContext={};SecurityContext.NONE=0;SecurityContext.HTML=1;SecurityContext.STYLE=2;SecurityContext.SCRIPT=3;SecurityContext.URL=4;SecurityContext.RESOURCE_URL=5;SecurityContext[SecurityContext.NONE]="NONE";SecurityContext[SecurityContext.HTML]="HTML";SecurityContext[SecurityContext.STYLE]="STYLE";SecurityContext[SecurityContext.SCRIPT]="SCRIPT";SecurityContext[SecurityContext.URL]="URL";SecurityContext[SecurityContext.RESOURCE_URL]="RESOURCE_URL";var Sanitizer=function(){function Sanitizer(){}Sanitizer.prototype.sanitize=function(context,value){};return Sanitizer}();

var __extends$12=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var ExpressionChangedAfterItHasBeenCheckedError=function(_super){__extends$12(ExpressionChangedAfterItHasBeenCheckedError,_super);function ExpressionChangedAfterItHasBeenCheckedError(oldValue,currValue){var msg='Expression has changed after it was checked. Previous value: \''+oldValue+'\'. Current value: \''+currValue+'\'.';if(oldValue===UNINITIALIZED){msg+=' It seems like the view has been created after its parent and its children have been dirty checked.'+' Has it been created in a change detection hook ?';}_super.call(this,msg);}return ExpressionChangedAfterItHasBeenCheckedError}(BaseError);var ViewWrappedError=function(_super){__extends$12(ViewWrappedError,_super);function ViewWrappedError(originalError,context){_super.call(this,'Error in '+context.source,originalError);this.context=context;}return ViewWrappedError}(WrappedError);var ViewDestroyedError=function(_super){__extends$12(ViewDestroyedError,_super);function ViewDestroyedError(details){_super.call(this,'Attempt to use a destroyed view: '+details);}return ViewDestroyedError}(BaseError);

var ViewUtils=function(){function ViewUtils(_renderer,sanitizer,animationQueue){this._renderer=_renderer;this.animationQueue=animationQueue;this._nextCompTypeId=0;this.sanitizer=sanitizer;}ViewUtils.prototype.renderComponent=function(renderComponentType){return this._renderer.renderComponent(renderComponentType)};ViewUtils.decorators=[{type:Injectable}];ViewUtils.ctorParameters=function(){return[{type:RootRenderer},{type:Sanitizer},{type:AnimationQueue}]};return ViewUtils}();var nextRenderComponentTypeId=0;function createRenderComponentType(templateUrl,slotCount,encapsulation,styles,animations){return new RenderComponentType(''+nextRenderComponentTypeId++,templateUrl,slotCount,encapsulation,styles,animations)}function addToArray(e,array){array.push(e);}function interpolate(valueCount,constAndInterp){var result='';for(var i=0;i<valueCount*2;i=i+2){result=result+constAndInterp[i]+_toStringWithNull(constAndInterp[i+1]);}return result+constAndInterp[valueCount*2]}function inlineInterpolate(valueCount,c0,a1,c1,a2,c2,a3,c3,a4,c4,a5,c5,a6,c6,a7,c7,a8,c8,a9,c9){switch(valueCount){case 1:return c0+_toStringWithNull(a1)+c1;case 2:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2;case 3:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3;case 4:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4;case 5:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5;case 6:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6;case 7:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6+_toStringWithNull(a7)+c7;case 8:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6+_toStringWithNull(a7)+c7+_toStringWithNull(a8)+c8;case 9:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6+_toStringWithNull(a7)+c7+_toStringWithNull(a8)+c8+_toStringWithNull(a9)+c9;default:throw new Error('Does not support more than 9 expressions');}}function _toStringWithNull(v){return v!=null?v.toString():''}function checkBinding(throwOnChange,oldValue,newValue){if(throwOnChange){if(!devModeEqual(oldValue,newValue)){throw new ExpressionChangedAfterItHasBeenCheckedError(oldValue,newValue)}return false}else{return!looseIdentical(oldValue,newValue)}}function castByValue(input,value){return input}var EMPTY_ARRAY=[];var EMPTY_MAP={};function pureProxy1(fn){var result;var v0=UNINITIALIZED;return function(p0){if(!looseIdentical(v0,p0)){v0=p0;result=fn(p0);}return result}}function pureProxy2(fn){var result;var v0=UNINITIALIZED;var v1=UNINITIALIZED;return function(p0,p1){if(!looseIdentical(v0,p0)||!looseIdentical(v1,p1)){v0=p0;v1=p1;result=fn(p0,p1);}return result}}function pureProxy3(fn){var result;var v0=UNINITIALIZED;var v1=UNINITIALIZED;var v2=UNINITIALIZED;return function(p0,p1,p2){if(!looseIdentical(v0,p0)||!looseIdentical(v1,p1)||!looseIdentical(v2,p2)){v0=p0;v1=p1;v2=p2;result=fn(p0,p1,p2);}return result}}function pureProxy4(fn){var result;var v0,v1,v2,v3;v0=v1=v2=v3=UNINITIALIZED;return function(p0,p1,p2,p3){if(!looseIdentical(v0,p0)||!looseIdentical(v1,p1)||!looseIdentical(v2,p2)||!looseIdentical(v3,p3)){v0=p0;v1=p1;v2=p2;v3=p3;result=fn(p0,p1,p2,p3);}return result}}function pureProxy5(fn){var result;var v0,v1,v2,v3,v4;v0=v1=v2=v3=v4=UNINITIALIZED;return function(p0,p1,p2,p3,p4){if(!looseIdentical(v0,p0)||!looseIdentical(v1,p1)||!looseIdentical(v2,p2)||!looseIdentical(v3,p3)||!looseIdentical(v4,p4)){v0=p0;v1=p1;v2=p2;v3=p3;v4=p4;result=fn(p0,p1,p2,p3,p4);}return result}}function pureProxy6(fn){var result;var v0,v1,v2,v3,v4,v5;v0=v1=v2=v3=v4=v5=UNINITIALIZED;return function(p0,p1,p2,p3,p4,p5){if(!looseIdentical(v0,p0)||!looseIdentical(v1,p1)||!looseIdentical(v2,p2)||!looseIdentical(v3,p3)||!looseIdentical(v4,p4)||!looseIdentical(v5,p5)){v0=p0;v1=p1;v2=p2;v3=p3;v4=p4;v5=p5;result=fn(p0,p1,p2,p3,p4,p5);}return result}}function pureProxy7(fn){var result;var v0,v1,v2,v3,v4,v5,v6;v0=v1=v2=v3=v4=v5=v6=UNINITIALIZED;return function(p0,p1,p2,p3,p4,p5,p6){if(!looseIdentical(v0,p0)||!looseIdentical(v1,p1)||!looseIdentical(v2,p2)||!looseIdentical(v3,p3)||!looseIdentical(v4,p4)||!looseIdentical(v5,p5)||!looseIdentical(v6,p6)){v0=p0;v1=p1;v2=p2;v3=p3;v4=p4;v5=p5;v6=p6;result=fn(p0,p1,p2,p3,p4,p5,p6);}return result}}function pureProxy8(fn){var result;var v0,v1,v2,v3,v4,v5,v6,v7;v0=v1=v2=v3=v4=v5=v6=v7=UNINITIALIZED;return function(p0,p1,p2,p3,p4,p5,p6,p7){if(!looseIdentical(v0,p0)||!looseIdentical(v1,p1)||!looseIdentical(v2,p2)||!looseIdentical(v3,p3)||!looseIdentical(v4,p4)||!looseIdentical(v5,p5)||!looseIdentical(v6,p6)||!looseIdentical(v7,p7)){v0=p0;v1=p1;v2=p2;v3=p3;v4=p4;v5=p5;v6=p6;v7=p7;result=fn(p0,p1,p2,p3,p4,p5,p6,p7);}return result}}function pureProxy9(fn){var result;var v0,v1,v2,v3,v4,v5,v6,v7,v8;v0=v1=v2=v3=v4=v5=v6=v7=v8=UNINITIALIZED;return function(p0,p1,p2,p3,p4,p5,p6,p7,p8){if(!looseIdentical(v0,p0)||!looseIdentical(v1,p1)||!looseIdentical(v2,p2)||!looseIdentical(v3,p3)||!looseIdentical(v4,p4)||!looseIdentical(v5,p5)||!looseIdentical(v6,p6)||!looseIdentical(v7,p7)||!looseIdentical(v8,p8)){v0=p0;v1=p1;v2=p2;v3=p3;v4=p4;v5=p5;v6=p6;v7=p7;v8=p8;result=fn(p0,p1,p2,p3,p4,p5,p6,p7,p8);}return result}}function pureProxy10(fn){var result;var v0,v1,v2,v3,v4,v5,v6,v7,v8,v9;v0=v1=v2=v3=v4=v5=v6=v7=v8=v9=UNINITIALIZED;return function(p0,p1,p2,p3,p4,p5,p6,p7,p8,p9){if(!looseIdentical(v0,p0)||!looseIdentical(v1,p1)||!looseIdentical(v2,p2)||!looseIdentical(v3,p3)||!looseIdentical(v4,p4)||!looseIdentical(v5,p5)||!looseIdentical(v6,p6)||!looseIdentical(v7,p7)||!looseIdentical(v8,p8)||!looseIdentical(v9,p9)){v0=p0;v1=p1;v2=p2;v3=p3;v4=p4;v5=p5;v6=p6;v7=p7;v8=p8;v9=p9;result=fn(p0,p1,p2,p3,p4,p5,p6,p7,p8,p9);}return result}}function setBindingDebugInfoForChanges(renderer,el,changes){Object.keys(changes).forEach(function(propName){setBindingDebugInfo(renderer,el,propName,changes[propName].currentValue);});}function setBindingDebugInfo(renderer,el,propName,value){try{renderer.setBindingDebugInfo(el,'ng-reflect-'+camelCaseToDashCase(propName),value?value.toString():null);}catch(e){renderer.setBindingDebugInfo(el,'ng-reflect-'+camelCaseToDashCase(propName),'[ERROR] Exception while trying to serialize the value');}}var CAMEL_CASE_REGEXP=/([A-Z])/g;function camelCaseToDashCase(input){return input.replace(CAMEL_CASE_REGEXP,function(){var m=[];for(var _i=0;_i<arguments.length;_i++){m[_i-0]=arguments[_i];}return'-'+m[1].toLowerCase()})}function createRenderElement(renderer,parentElement,name,attrs,debugInfo){var el=renderer.createElement(parentElement,name,debugInfo);for(var i=0;i<attrs.length;i+=2){renderer.setElementAttribute(el,attrs.get(i),attrs.get(i+1));}return el}function selectOrCreateRenderHostElement(renderer,elementName,attrs,rootSelectorOrNode,debugInfo){var hostElement;if(isPresent(rootSelectorOrNode)){hostElement=renderer.selectRootElement(rootSelectorOrNode,debugInfo);for(var i=0;i<attrs.length;i+=2){renderer.setElementAttribute(hostElement,attrs.get(i),attrs.get(i+1));}renderer.setElementAttribute(hostElement,'ng-version',VERSION.full);}else{hostElement=createRenderElement(renderer,null,elementName,attrs,debugInfo);}return hostElement}function subscribeToRenderElement(view,element,eventNamesAndTargets,listener){var disposables=createEmptyInlineArray(eventNamesAndTargets.length/2);for(var i=0;i<eventNamesAndTargets.length;i+=2){var eventName=eventNamesAndTargets.get(i);var eventTarget=eventNamesAndTargets.get(i+1);var disposable=void 0;if(eventTarget){disposable=view.renderer.listenGlobal(eventTarget,eventName,listener.bind(view,eventTarget+':'+eventName));}else{disposable=view.renderer.listen(element,eventName,listener.bind(view,eventName));}disposables.set(i/2,disposable);}return disposeInlineArray.bind(null,disposables)}function disposeInlineArray(disposables){for(var i=0;i<disposables.length;i++){disposables.get(i)();}}function noop(){}function createEmptyInlineArray(length){var ctor;if(length<=2){ctor=InlineArray2;}else if(length<=4){ctor=InlineArray4;}else if(length<=8){ctor=InlineArray8;}else if(length<=16){ctor=InlineArray16;}else{ctor=InlineArrayDynamic;}return new ctor(length)}var InlineArray0=function(){function InlineArray0(){this.length=0;}InlineArray0.prototype.get=function(index){return undefined};InlineArray0.prototype.set=function(index,value){};return InlineArray0}();var InlineArray2=function(){function InlineArray2(length,_v0,_v1){this.length=length;this._v0=_v0;this._v1=_v1;}InlineArray2.prototype.get=function(index){switch(index){case 0:return this._v0;case 1:return this._v1;default:return undefined;}};InlineArray2.prototype.set=function(index,value){switch(index){case 0:this._v0=value;break;case 1:this._v1=value;break;}};return InlineArray2}();var InlineArray4=function(){function InlineArray4(length,_v0,_v1,_v2,_v3){this.length=length;this._v0=_v0;this._v1=_v1;this._v2=_v2;this._v3=_v3;}InlineArray4.prototype.get=function(index){switch(index){case 0:return this._v0;case 1:return this._v1;case 2:return this._v2;case 3:return this._v3;default:return undefined;}};InlineArray4.prototype.set=function(index,value){switch(index){case 0:this._v0=value;break;case 1:this._v1=value;break;case 2:this._v2=value;break;case 3:this._v3=value;break;}};return InlineArray4}();var InlineArray8=function(){function InlineArray8(length,_v0,_v1,_v2,_v3,_v4,_v5,_v6,_v7){this.length=length;this._v0=_v0;this._v1=_v1;this._v2=_v2;this._v3=_v3;this._v4=_v4;this._v5=_v5;this._v6=_v6;this._v7=_v7;}InlineArray8.prototype.get=function(index){switch(index){case 0:return this._v0;case 1:return this._v1;case 2:return this._v2;case 3:return this._v3;case 4:return this._v4;case 5:return this._v5;case 6:return this._v6;case 7:return this._v7;default:return undefined;}};InlineArray8.prototype.set=function(index,value){switch(index){case 0:this._v0=value;break;case 1:this._v1=value;break;case 2:this._v2=value;break;case 3:this._v3=value;break;case 4:this._v4=value;break;case 5:this._v5=value;break;case 6:this._v6=value;break;case 7:this._v7=value;break;}};return InlineArray8}();var InlineArray16=function(){function InlineArray16(length,_v0,_v1,_v2,_v3,_v4,_v5,_v6,_v7,_v8,_v9,_v10,_v11,_v12,_v13,_v14,_v15){this.length=length;this._v0=_v0;this._v1=_v1;this._v2=_v2;this._v3=_v3;this._v4=_v4;this._v5=_v5;this._v6=_v6;this._v7=_v7;this._v8=_v8;this._v9=_v9;this._v10=_v10;this._v11=_v11;this._v12=_v12;this._v13=_v13;this._v14=_v14;this._v15=_v15;}InlineArray16.prototype.get=function(index){switch(index){case 0:return this._v0;case 1:return this._v1;case 2:return this._v2;case 3:return this._v3;case 4:return this._v4;case 5:return this._v5;case 6:return this._v6;case 7:return this._v7;case 8:return this._v8;case 9:return this._v9;case 10:return this._v10;case 11:return this._v11;case 12:return this._v12;case 13:return this._v13;case 14:return this._v14;case 15:return this._v15;default:return undefined;}};InlineArray16.prototype.set=function(index,value){switch(index){case 0:this._v0=value;break;case 1:this._v1=value;break;case 2:this._v2=value;break;case 3:this._v3=value;break;case 4:this._v4=value;break;case 5:this._v5=value;break;case 6:this._v6=value;break;case 7:this._v7=value;break;case 8:this._v8=value;break;case 9:this._v9=value;break;case 10:this._v10=value;break;case 11:this._v11=value;break;case 12:this._v12=value;break;case 13:this._v13=value;break;case 14:this._v14=value;break;case 15:this._v15=value;break;}};return InlineArray16}();var InlineArrayDynamic=function(){function InlineArrayDynamic(length){var values=[];for(var _i=1;_i<arguments.length;_i++){values[_i-1]=arguments[_i];}this.length=length;this._values=values;}InlineArrayDynamic.prototype.get=function(index){return this._values[index]};InlineArrayDynamic.prototype.set=function(index,value){this._values[index]=value;};return InlineArrayDynamic}();var EMPTY_INLINE_ARRAY=new InlineArray0;

var view_utils = Object.freeze({
	ViewUtils: ViewUtils,
	createRenderComponentType: createRenderComponentType,
	addToArray: addToArray,
	interpolate: interpolate,
	inlineInterpolate: inlineInterpolate,
	checkBinding: checkBinding,
	castByValue: castByValue,
	EMPTY_ARRAY: EMPTY_ARRAY,
	EMPTY_MAP: EMPTY_MAP,
	pureProxy1: pureProxy1,
	pureProxy2: pureProxy2,
	pureProxy3: pureProxy3,
	pureProxy4: pureProxy4,
	pureProxy5: pureProxy5,
	pureProxy6: pureProxy6,
	pureProxy7: pureProxy7,
	pureProxy8: pureProxy8,
	pureProxy9: pureProxy9,
	pureProxy10: pureProxy10,
	setBindingDebugInfoForChanges: setBindingDebugInfoForChanges,
	setBindingDebugInfo: setBindingDebugInfo,
	createRenderElement: createRenderElement,
	selectOrCreateRenderHostElement: selectOrCreateRenderHostElement,
	subscribeToRenderElement: subscribeToRenderElement,
	noop: noop,
	InlineArray2: InlineArray2,
	InlineArray4: InlineArray4,
	InlineArray8: InlineArray8,
	InlineArray16: InlineArray16,
	InlineArrayDynamic: InlineArrayDynamic,
	EMPTY_INLINE_ARRAY: EMPTY_INLINE_ARRAY
});

var __extends$5=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var ComponentRef=function(){function ComponentRef(){}Object.defineProperty(ComponentRef.prototype,'location',{get:function get(){return unimplemented()},enumerable:true,configurable:true});Object.defineProperty(ComponentRef.prototype,'injector',{get:function get(){return unimplemented()},enumerable:true,configurable:true});Object.defineProperty(ComponentRef.prototype,'instance',{get:function get(){return unimplemented()},enumerable:true,configurable:true});Object.defineProperty(ComponentRef.prototype,'hostView',{get:function get(){return unimplemented()},enumerable:true,configurable:true});Object.defineProperty(ComponentRef.prototype,'changeDetectorRef',{get:function get(){return unimplemented()},enumerable:true,configurable:true});Object.defineProperty(ComponentRef.prototype,'componentType',{get:function get(){return unimplemented()},enumerable:true,configurable:true});ComponentRef.prototype.destroy=function(){};ComponentRef.prototype.onDestroy=function(callback){};return ComponentRef}();var ComponentRef_=function(_super){__extends$5(ComponentRef_,_super);function ComponentRef_(_index,_parentView,_nativeElement,_component){_super.call(this);this._index=_index;this._parentView=_parentView;this._nativeElement=_nativeElement;this._component=_component;}Object.defineProperty(ComponentRef_.prototype,'location',{get:function get(){return new ElementRef(this._nativeElement)},enumerable:true,configurable:true});Object.defineProperty(ComponentRef_.prototype,'injector',{get:function get(){return this._parentView.injector(this._index)},enumerable:true,configurable:true});Object.defineProperty(ComponentRef_.prototype,'instance',{get:function get(){return this._component},enumerable:true,configurable:true});Object.defineProperty(ComponentRef_.prototype,'hostView',{get:function get(){return this._parentView.ref},enumerable:true,configurable:true});Object.defineProperty(ComponentRef_.prototype,'changeDetectorRef',{get:function get(){return this._parentView.ref},enumerable:true,configurable:true});Object.defineProperty(ComponentRef_.prototype,'componentType',{get:function get(){return this._component.constructor},enumerable:true,configurable:true});ComponentRef_.prototype.destroy=function(){this._parentView.detachAndDestroy();};ComponentRef_.prototype.onDestroy=function(callback){this.hostView.onDestroy(callback);};return ComponentRef_}(ComponentRef);var ComponentFactory=function(){function ComponentFactory(selector,_viewClass,_componentType){this.selector=selector;this._viewClass=_viewClass;this._componentType=_componentType;}Object.defineProperty(ComponentFactory.prototype,'componentType',{get:function get(){return this._componentType},enumerable:true,configurable:true});ComponentFactory.prototype.create=function(injector,projectableNodes,rootSelectorOrNode){if(projectableNodes===void 0){projectableNodes=null;}if(rootSelectorOrNode===void 0){rootSelectorOrNode=null;}var vu=injector.get(ViewUtils);if(!projectableNodes){projectableNodes=[];}var hostView=new this._viewClass(vu,null,null,null);return hostView.createHostView(rootSelectorOrNode,injector,projectableNodes)};return ComponentFactory}();

var __extends$13=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var NoComponentFactoryError=function(_super){__extends$13(NoComponentFactoryError,_super);function NoComponentFactoryError(component){_super.call(this,'No component factory found for '+stringify(component));this.component=component;}return NoComponentFactoryError}(BaseError);var _NullComponentFactoryResolver=function(){function _NullComponentFactoryResolver(){}_NullComponentFactoryResolver.prototype.resolveComponentFactory=function(component){throw new NoComponentFactoryError(component)};return _NullComponentFactoryResolver}();var ComponentFactoryResolver=function(){function ComponentFactoryResolver(){}ComponentFactoryResolver.prototype.resolveComponentFactory=function(component){};ComponentFactoryResolver.NULL=new _NullComponentFactoryResolver;return ComponentFactoryResolver}();var CodegenComponentFactoryResolver=function(){function CodegenComponentFactoryResolver(factories,_parent){this._parent=_parent;this._factories=new Map;for(var i=0;i<factories.length;i++){var factory=factories[i];this._factories.set(factory.componentType,factory);}}CodegenComponentFactoryResolver.prototype.resolveComponentFactory=function(component){var result=this._factories.get(component);if(!result){result=this._parent.resolveComponentFactory(component);}return result};return CodegenComponentFactoryResolver}();

var trace;var events;function detectWTF(){var wtf=_global['wtf'];if(wtf){trace=wtf['trace'];if(trace){events=trace['events'];return true}}return false}function createScope$1(signature,flags){if(flags===void 0){flags=null;}return events.createScope(signature,flags)}function leave(scope,returnValue){trace.leaveScope(scope,returnValue);return returnValue}

var wtfEnabled=detectWTF();function noopScope(arg0,arg1){return null}var wtfCreateScope=wtfEnabled?createScope$1:function(signature,flags){return noopScope};var wtfLeave=wtfEnabled?leave:function(s,r){return r};

var Testability=function(){function Testability(_ngZone){this._ngZone=_ngZone;this._pendingCount=0;this._isZoneStable=true;this._didWork=false;this._callbacks=[];this._watchAngularEvents();}Testability.prototype._watchAngularEvents=function(){var _this=this;this._ngZone.onUnstable.subscribe({next:function next(){_this._didWork=true;_this._isZoneStable=false;}});this._ngZone.runOutsideAngular(function(){_this._ngZone.onStable.subscribe({next:function next(){NgZone.assertNotInAngularZone();scheduleMicroTask(function(){_this._isZoneStable=true;_this._runCallbacksIfReady();});}});});};Testability.prototype.increasePendingRequestCount=function(){this._pendingCount+=1;this._didWork=true;return this._pendingCount};Testability.prototype.decreasePendingRequestCount=function(){this._pendingCount-=1;if(this._pendingCount<0){throw new Error('pending async requests below zero')}this._runCallbacksIfReady();return this._pendingCount};Testability.prototype.isStable=function(){return this._isZoneStable&&this._pendingCount==0&&!this._ngZone.hasPendingMacrotasks};Testability.prototype._runCallbacksIfReady=function(){var _this=this;if(this.isStable()){scheduleMicroTask(function(){while(_this._callbacks.length!==0){_this._callbacks.pop()(_this._didWork);}_this._didWork=false;});}else{this._didWork=true;}};Testability.prototype.whenStable=function(callback){this._callbacks.push(callback);this._runCallbacksIfReady();};Testability.prototype.getPendingRequestCount=function(){return this._pendingCount};Testability.prototype.findBindings=function(using,provider,exactMatch){return[]};Testability.prototype.findProviders=function(using,provider,exactMatch){return[]};Testability.decorators=[{type:Injectable}];Testability.ctorParameters=function(){return[{type:NgZone}]};return Testability}();var TestabilityRegistry=function(){function TestabilityRegistry(){this._applications=new Map;_testabilityGetter.addToWindow(this);}TestabilityRegistry.prototype.registerApplication=function(token,testability){this._applications.set(token,testability);};TestabilityRegistry.prototype.getTestability=function(elem){return this._applications.get(elem)};TestabilityRegistry.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())};TestabilityRegistry.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())};TestabilityRegistry.prototype.findTestabilityInTree=function(elem,findInAncestors){if(findInAncestors===void 0){findInAncestors=true;}return _testabilityGetter.findTestabilityInTree(this,elem,findInAncestors)};TestabilityRegistry.decorators=[{type:Injectable}];TestabilityRegistry.ctorParameters=function(){return[]};return TestabilityRegistry}();var _NoopGetTestability=function(){function _NoopGetTestability(){}_NoopGetTestability.prototype.addToWindow=function(registry){};_NoopGetTestability.prototype.findTestabilityInTree=function(registry,elem,findInAncestors){return null};return _NoopGetTestability}();function setTestabilityGetter(getter){_testabilityGetter=getter;}var _testabilityGetter=new _NoopGetTestability;

var __extends$3=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var _devMode=true;var _runModeLocked=false;var _platform;function enableProdMode(){if(_runModeLocked){throw new Error('Cannot enable prod mode after platform setup.')}_devMode=false;}function isDevMode(){_runModeLocked=true;return _devMode}var NgProbeToken=function(){function NgProbeToken(name,token){this.name=name;this.token=token;}return NgProbeToken}();function createPlatform(injector){if(_platform&&!_platform.destroyed){throw new Error('There can be only one platform. Destroy the previous one to create a new one.')}_platform=injector.get(PlatformRef);var inits=injector.get(PLATFORM_INITIALIZER,null);if(inits)inits.forEach(function(init){return init()});return _platform}function createPlatformFactory(parentPlaformFactory,name,providers){if(providers===void 0){providers=[];}var marker=new OpaqueToken('Platform: '+name);return function(extraProviders){if(extraProviders===void 0){extraProviders=[];}if(!getPlatform()){if(parentPlaformFactory){parentPlaformFactory(providers.concat(extraProviders).concat({provide:marker,useValue:true}));}else{createPlatform(ReflectiveInjector.resolveAndCreate(providers.concat(extraProviders).concat({provide:marker,useValue:true})));}}return assertPlatform(marker)}}function assertPlatform(requiredToken){var platform=getPlatform();if(!platform){throw new Error('No platform exists!')}if(!platform.injector.get(requiredToken,null)){throw new Error('A platform with a different configuration has been created. Please destroy it first.')}return platform}function getPlatform(){return _platform&&!_platform.destroyed?_platform:null}var PlatformRef=function(){function PlatformRef(){}PlatformRef.prototype.bootstrapModuleFactory=function(moduleFactory){throw unimplemented()};PlatformRef.prototype.bootstrapModule=function(moduleType,compilerOptions){if(compilerOptions===void 0){compilerOptions=[];}throw unimplemented()};PlatformRef.prototype.onDestroy=function(callback){};Object.defineProperty(PlatformRef.prototype,'injector',{get:function get(){throw unimplemented()},enumerable:true,configurable:true});PlatformRef.prototype.destroy=function(){};Object.defineProperty(PlatformRef.prototype,'destroyed',{get:function get(){throw unimplemented()},enumerable:true,configurable:true});return PlatformRef}();function _callAndReportToErrorHandler(errorHandler,callback){try{var result=callback();if(isPromise(result)){return result.catch(function(e){errorHandler.handleError(e);throw e})}return result}catch(e){errorHandler.handleError(e);throw e}}var PlatformRef_=function(_super){__extends$3(PlatformRef_,_super);function PlatformRef_(_injector){_super.call(this);this._injector=_injector;this._modules=[];this._destroyListeners=[];this._destroyed=false;}PlatformRef_.prototype.onDestroy=function(callback){this._destroyListeners.push(callback);};Object.defineProperty(PlatformRef_.prototype,'injector',{get:function get(){return this._injector},enumerable:true,configurable:true});Object.defineProperty(PlatformRef_.prototype,'destroyed',{get:function get(){return this._destroyed},enumerable:true,configurable:true});PlatformRef_.prototype.destroy=function(){if(this._destroyed){throw new Error('The platform has already been destroyed!')}this._modules.slice().forEach(function(module){return module.destroy()});this._destroyListeners.forEach(function(listener){return listener()});this._destroyed=true;};PlatformRef_.prototype.bootstrapModuleFactory=function(moduleFactory){return this._bootstrapModuleFactoryWithZone(moduleFactory,null)};PlatformRef_.prototype._bootstrapModuleFactoryWithZone=function(moduleFactory,ngZone){var _this=this;if(!ngZone)ngZone=new NgZone({enableLongStackTrace:isDevMode()});return ngZone.run(function(){var ngZoneInjector=ReflectiveInjector.resolveAndCreate([{provide:NgZone,useValue:ngZone}],_this.injector);var moduleRef=moduleFactory.create(ngZoneInjector);var exceptionHandler=moduleRef.injector.get(ErrorHandler,null);if(!exceptionHandler){throw new Error('No ErrorHandler. Is platform module (BrowserModule) included?')}moduleRef.onDestroy(function(){return ListWrapper.remove(_this._modules,moduleRef)});ngZone.onError.subscribe({next:function next(error){exceptionHandler.handleError(error);}});return _callAndReportToErrorHandler(exceptionHandler,function(){var initStatus=moduleRef.injector.get(ApplicationInitStatus);return initStatus.donePromise.then(function(){_this._moduleDoBootstrap(moduleRef);return moduleRef})})})};PlatformRef_.prototype.bootstrapModule=function(moduleType,compilerOptions){if(compilerOptions===void 0){compilerOptions=[];}return this._bootstrapModuleWithZone(moduleType,compilerOptions,null)};PlatformRef_.prototype._bootstrapModuleWithZone=function(moduleType,compilerOptions,ngZone,componentFactoryCallback){var _this=this;if(compilerOptions===void 0){compilerOptions=[];}var compilerFactory=this.injector.get(CompilerFactory);var compiler=compilerFactory.createCompiler(Array.isArray(compilerOptions)?compilerOptions:[compilerOptions]);if(componentFactoryCallback){return compiler.compileModuleAndAllComponentsAsync(moduleType).then(function(_a){var ngModuleFactory=_a.ngModuleFactory,componentFactories=_a.componentFactories;componentFactoryCallback(componentFactories);return _this._bootstrapModuleFactoryWithZone(ngModuleFactory,ngZone)})}return compiler.compileModuleAsync(moduleType).then(function(moduleFactory){return _this._bootstrapModuleFactoryWithZone(moduleFactory,ngZone)})};PlatformRef_.prototype._moduleDoBootstrap=function(moduleRef){var appRef=moduleRef.injector.get(ApplicationRef);if(moduleRef.bootstrapFactories.length>0){moduleRef.bootstrapFactories.forEach(function(compFactory){return appRef.bootstrap(compFactory)});}else if(moduleRef.instance.ngDoBootstrap){moduleRef.instance.ngDoBootstrap(appRef);}else{throw new Error('The module '+stringify(moduleRef.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. '+'Please define one of these.')}};PlatformRef_.decorators=[{type:Injectable}];PlatformRef_.ctorParameters=function(){return[{type:Injector}]};return PlatformRef_}(PlatformRef);var ApplicationRef=function(){function ApplicationRef(){}ApplicationRef.prototype.bootstrap=function(componentFactory){};ApplicationRef.prototype.tick=function(){};Object.defineProperty(ApplicationRef.prototype,'componentTypes',{get:function get(){return unimplemented()},enumerable:true,configurable:true});Object.defineProperty(ApplicationRef.prototype,'components',{get:function get(){return unimplemented()},enumerable:true,configurable:true});ApplicationRef.prototype.attachView=function(view){unimplemented();};ApplicationRef.prototype.detachView=function(view){unimplemented();};Object.defineProperty(ApplicationRef.prototype,'viewCount',{get:function get(){return unimplemented()},enumerable:true,configurable:true});return ApplicationRef}();var ApplicationRef_=function(_super){__extends$3(ApplicationRef_,_super);function ApplicationRef_(_zone,_console,_injector,_exceptionHandler,_componentFactoryResolver,_initStatus,_testabilityRegistry,_testability){var _this=this;_super.call(this);this._zone=_zone;this._console=_console;this._injector=_injector;this._exceptionHandler=_exceptionHandler;this._componentFactoryResolver=_componentFactoryResolver;this._initStatus=_initStatus;this._testabilityRegistry=_testabilityRegistry;this._testability=_testability;this._bootstrapListeners=[];this._rootComponents=[];this._rootComponentTypes=[];this._views=[];this._runningTick=false;this._enforceNoNewChanges=false;this._enforceNoNewChanges=isDevMode();this._zone.onMicrotaskEmpty.subscribe({next:function next(){_this._zone.run(function(){_this.tick();});}});}ApplicationRef_.prototype.attachView=function(viewRef){var view=viewRef.internalView;this._views.push(view);view.attachToAppRef(this);};ApplicationRef_.prototype.detachView=function(viewRef){var view=viewRef.internalView;ListWrapper.remove(this._views,view);view.detach();};ApplicationRef_.prototype.bootstrap=function(componentOrFactory){var _this=this;if(!this._initStatus.done){throw new Error('Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.')}var componentFactory;if(componentOrFactory instanceof ComponentFactory){componentFactory=componentOrFactory;}else{componentFactory=this._componentFactoryResolver.resolveComponentFactory(componentOrFactory);}this._rootComponentTypes.push(componentFactory.componentType);var compRef=componentFactory.create(this._injector,[],componentFactory.selector);compRef.onDestroy(function(){_this._unloadComponent(compRef);});var testability=compRef.injector.get(Testability,null);if(testability){compRef.injector.get(TestabilityRegistry).registerApplication(compRef.location.nativeElement,testability);}this._loadComponent(compRef);if(isDevMode()){this._console.log('Angular 2 is running in the development mode. Call enableProdMode() to enable the production mode.');}return compRef};ApplicationRef_.prototype._loadComponent=function(componentRef){this.attachView(componentRef.hostView);this.tick();this._rootComponents.push(componentRef);var listeners=this._injector.get(APP_BOOTSTRAP_LISTENER,[]).concat(this._bootstrapListeners);listeners.forEach(function(listener){return listener(componentRef)});};ApplicationRef_.prototype._unloadComponent=function(componentRef){this.detachView(componentRef.hostView);ListWrapper.remove(this._rootComponents,componentRef);};ApplicationRef_.prototype.tick=function(){if(this._runningTick){throw new Error('ApplicationRef.tick is called recursively')}var scope=ApplicationRef_._tickScope();try{this._runningTick=true;this._views.forEach(function(view){return view.ref.detectChanges()});if(this._enforceNoNewChanges){this._views.forEach(function(view){return view.ref.checkNoChanges()});}}finally{this._runningTick=false;wtfLeave(scope);}};ApplicationRef_.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(view){return view.destroy()});};Object.defineProperty(ApplicationRef_.prototype,'viewCount',{get:function get(){return this._views.length},enumerable:true,configurable:true});Object.defineProperty(ApplicationRef_.prototype,'componentTypes',{get:function get(){return this._rootComponentTypes},enumerable:true,configurable:true});Object.defineProperty(ApplicationRef_.prototype,'components',{get:function get(){return this._rootComponents},enumerable:true,configurable:true});ApplicationRef_._tickScope=wtfCreateScope('ApplicationRef#tick()');ApplicationRef_.decorators=[{type:Injectable}];ApplicationRef_.ctorParameters=function(){return[{type:NgZone},{type:Console},{type:Injector},{type:ErrorHandler},{type:ComponentFactoryResolver},{type:ApplicationInitStatus},{type:TestabilityRegistry,decorators:[{type:Optional}]},{type:Testability,decorators:[{type:Optional}]}]};return ApplicationRef_}(ApplicationRef);

var __extends$14=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var NgModuleRef=function(){function NgModuleRef(){}Object.defineProperty(NgModuleRef.prototype,'injector',{get:function get(){return unimplemented()},enumerable:true,configurable:true});Object.defineProperty(NgModuleRef.prototype,'componentFactoryResolver',{get:function get(){return unimplemented()},enumerable:true,configurable:true});Object.defineProperty(NgModuleRef.prototype,'instance',{get:function get(){return unimplemented()},enumerable:true,configurable:true});NgModuleRef.prototype.destroy=function(){};NgModuleRef.prototype.onDestroy=function(callback){};return NgModuleRef}();var NgModuleFactory=function(){function NgModuleFactory(_injectorClass,_moduleType){this._injectorClass=_injectorClass;this._moduleType=_moduleType;}Object.defineProperty(NgModuleFactory.prototype,'moduleType',{get:function get(){return this._moduleType},enumerable:true,configurable:true});NgModuleFactory.prototype.create=function(parentInjector){if(!parentInjector){parentInjector=Injector.NULL;}var instance=new this._injectorClass(parentInjector);instance.create();return instance};return NgModuleFactory}();var _UNDEFINED=new Object;var NgModuleInjector=function(_super){__extends$14(NgModuleInjector,_super);function NgModuleInjector(parent,factories,bootstrapFactories){_super.call(this,factories,parent.get(ComponentFactoryResolver,ComponentFactoryResolver.NULL));this.parent=parent;this.bootstrapFactories=bootstrapFactories;this._destroyListeners=[];this._destroyed=false;}NgModuleInjector.prototype.create=function(){this.instance=this.createInternal();};NgModuleInjector.prototype.createInternal=function(){};NgModuleInjector.prototype.get=function(token,notFoundValue){if(notFoundValue===void 0){notFoundValue=THROW_IF_NOT_FOUND;}if(token===Injector||token===ComponentFactoryResolver){return this}var result=this.getInternal(token,_UNDEFINED);return result===_UNDEFINED?this.parent.get(token,notFoundValue):result};NgModuleInjector.prototype.getInternal=function(token,notFoundValue){};Object.defineProperty(NgModuleInjector.prototype,'injector',{get:function get(){return this},enumerable:true,configurable:true});Object.defineProperty(NgModuleInjector.prototype,'componentFactoryResolver',{get:function get(){return this},enumerable:true,configurable:true});NgModuleInjector.prototype.destroy=function(){if(this._destroyed){throw new Error('The ng module '+stringify(this.instance.constructor)+' has already been destroyed.')}this._destroyed=true;this.destroyInternal();this._destroyListeners.forEach(function(listener){return listener()});};NgModuleInjector.prototype.onDestroy=function(callback){this._destroyListeners.push(callback);};NgModuleInjector.prototype.destroyInternal=function(){};return NgModuleInjector}(CodegenComponentFactoryResolver);

var NgModuleFactoryLoader=function(){function NgModuleFactoryLoader(){}NgModuleFactoryLoader.prototype.load=function(path){};return NgModuleFactoryLoader}();var moduleFactories=new Map;function registerModuleFactory(id,factory){var existing=moduleFactories.get(id);if(existing){throw new Error("Duplicate module registered for "+id+" - "+existing.moduleType.name+" vs "+factory.moduleType.name)}moduleFactories.set(id,factory);}

var QueryList=function(){function QueryList(){this._dirty=true;this._results=[];this._emitter=new EventEmitter;}Object.defineProperty(QueryList.prototype,'changes',{get:function get(){return this._emitter},enumerable:true,configurable:true});Object.defineProperty(QueryList.prototype,'length',{get:function get(){return this._results.length},enumerable:true,configurable:true});Object.defineProperty(QueryList.prototype,'first',{get:function get(){return this._results[0]},enumerable:true,configurable:true});Object.defineProperty(QueryList.prototype,'last',{get:function get(){return this._results[this.length-1]},enumerable:true,configurable:true});QueryList.prototype.map=function(fn){return this._results.map(fn)};QueryList.prototype.filter=function(fn){return this._results.filter(fn)};QueryList.prototype.find=function(fn){return this._results.find(fn)};QueryList.prototype.reduce=function(fn,init){return this._results.reduce(fn,init)};QueryList.prototype.forEach=function(fn){this._results.forEach(fn);};QueryList.prototype.some=function(fn){return this._results.some(fn)};QueryList.prototype.toArray=function(){return this._results.slice()};QueryList.prototype[getSymbolIterator()]=function(){return this._results[getSymbolIterator()]()};QueryList.prototype.toString=function(){return this._results.toString()};QueryList.prototype.reset=function(res){this._results=ListWrapper.flatten(res);this._dirty=false;};QueryList.prototype.notifyOnChanges=function(){this._emitter.emit(this);};QueryList.prototype.setDirty=function(){this._dirty=true;};Object.defineProperty(QueryList.prototype,'dirty',{get:function get(){return this._dirty},enumerable:true,configurable:true});return QueryList}();

var _SEPARATOR='#';var FACTORY_CLASS_SUFFIX='NgFactory';var SystemJsNgModuleLoaderConfig=function(){function SystemJsNgModuleLoaderConfig(){}return SystemJsNgModuleLoaderConfig}();var DEFAULT_CONFIG={factoryPathPrefix:'',factoryPathSuffix:'.ngfactory'};var SystemJsNgModuleLoader=function(){function SystemJsNgModuleLoader(_compiler,config){this._compiler=_compiler;this._config=config||DEFAULT_CONFIG;}SystemJsNgModuleLoader.prototype.load=function(path){var offlineMode=this._compiler instanceof Compiler;return offlineMode?this.loadFactory(path):this.loadAndCompile(path)};SystemJsNgModuleLoader.prototype.loadAndCompile=function(path){var _this=this;var _a=path.split(_SEPARATOR),module=_a[0],exportName=_a[1];if(exportName===undefined){exportName='default';}return System.import(module).then(function(module){return module[exportName]}).then(function(type){return checkNotEmpty(type,module,exportName)}).then(function(type){return _this._compiler.compileModuleAsync(type)})};SystemJsNgModuleLoader.prototype.loadFactory=function(path){var _a=path.split(_SEPARATOR),module=_a[0],exportName=_a[1];var factoryClassSuffix=FACTORY_CLASS_SUFFIX;if(exportName===undefined){exportName='default';factoryClassSuffix='';}return System.import(this._config.factoryPathPrefix+module+this._config.factoryPathSuffix).then(function(module){return module[exportName+factoryClassSuffix]}).then(function(factory){return checkNotEmpty(factory,module,exportName)})};SystemJsNgModuleLoader.decorators=[{type:Injectable}];SystemJsNgModuleLoader.ctorParameters=function(){return[{type:Compiler},{type:SystemJsNgModuleLoaderConfig,decorators:[{type:Optional}]}]};return SystemJsNgModuleLoader}();function checkNotEmpty(value,modulePath,exportName){if(!value){throw new Error('Cannot find \''+exportName+'\' in \''+modulePath+'\'')}return value}

var __extends$15=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var TemplateRef=function(){function TemplateRef(){}Object.defineProperty(TemplateRef.prototype,"elementRef",{get:function get(){return null},enumerable:true,configurable:true});TemplateRef.prototype.createEmbeddedView=function(context){};return TemplateRef}();var TemplateRef_=function(_super){__extends$15(TemplateRef_,_super);function TemplateRef_(_parentView,_nodeIndex,_nativeElement){_super.call(this);this._parentView=_parentView;this._nodeIndex=_nodeIndex;this._nativeElement=_nativeElement;}TemplateRef_.prototype.createEmbeddedView=function(context){var view=this._parentView.createEmbeddedViewInternal(this._nodeIndex);view.create(context||{});return view.ref};Object.defineProperty(TemplateRef_.prototype,"elementRef",{get:function get(){return new ElementRef(this._nativeElement)},enumerable:true,configurable:true});return TemplateRef_}(TemplateRef);

var ViewContainerRef=function(){function ViewContainerRef(){}Object.defineProperty(ViewContainerRef.prototype,'element',{get:function get(){return unimplemented()},enumerable:true,configurable:true});Object.defineProperty(ViewContainerRef.prototype,'injector',{get:function get(){return unimplemented()},enumerable:true,configurable:true});Object.defineProperty(ViewContainerRef.prototype,'parentInjector',{get:function get(){return unimplemented()},enumerable:true,configurable:true});ViewContainerRef.prototype.clear=function(){};ViewContainerRef.prototype.get=function(index){};Object.defineProperty(ViewContainerRef.prototype,'length',{get:function get(){return unimplemented()},enumerable:true,configurable:true});ViewContainerRef.prototype.createEmbeddedView=function(templateRef,context,index){};ViewContainerRef.prototype.createComponent=function(componentFactory,index,injector,projectableNodes){};ViewContainerRef.prototype.insert=function(viewRef,index){};ViewContainerRef.prototype.move=function(viewRef,currentIndex){};ViewContainerRef.prototype.indexOf=function(viewRef){};ViewContainerRef.prototype.remove=function(index){};ViewContainerRef.prototype.detach=function(index){};return ViewContainerRef}();var ViewContainerRef_=function(){function ViewContainerRef_(_element){this._element=_element;this._createComponentInContainerScope=wtfCreateScope('ViewContainerRef#createComponent()');this._insertScope=wtfCreateScope('ViewContainerRef#insert()');this._removeScope=wtfCreateScope('ViewContainerRef#remove()');this._detachScope=wtfCreateScope('ViewContainerRef#detach()');}ViewContainerRef_.prototype.get=function(index){return this._element.nestedViews[index].ref};Object.defineProperty(ViewContainerRef_.prototype,'length',{get:function get(){var views=this._element.nestedViews;return isPresent(views)?views.length:0},enumerable:true,configurable:true});Object.defineProperty(ViewContainerRef_.prototype,'element',{get:function get(){return this._element.elementRef},enumerable:true,configurable:true});Object.defineProperty(ViewContainerRef_.prototype,'injector',{get:function get(){return this._element.injector},enumerable:true,configurable:true});Object.defineProperty(ViewContainerRef_.prototype,'parentInjector',{get:function get(){return this._element.parentInjector},enumerable:true,configurable:true});ViewContainerRef_.prototype.createEmbeddedView=function(templateRef,context,index){if(context===void 0){context=null;}if(index===void 0){index=-1;}var viewRef=templateRef.createEmbeddedView(context);this.insert(viewRef,index);return viewRef};ViewContainerRef_.prototype.createComponent=function(componentFactory,index,injector,projectableNodes){if(index===void 0){index=-1;}if(injector===void 0){injector=null;}if(projectableNodes===void 0){projectableNodes=null;}var s=this._createComponentInContainerScope();var contextInjector=injector||this._element.parentInjector;var componentRef=componentFactory.create(contextInjector,projectableNodes);this.insert(componentRef.hostView,index);return wtfLeave(s,componentRef)};ViewContainerRef_.prototype.insert=function(viewRef,index){if(index===void 0){index=-1;}var s=this._insertScope();if(index==-1)index=this.length;var viewRef_=viewRef;this._element.attachView(viewRef_.internalView,index);return wtfLeave(s,viewRef_)};ViewContainerRef_.prototype.move=function(viewRef,currentIndex){var s=this._insertScope();if(currentIndex==-1)return;var viewRef_=viewRef;this._element.moveView(viewRef_.internalView,currentIndex);return wtfLeave(s,viewRef_)};ViewContainerRef_.prototype.indexOf=function(viewRef){return this._element.nestedViews.indexOf(viewRef.internalView)};ViewContainerRef_.prototype.remove=function(index){if(index===void 0){index=-1;}var s=this._removeScope();if(index==-1)index=this.length-1;var view=this._element.detachView(index);view.destroy();wtfLeave(s);};ViewContainerRef_.prototype.detach=function(index){if(index===void 0){index=-1;}var s=this._detachScope();if(index==-1)index=this.length-1;var view=this._element.detachView(index);return wtfLeave(s,view.ref)};ViewContainerRef_.prototype.clear=function(){for(var i=this.length-1;i>=0;i--){this.remove(i);}};return ViewContainerRef_}();

var __extends$16=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var ViewRef=function(_super){__extends$16(ViewRef,_super);function ViewRef(){_super.apply(this,arguments);}ViewRef.prototype.destroy=function(){};Object.defineProperty(ViewRef.prototype,'destroyed',{get:function get(){return unimplemented()},enumerable:true,configurable:true});ViewRef.prototype.onDestroy=function(callback){};return ViewRef}(ChangeDetectorRef);var EmbeddedViewRef=function(_super){__extends$16(EmbeddedViewRef,_super);function EmbeddedViewRef(){_super.apply(this,arguments);}Object.defineProperty(EmbeddedViewRef.prototype,'context',{get:function get(){return unimplemented()},enumerable:true,configurable:true});Object.defineProperty(EmbeddedViewRef.prototype,'rootNodes',{get:function get(){return unimplemented()},enumerable:true,configurable:true});return EmbeddedViewRef}(ViewRef);var ViewRef_=function(){function ViewRef_(_view,animationQueue){this._view=_view;this.animationQueue=animationQueue;this._view=_view;this._originalMode=this._view.cdMode;}Object.defineProperty(ViewRef_.prototype,'internalView',{get:function get(){return this._view},enumerable:true,configurable:true});Object.defineProperty(ViewRef_.prototype,'rootNodes',{get:function get(){return this._view.flatRootNodes},enumerable:true,configurable:true});Object.defineProperty(ViewRef_.prototype,'context',{get:function get(){return this._view.context},enumerable:true,configurable:true});Object.defineProperty(ViewRef_.prototype,'destroyed',{get:function get(){return this._view.destroyed},enumerable:true,configurable:true});ViewRef_.prototype.markForCheck=function(){this._view.markPathToRootAsCheckOnce();};ViewRef_.prototype.detach=function(){this._view.cdMode=ChangeDetectorStatus.Detached;};ViewRef_.prototype.detectChanges=function(){this._view.detectChanges(false);this.animationQueue.flush();};ViewRef_.prototype.checkNoChanges=function(){this._view.detectChanges(true);};ViewRef_.prototype.reattach=function(){this._view.cdMode=this._originalMode;this.markForCheck();};ViewRef_.prototype.onDestroy=function(callback){if(!this._view.disposables){this._view.disposables=[];}this._view.disposables.push(callback);};ViewRef_.prototype.destroy=function(){this._view.detachAndDestroy();};return ViewRef_}();

var __extends$17=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var EventListener=function(){function EventListener(name,callback){this.name=name;this.callback=callback;}return EventListener}();var DebugNode=function(){function DebugNode(nativeNode,parent,_debugInfo){this._debugInfo=_debugInfo;this.nativeNode=nativeNode;if(parent&&parent instanceof DebugElement){parent.addChild(this);}else{this.parent=null;}this.listeners=[];}Object.defineProperty(DebugNode.prototype,"injector",{get:function get(){return this._debugInfo?this._debugInfo.injector:null},enumerable:true,configurable:true});Object.defineProperty(DebugNode.prototype,"componentInstance",{get:function get(){return this._debugInfo?this._debugInfo.component:null},enumerable:true,configurable:true});Object.defineProperty(DebugNode.prototype,"context",{get:function get(){return this._debugInfo?this._debugInfo.context:null},enumerable:true,configurable:true});Object.defineProperty(DebugNode.prototype,"references",{get:function get(){return this._debugInfo?this._debugInfo.references:null},enumerable:true,configurable:true});Object.defineProperty(DebugNode.prototype,"providerTokens",{get:function get(){return this._debugInfo?this._debugInfo.providerTokens:null},enumerable:true,configurable:true});Object.defineProperty(DebugNode.prototype,"source",{get:function get(){return this._debugInfo?this._debugInfo.source:null},enumerable:true,configurable:true});return DebugNode}();var DebugElement=function(_super){__extends$17(DebugElement,_super);function DebugElement(nativeNode,parent,_debugInfo){_super.call(this,nativeNode,parent,_debugInfo);this.properties={};this.attributes={};this.classes={};this.styles={};this.childNodes=[];this.nativeElement=nativeNode;}DebugElement.prototype.addChild=function(child){if(child){this.childNodes.push(child);child.parent=this;}};DebugElement.prototype.removeChild=function(child){var childIndex=this.childNodes.indexOf(child);if(childIndex!==-1){child.parent=null;this.childNodes.splice(childIndex,1);}};DebugElement.prototype.insertChildrenAfter=function(child,newChildren){var siblingIndex=this.childNodes.indexOf(child);if(siblingIndex!==-1){var previousChildren=this.childNodes.slice(0,siblingIndex+1);var nextChildren=this.childNodes.slice(siblingIndex+1);this.childNodes=previousChildren.concat(newChildren,nextChildren);for(var i=0;i<newChildren.length;++i){var newChild=newChildren[i];if(newChild.parent){newChild.parent.removeChild(newChild);}newChild.parent=this;}}};DebugElement.prototype.query=function(predicate){var results=this.queryAll(predicate);return results[0]||null};DebugElement.prototype.queryAll=function(predicate){var matches=[];_queryElementChildren(this,predicate,matches);return matches};DebugElement.prototype.queryAllNodes=function(predicate){var matches=[];_queryNodeChildren(this,predicate,matches);return matches};Object.defineProperty(DebugElement.prototype,"children",{get:function get(){return this.childNodes.filter(function(node){return node instanceof DebugElement})},enumerable:true,configurable:true});DebugElement.prototype.triggerEventHandler=function(eventName,eventObj){this.listeners.forEach(function(listener){if(listener.name==eventName){listener.callback(eventObj);}});};return DebugElement}(DebugNode);function _queryElementChildren(element,predicate,matches){element.childNodes.forEach(function(node){if(node instanceof DebugElement){if(predicate(node)){matches.push(node);}_queryElementChildren(node,predicate,matches);}});}function _queryNodeChildren(parentNode,predicate,matches){if(parentNode instanceof DebugElement){parentNode.childNodes.forEach(function(node){if(predicate(node)){matches.push(node);}if(node instanceof DebugElement){_queryNodeChildren(node,predicate,matches);}});}}var _nativeNodeToDebugNode=new Map;function getDebugNode(nativeNode){return _nativeNodeToDebugNode.get(nativeNode)}function indexDebugNode(node){_nativeNodeToDebugNode.set(node.nativeNode,node);}function removeDebugNodeFromIndex(node){_nativeNodeToDebugNode.delete(node.nativeNode);}

function _reflector(){return reflector}var _CORE_PLATFORM_PROVIDERS=[PlatformRef_,{provide:PlatformRef,useExisting:PlatformRef_},{provide:Reflector,useFactory:_reflector,deps:[]},{provide:ReflectorReader,useExisting:Reflector},TestabilityRegistry,Console];var platformCore=createPlatformFactory(null,'core',_CORE_PLATFORM_PROVIDERS);

var LOCALE_ID=new OpaqueToken('LocaleId');var TRANSLATIONS=new OpaqueToken('Translations');var TRANSLATIONS_FORMAT=new OpaqueToken('TranslationsFormat');

function _iterableDiffersFactory(){return defaultIterableDiffers}function _keyValueDiffersFactory(){return defaultKeyValueDiffers}var ApplicationModule=function(){function ApplicationModule(){}ApplicationModule.decorators=[{type:NgModule,args:[{providers:[ApplicationRef_,{provide:ApplicationRef,useExisting:ApplicationRef_},ApplicationInitStatus,Compiler,APP_ID_RANDOM_PROVIDER,ViewUtils,AnimationQueue,{provide:IterableDiffers,useFactory:_iterableDiffersFactory},{provide:KeyValueDiffers,useFactory:_keyValueDiffersFactory},{provide:LOCALE_ID,useValue:'en-US'}]}]}];ApplicationModule.ctorParameters=function(){return[]};return ApplicationModule}();

var FILL_STYLE_FLAG='true';var ANY_STATE='*';var DEFAULT_STATE='*';var EMPTY_STATE='void';

var AnimationGroupPlayer=function(){function AnimationGroupPlayer(_players){var _this=this;this._players=_players;this._onDoneFns=[];this._onStartFns=[];this._finished=false;this._started=false;this._destroyed=false;this.parentPlayer=null;var count=0;var total=this._players.length;if(total==0){scheduleMicroTask(function(){return _this._onFinish()});}else{this._players.forEach(function(player){player.parentPlayer=_this;player.onDone(function(){if(++count>=total){_this._onFinish();}});});}}AnimationGroupPlayer.prototype._onFinish=function(){if(!this._finished){this._finished=true;this._onDoneFns.forEach(function(fn){return fn()});this._onDoneFns=[];}};AnimationGroupPlayer.prototype.init=function(){this._players.forEach(function(player){return player.init()});};AnimationGroupPlayer.prototype.onStart=function(fn){this._onStartFns.push(fn);};AnimationGroupPlayer.prototype.onDone=function(fn){this._onDoneFns.push(fn);};AnimationGroupPlayer.prototype.hasStarted=function(){return this._started};AnimationGroupPlayer.prototype.play=function(){if(!isPresent(this.parentPlayer)){this.init();}if(!this.hasStarted()){this._onStartFns.forEach(function(fn){return fn()});this._onStartFns=[];this._started=true;}this._players.forEach(function(player){return player.play()});};AnimationGroupPlayer.prototype.pause=function(){this._players.forEach(function(player){return player.pause()});};AnimationGroupPlayer.prototype.restart=function(){this._players.forEach(function(player){return player.restart()});};AnimationGroupPlayer.prototype.finish=function(){this._onFinish();this._players.forEach(function(player){return player.finish()});};AnimationGroupPlayer.prototype.destroy=function(){if(!this._destroyed){this._onFinish();this._players.forEach(function(player){return player.destroy()});this._destroyed=true;}};AnimationGroupPlayer.prototype.reset=function(){this._players.forEach(function(player){return player.reset()});this._destroyed=false;this._finished=false;this._started=false;};AnimationGroupPlayer.prototype.setPosition=function(p){this._players.forEach(function(player){player.setPosition(p);});};AnimationGroupPlayer.prototype.getPosition=function(){var min=0;this._players.forEach(function(player){var p=player.getPosition();min=Math.min(p,min);});return min};Object.defineProperty(AnimationGroupPlayer.prototype,"players",{get:function get(){return this._players},enumerable:true,configurable:true});return AnimationGroupPlayer}();

var AnimationKeyframe=function(){function AnimationKeyframe(offset,styles){this.offset=offset;this.styles=styles;}return AnimationKeyframe}();

var AnimationPlayer=function(){function AnimationPlayer(){}AnimationPlayer.prototype.onDone=function(fn){};AnimationPlayer.prototype.onStart=function(fn){};AnimationPlayer.prototype.init=function(){};AnimationPlayer.prototype.hasStarted=function(){};AnimationPlayer.prototype.play=function(){};AnimationPlayer.prototype.pause=function(){};AnimationPlayer.prototype.restart=function(){};AnimationPlayer.prototype.finish=function(){};AnimationPlayer.prototype.destroy=function(){};AnimationPlayer.prototype.reset=function(){};AnimationPlayer.prototype.setPosition=function(p){};AnimationPlayer.prototype.getPosition=function(){};Object.defineProperty(AnimationPlayer.prototype,'parentPlayer',{get:function get(){throw new Error('NOT IMPLEMENTED: Base Class')},set:function set(player){throw new Error('NOT IMPLEMENTED: Base Class')},enumerable:true,configurable:true});return AnimationPlayer}();var NoOpAnimationPlayer=function(){function NoOpAnimationPlayer(){var _this=this;this._onDoneFns=[];this._onStartFns=[];this._started=false;this.parentPlayer=null;scheduleMicroTask(function(){return _this._onFinish()});}NoOpAnimationPlayer.prototype._onFinish=function(){this._onDoneFns.forEach(function(fn){return fn()});this._onDoneFns=[];};NoOpAnimationPlayer.prototype.onStart=function(fn){this._onStartFns.push(fn);};NoOpAnimationPlayer.prototype.onDone=function(fn){this._onDoneFns.push(fn);};NoOpAnimationPlayer.prototype.hasStarted=function(){return this._started};NoOpAnimationPlayer.prototype.init=function(){};NoOpAnimationPlayer.prototype.play=function(){if(!this.hasStarted()){this._onStartFns.forEach(function(fn){return fn()});this._onStartFns=[];}this._started=true;};NoOpAnimationPlayer.prototype.pause=function(){};NoOpAnimationPlayer.prototype.restart=function(){};NoOpAnimationPlayer.prototype.finish=function(){this._onFinish();};NoOpAnimationPlayer.prototype.destroy=function(){};NoOpAnimationPlayer.prototype.reset=function(){};NoOpAnimationPlayer.prototype.setPosition=function(p){};NoOpAnimationPlayer.prototype.getPosition=function(){return 0};return NoOpAnimationPlayer}();

var AnimationSequencePlayer=function(){function AnimationSequencePlayer(_players){var _this=this;this._players=_players;this._currentIndex=0;this._onDoneFns=[];this._onStartFns=[];this._finished=false;this._started=false;this._destroyed=false;this.parentPlayer=null;this._players.forEach(function(player){player.parentPlayer=_this;});this._onNext(false);}AnimationSequencePlayer.prototype._onNext=function(start){var _this=this;if(this._finished)return;if(this._players.length==0){this._activePlayer=new NoOpAnimationPlayer;scheduleMicroTask(function(){return _this._onFinish()});}else if(this._currentIndex>=this._players.length){this._activePlayer=new NoOpAnimationPlayer;this._onFinish();}else{var player=this._players[this._currentIndex++];player.onDone(function(){return _this._onNext(true)});this._activePlayer=player;if(start){player.play();}}};AnimationSequencePlayer.prototype._onFinish=function(){if(!this._finished){this._finished=true;this._onDoneFns.forEach(function(fn){return fn()});this._onDoneFns=[];}};AnimationSequencePlayer.prototype.init=function(){this._players.forEach(function(player){return player.init()});};AnimationSequencePlayer.prototype.onStart=function(fn){this._onStartFns.push(fn);};AnimationSequencePlayer.prototype.onDone=function(fn){this._onDoneFns.push(fn);};AnimationSequencePlayer.prototype.hasStarted=function(){return this._started};AnimationSequencePlayer.prototype.play=function(){if(!isPresent(this.parentPlayer)){this.init();}if(!this.hasStarted()){this._onStartFns.forEach(function(fn){return fn()});this._onStartFns=[];this._started=true;}this._activePlayer.play();};AnimationSequencePlayer.prototype.pause=function(){this._activePlayer.pause();};AnimationSequencePlayer.prototype.restart=function(){this.reset();if(this._players.length>0){this._players[0].restart();}};AnimationSequencePlayer.prototype.reset=function(){this._players.forEach(function(player){return player.reset()});this._destroyed=false;this._finished=false;this._started=false;};AnimationSequencePlayer.prototype.finish=function(){this._onFinish();this._players.forEach(function(player){return player.finish()});};AnimationSequencePlayer.prototype.destroy=function(){if(!this._destroyed){this._onFinish();this._players.forEach(function(player){return player.destroy()});this._destroyed=true;this._activePlayer=new NoOpAnimationPlayer;}};AnimationSequencePlayer.prototype.setPosition=function(p){this._players[0].setPosition(p);};AnimationSequencePlayer.prototype.getPosition=function(){return this._players[0].getPosition()};Object.defineProperty(AnimationSequencePlayer.prototype,'players',{get:function get(){return this._players},enumerable:true,configurable:true});return AnimationSequencePlayer}();

var __extends$18=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var AUTO_STYLE='*';var AnimationStateMetadata=function(){function AnimationStateMetadata(){}return AnimationStateMetadata}();var AnimationStateDeclarationMetadata=function(_super){__extends$18(AnimationStateDeclarationMetadata,_super);function AnimationStateDeclarationMetadata(stateNameExpr,styles){_super.call(this);this.stateNameExpr=stateNameExpr;this.styles=styles;}return AnimationStateDeclarationMetadata}(AnimationStateMetadata);var AnimationStateTransitionMetadata=function(_super){__extends$18(AnimationStateTransitionMetadata,_super);function AnimationStateTransitionMetadata(stateChangeExpr,steps){_super.call(this);this.stateChangeExpr=stateChangeExpr;this.steps=steps;}return AnimationStateTransitionMetadata}(AnimationStateMetadata);var AnimationMetadata=function(){function AnimationMetadata(){}return AnimationMetadata}();var AnimationKeyframesSequenceMetadata=function(_super){__extends$18(AnimationKeyframesSequenceMetadata,_super);function AnimationKeyframesSequenceMetadata(steps){_super.call(this);this.steps=steps;}return AnimationKeyframesSequenceMetadata}(AnimationMetadata);var AnimationStyleMetadata=function(_super){__extends$18(AnimationStyleMetadata,_super);function AnimationStyleMetadata(styles,offset){if(offset===void 0){offset=null;}_super.call(this);this.styles=styles;this.offset=offset;}return AnimationStyleMetadata}(AnimationMetadata);var AnimationAnimateMetadata=function(_super){__extends$18(AnimationAnimateMetadata,_super);function AnimationAnimateMetadata(timings,styles){_super.call(this);this.timings=timings;this.styles=styles;}return AnimationAnimateMetadata}(AnimationMetadata);var AnimationWithStepsMetadata=function(_super){__extends$18(AnimationWithStepsMetadata,_super);function AnimationWithStepsMetadata(){_super.call(this);}Object.defineProperty(AnimationWithStepsMetadata.prototype,'steps',{get:function get(){throw new Error('NOT IMPLEMENTED: Base Class')},enumerable:true,configurable:true});return AnimationWithStepsMetadata}(AnimationMetadata);var AnimationSequenceMetadata=function(_super){__extends$18(AnimationSequenceMetadata,_super);function AnimationSequenceMetadata(_steps){_super.call(this);this._steps=_steps;}Object.defineProperty(AnimationSequenceMetadata.prototype,'steps',{get:function get(){return this._steps},enumerable:true,configurable:true});return AnimationSequenceMetadata}(AnimationWithStepsMetadata);var AnimationGroupMetadata=function(_super){__extends$18(AnimationGroupMetadata,_super);function AnimationGroupMetadata(_steps){_super.call(this);this._steps=_steps;}Object.defineProperty(AnimationGroupMetadata.prototype,'steps',{get:function get(){return this._steps},enumerable:true,configurable:true});return AnimationGroupMetadata}(AnimationWithStepsMetadata);

function prepareFinalAnimationStyles(previousStyles,newStyles,nullValue){if(nullValue===void 0){nullValue=null;}var finalStyles={};Object.keys(newStyles).forEach(function(prop){var value=newStyles[prop];finalStyles[prop]=value==AUTO_STYLE?nullValue:value.toString();});Object.keys(previousStyles).forEach(function(prop){if(!isPresent(finalStyles[prop])){finalStyles[prop]=nullValue;}});return finalStyles}function balanceAnimationKeyframes(collectedStyles,finalStateStyles,keyframes$$1){var limit=keyframes$$1.length-1;var firstKeyframe=keyframes$$1[0];var flatenedFirstKeyframeStyles=flattenStyles(firstKeyframe.styles.styles);var extraFirstKeyframeStyles={};var hasExtraFirstStyles=false;Object.keys(collectedStyles).forEach(function(prop){var value=collectedStyles[prop];if(!flatenedFirstKeyframeStyles[prop]){flatenedFirstKeyframeStyles[prop]=value;extraFirstKeyframeStyles[prop]=value;hasExtraFirstStyles=true;}});var keyframeCollectedStyles=StringMapWrapper.merge({},flatenedFirstKeyframeStyles);var finalKeyframe=keyframes$$1[limit];finalKeyframe.styles.styles.unshift(finalStateStyles);var flatenedFinalKeyframeStyles=flattenStyles(finalKeyframe.styles.styles);var extraFinalKeyframeStyles={};var hasExtraFinalStyles=false;Object.keys(keyframeCollectedStyles).forEach(function(prop){if(!isPresent(flatenedFinalKeyframeStyles[prop])){extraFinalKeyframeStyles[prop]=AUTO_STYLE;hasExtraFinalStyles=true;}});if(hasExtraFinalStyles){finalKeyframe.styles.styles.push(extraFinalKeyframeStyles);}Object.keys(flatenedFinalKeyframeStyles).forEach(function(prop){if(!isPresent(flatenedFirstKeyframeStyles[prop])){extraFirstKeyframeStyles[prop]=AUTO_STYLE;hasExtraFirstStyles=true;}});if(hasExtraFirstStyles){firstKeyframe.styles.styles.push(extraFirstKeyframeStyles);}collectAndResolveStyles(collectedStyles,[finalStateStyles]);return keyframes$$1}function clearStyles(styles){var finalStyles={};Object.keys(styles).forEach(function(key){finalStyles[key]=null;});return finalStyles}function collectAndResolveStyles(collection,styles){return styles.map(function(entry){var stylesObj={};Object.keys(entry).forEach(function(prop){var value=entry[prop];if(value==FILL_STYLE_FLAG){value=collection[prop];if(!isPresent(value)){value=AUTO_STYLE;}}collection[prop]=value;stylesObj[prop]=value;});return stylesObj})}function renderStyles(element,renderer,styles){Object.keys(styles).forEach(function(prop){renderer.setElementStyle(element,prop,styles[prop]);});}function flattenStyles(styles){var finalStyles={};styles.forEach(function(entry){Object.keys(entry).forEach(function(prop){finalStyles[prop]=entry[prop];});});return finalStyles}

var AnimationStyles=function(){function AnimationStyles(styles){this.styles=styles;}return AnimationStyles}();

var AnimationTransitionEvent=function(){function AnimationTransitionEvent(_a){var fromState=_a.fromState,toState=_a.toState,totalTime=_a.totalTime,phaseName=_a.phaseName;this.fromState=fromState;this.toState=toState;this.totalTime=totalTime;this.phaseName=phaseName;}return AnimationTransitionEvent}();

var AnimationTransition=function(){function AnimationTransition(_player,_fromState,_toState,_totalTime){this._player=_player;this._fromState=_fromState;this._toState=_toState;this._totalTime=_totalTime;}AnimationTransition.prototype._createEvent=function(phaseName){return new AnimationTransitionEvent({fromState:this._fromState,toState:this._toState,totalTime:this._totalTime,phaseName:phaseName})};AnimationTransition.prototype.onStart=function(callback){var _this=this;var fn=Zone.current.wrap(function(){return callback(_this._createEvent('start'))},'player.onStart');this._player.onStart(fn);};AnimationTransition.prototype.onDone=function(callback){var _this=this;var fn=Zone.current.wrap(function(){return callback(_this._createEvent('done'))},'player.onDone');this._player.onDone(fn);};return AnimationTransition}();

var DebugDomRootRenderer=function(){function DebugDomRootRenderer(_delegate){this._delegate=_delegate;}DebugDomRootRenderer.prototype.renderComponent=function(componentProto){return new DebugDomRenderer(this._delegate.renderComponent(componentProto))};return DebugDomRootRenderer}();var DebugDomRenderer=function(){function DebugDomRenderer(_delegate){this._delegate=_delegate;}DebugDomRenderer.prototype.selectRootElement=function(selectorOrNode,debugInfo){var nativeEl=this._delegate.selectRootElement(selectorOrNode,debugInfo);var debugEl=new DebugElement(nativeEl,null,debugInfo);indexDebugNode(debugEl);return nativeEl};DebugDomRenderer.prototype.createElement=function(parentElement,name,debugInfo){var nativeEl=this._delegate.createElement(parentElement,name,debugInfo);var debugEl=new DebugElement(nativeEl,getDebugNode(parentElement),debugInfo);debugEl.name=name;indexDebugNode(debugEl);return nativeEl};DebugDomRenderer.prototype.createViewRoot=function(hostElement){return this._delegate.createViewRoot(hostElement)};DebugDomRenderer.prototype.createTemplateAnchor=function(parentElement,debugInfo){var comment=this._delegate.createTemplateAnchor(parentElement,debugInfo);var debugEl=new DebugNode(comment,getDebugNode(parentElement),debugInfo);indexDebugNode(debugEl);return comment};DebugDomRenderer.prototype.createText=function(parentElement,value,debugInfo){var text=this._delegate.createText(parentElement,value,debugInfo);var debugEl=new DebugNode(text,getDebugNode(parentElement),debugInfo);indexDebugNode(debugEl);return text};DebugDomRenderer.prototype.projectNodes=function(parentElement,nodes){var debugParent=getDebugNode(parentElement);if(isPresent(debugParent)&&debugParent instanceof DebugElement){var debugElement_1=debugParent;nodes.forEach(function(node){debugElement_1.addChild(getDebugNode(node));});}this._delegate.projectNodes(parentElement,nodes);};DebugDomRenderer.prototype.attachViewAfter=function(node,viewRootNodes){var debugNode=getDebugNode(node);if(isPresent(debugNode)){var debugParent=debugNode.parent;if(viewRootNodes.length>0&&isPresent(debugParent)){var debugViewRootNodes_1=[];viewRootNodes.forEach(function(rootNode){return debugViewRootNodes_1.push(getDebugNode(rootNode))});debugParent.insertChildrenAfter(debugNode,debugViewRootNodes_1);}}this._delegate.attachViewAfter(node,viewRootNodes);};DebugDomRenderer.prototype.detachView=function(viewRootNodes){viewRootNodes.forEach(function(node){var debugNode=getDebugNode(node);if(isPresent(debugNode)&&isPresent(debugNode.parent)){debugNode.parent.removeChild(debugNode);}});this._delegate.detachView(viewRootNodes);};DebugDomRenderer.prototype.destroyView=function(hostElement,viewAllNodes){viewAllNodes=viewAllNodes||[];viewAllNodes.forEach(function(node){removeDebugNodeFromIndex(getDebugNode(node));});this._delegate.destroyView(hostElement,viewAllNodes);};DebugDomRenderer.prototype.listen=function(renderElement,name,callback){var debugEl=getDebugNode(renderElement);if(isPresent(debugEl)){debugEl.listeners.push(new EventListener(name,callback));}return this._delegate.listen(renderElement,name,callback)};DebugDomRenderer.prototype.listenGlobal=function(target,name,callback){return this._delegate.listenGlobal(target,name,callback)};DebugDomRenderer.prototype.setElementProperty=function(renderElement,propertyName,propertyValue){var debugEl=getDebugNode(renderElement);if(isPresent(debugEl)&&debugEl instanceof DebugElement){debugEl.properties[propertyName]=propertyValue;}this._delegate.setElementProperty(renderElement,propertyName,propertyValue);};DebugDomRenderer.prototype.setElementAttribute=function(renderElement,attributeName,attributeValue){var debugEl=getDebugNode(renderElement);if(isPresent(debugEl)&&debugEl instanceof DebugElement){debugEl.attributes[attributeName]=attributeValue;}this._delegate.setElementAttribute(renderElement,attributeName,attributeValue);};DebugDomRenderer.prototype.setBindingDebugInfo=function(renderElement,propertyName,propertyValue){this._delegate.setBindingDebugInfo(renderElement,propertyName,propertyValue);};DebugDomRenderer.prototype.setElementClass=function(renderElement,className,isAdd){var debugEl=getDebugNode(renderElement);if(isPresent(debugEl)&&debugEl instanceof DebugElement){debugEl.classes[className]=isAdd;}this._delegate.setElementClass(renderElement,className,isAdd);};DebugDomRenderer.prototype.setElementStyle=function(renderElement,styleName,styleValue){var debugEl=getDebugNode(renderElement);if(isPresent(debugEl)&&debugEl instanceof DebugElement){debugEl.styles[styleName]=styleValue;}this._delegate.setElementStyle(renderElement,styleName,styleValue);};DebugDomRenderer.prototype.invokeElementMethod=function(renderElement,methodName,args){this._delegate.invokeElementMethod(renderElement,methodName,args);};DebugDomRenderer.prototype.setText=function(renderNode,text){this._delegate.setText(renderNode,text);};DebugDomRenderer.prototype.animate=function(element,startingStyles,keyframes,duration,delay,easing,previousPlayers){if(previousPlayers===void 0){previousPlayers=[];}return this._delegate.animate(element,startingStyles,keyframes,duration,delay,easing,previousPlayers)};return DebugDomRenderer}();

var ViewType={};ViewType.HOST=0;ViewType.COMPONENT=1;ViewType.EMBEDDED=2;ViewType[ViewType.HOST]="HOST";ViewType[ViewType.COMPONENT]="COMPONENT";ViewType[ViewType.EMBEDDED]="EMBEDDED";

var StaticNodeDebugInfo=function(){function StaticNodeDebugInfo(providerTokens,componentToken,refTokens){this.providerTokens=providerTokens;this.componentToken=componentToken;this.refTokens=refTokens;}return StaticNodeDebugInfo}();var DebugContext=function(){function DebugContext(_view,_nodeIndex,_tplRow,_tplCol){this._view=_view;this._nodeIndex=_nodeIndex;this._tplRow=_tplRow;this._tplCol=_tplCol;}Object.defineProperty(DebugContext.prototype,'_staticNodeInfo',{get:function get(){return isPresent(this._nodeIndex)?this._view.staticNodeDebugInfos[this._nodeIndex]:null},enumerable:true,configurable:true});Object.defineProperty(DebugContext.prototype,'context',{get:function get(){return this._view.context},enumerable:true,configurable:true});Object.defineProperty(DebugContext.prototype,'component',{get:function get(){var staticNodeInfo=this._staticNodeInfo;if(isPresent(staticNodeInfo)&&isPresent(staticNodeInfo.componentToken)){return this.injector.get(staticNodeInfo.componentToken)}return null},enumerable:true,configurable:true});Object.defineProperty(DebugContext.prototype,'componentRenderElement',{get:function get(){var componentView=this._view;while(isPresent(componentView.parentView)&&componentView.type!==ViewType.COMPONENT){componentView=componentView.parentView;}return componentView.parentElement},enumerable:true,configurable:true});Object.defineProperty(DebugContext.prototype,'injector',{get:function get(){return this._view.injector(this._nodeIndex)},enumerable:true,configurable:true});Object.defineProperty(DebugContext.prototype,'renderNode',{get:function get(){if(isPresent(this._nodeIndex)&&this._view.allNodes){return this._view.allNodes[this._nodeIndex]}else{return null}},enumerable:true,configurable:true});Object.defineProperty(DebugContext.prototype,'providerTokens',{get:function get(){var staticNodeInfo=this._staticNodeInfo;return isPresent(staticNodeInfo)?staticNodeInfo.providerTokens:null},enumerable:true,configurable:true});Object.defineProperty(DebugContext.prototype,'source',{get:function get(){return this._view.componentType.templateUrl+':'+this._tplRow+':'+this._tplCol},enumerable:true,configurable:true});Object.defineProperty(DebugContext.prototype,'references',{get:function get(){var _this=this;var varValues={};var staticNodeInfo=this._staticNodeInfo;if(isPresent(staticNodeInfo)){var refs_1=staticNodeInfo.refTokens;Object.keys(refs_1).forEach(function(refName){var refToken=refs_1[refName];var varValue;if(isBlank(refToken)){varValue=_this._view.allNodes?_this._view.allNodes[_this._nodeIndex]:null;}else{varValue=_this._view.injectorGet(refToken,_this._nodeIndex,null);}varValues[refName]=varValue;});}return varValues},enumerable:true,configurable:true});return DebugContext}();

var ViewAnimationMap=function(){function ViewAnimationMap(){this._map=new Map;this._allPlayers=[];}ViewAnimationMap.prototype.find=function(element,animationName){var playersByAnimation=this._map.get(element);if(isPresent(playersByAnimation)){return playersByAnimation[animationName]}};ViewAnimationMap.prototype.findAllPlayersByElement=function(element){var el=this._map.get(element);return el?Object.keys(el).map(function(k){return el[k]}):[]};ViewAnimationMap.prototype.set=function(element,animationName,player){var playersByAnimation=this._map.get(element);if(!isPresent(playersByAnimation)){playersByAnimation={};}var existingEntry=playersByAnimation[animationName];if(isPresent(existingEntry)){this.remove(element,animationName);}playersByAnimation[animationName]=player;this._allPlayers.push(player);this._map.set(element,playersByAnimation);};ViewAnimationMap.prototype.getAllPlayers=function(){return this._allPlayers};ViewAnimationMap.prototype.remove=function(element,animationName,targetPlayer){if(targetPlayer===void 0){targetPlayer=null;}var playersByAnimation=this._map.get(element);if(playersByAnimation){var player=playersByAnimation[animationName];if(!targetPlayer||player===targetPlayer){delete playersByAnimation[animationName];var index=this._allPlayers.indexOf(player);this._allPlayers.splice(index,1);if(Object.keys(playersByAnimation).length===0){this._map.delete(element);}}}};return ViewAnimationMap}();

var AnimationViewContext=function(){function AnimationViewContext(_animationQueue){this._animationQueue=_animationQueue;this._players=new ViewAnimationMap;}AnimationViewContext.prototype.onAllActiveAnimationsDone=function(callback){var activeAnimationPlayers=this._players.getAllPlayers();if(activeAnimationPlayers.length){new AnimationGroupPlayer(activeAnimationPlayers).onDone(function(){return callback()});}else{callback();}};AnimationViewContext.prototype.queueAnimation=function(element,animationName,player){var _this=this;this._animationQueue.enqueue(player);this._players.set(element,animationName,player);player.onDone(function(){return _this._players.remove(element,animationName,player)});};AnimationViewContext.prototype.getAnimationPlayers=function(element,animationName){if(animationName===void 0){animationName=null;}var players=[];if(animationName){var currentPlayer=this._players.find(element,animationName);if(currentPlayer){_recursePlayers(currentPlayer,players);}}else{this._players.findAllPlayersByElement(element).forEach(function(player){return _recursePlayers(player,players)});}return players};return AnimationViewContext}();function _recursePlayers(player,collectedPlayers){if(player instanceof AnimationGroupPlayer||player instanceof AnimationSequencePlayer){player.players.forEach(function(player){return _recursePlayers(player,collectedPlayers)});}else{collectedPlayers.push(player);}}

var __extends$20=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var ElementInjector=function(_super){__extends$20(ElementInjector,_super);function ElementInjector(_view,_nodeIndex){_super.call(this);this._view=_view;this._nodeIndex=_nodeIndex;}ElementInjector.prototype.get=function(token,notFoundValue){if(notFoundValue===void 0){notFoundValue=THROW_IF_NOT_FOUND;}return this._view.injectorGet(token,this._nodeIndex,notFoundValue)};return ElementInjector}(Injector);

var __extends$19=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var _scope_check=wtfCreateScope('AppView#check(ascii id)');var EMPTY_CONTEXT$1=new Object;var UNDEFINED$1=new Object;var AppView=function(){function AppView(clazz,componentType,type,viewUtils,parentView,parentIndex,parentElement,cdMode,declaredViewContainer){if(declaredViewContainer===void 0){declaredViewContainer=null;}this.clazz=clazz;this.componentType=componentType;this.type=type;this.viewUtils=viewUtils;this.parentView=parentView;this.parentIndex=parentIndex;this.parentElement=parentElement;this.cdMode=cdMode;this.declaredViewContainer=declaredViewContainer;this.numberOfChecks=0;this.ref=new ViewRef_(this,viewUtils.animationQueue);if(type===ViewType.COMPONENT||type===ViewType.HOST){this.renderer=viewUtils.renderComponent(componentType);}else{this.renderer=parentView.renderer;}this._directRenderer=this.renderer.directRenderer;}Object.defineProperty(AppView.prototype,'animationContext',{get:function get(){if(!this._animationContext){this._animationContext=new AnimationViewContext(this.viewUtils.animationQueue);}return this._animationContext},enumerable:true,configurable:true});Object.defineProperty(AppView.prototype,'destroyed',{get:function get(){return this.cdMode===ChangeDetectorStatus.Destroyed},enumerable:true,configurable:true});AppView.prototype.create=function(context){this.context=context;return this.createInternal(null)};AppView.prototype.createHostView=function(rootSelectorOrNode,hostInjector,projectableNodes){this.context=EMPTY_CONTEXT$1;this._hasExternalHostElement=isPresent(rootSelectorOrNode);this._hostInjector=hostInjector;this._hostProjectableNodes=projectableNodes;return this.createInternal(rootSelectorOrNode)};AppView.prototype.createInternal=function(rootSelectorOrNode){return null};AppView.prototype.createEmbeddedViewInternal=function(templateNodeIndex){return null};AppView.prototype.init=function(lastRootNode,allNodes,disposables){this.lastRootNode=lastRootNode;this.allNodes=allNodes;this.disposables=disposables;if(this.type===ViewType.COMPONENT){this.dirtyParentQueriesInternal();}};AppView.prototype.injectorGet=function(token,nodeIndex,notFoundValue){if(notFoundValue===void 0){notFoundValue=THROW_IF_NOT_FOUND;}var result=UNDEFINED$1;var view=this;while(result===UNDEFINED$1){if(isPresent(nodeIndex)){result=view.injectorGetInternal(token,nodeIndex,UNDEFINED$1);}if(result===UNDEFINED$1&&view.type===ViewType.HOST){result=view._hostInjector.get(token,notFoundValue);}nodeIndex=view.parentIndex;view=view.parentView;}return result};AppView.prototype.injectorGetInternal=function(token,nodeIndex,notFoundResult){return notFoundResult};AppView.prototype.injector=function(nodeIndex){return new ElementInjector(this,nodeIndex)};AppView.prototype.detachAndDestroy=function(){if(this.viewContainer){this.viewContainer.detachView(this.viewContainer.nestedViews.indexOf(this));}else if(this.appRef){this.appRef.detachView(this.ref);}else if(this._hasExternalHostElement){this.detach();}this.destroy();};AppView.prototype.destroy=function(){var _this=this;if(this.cdMode===ChangeDetectorStatus.Destroyed){return}var hostElement=this.type===ViewType.COMPONENT?this.parentElement:null;if(this.disposables){for(var i=0;i<this.disposables.length;i++){this.disposables[i]();}}this.destroyInternal();this.dirtyParentQueriesInternal();if(this._animationContext){this._animationContext.onAllActiveAnimationsDone(function(){return _this.renderer.destroyView(hostElement,_this.allNodes)});}else{this.renderer.destroyView(hostElement,this.allNodes);}this.cdMode=ChangeDetectorStatus.Destroyed;};AppView.prototype.destroyInternal=function(){};AppView.prototype.detachInternal=function(){};AppView.prototype.detach=function(){var _this=this;this.detachInternal();if(this._animationContext){this._animationContext.onAllActiveAnimationsDone(function(){return _this._renderDetach()});}else{this._renderDetach();}if(this.declaredViewContainer&&this.declaredViewContainer!==this.viewContainer&&this.declaredViewContainer.projectedViews){var projectedViews=this.declaredViewContainer.projectedViews;var index=projectedViews.indexOf(this);if(index>=projectedViews.length-1){projectedViews.pop();}else{projectedViews.splice(index,1);}}this.appRef=null;this.viewContainer=null;this.dirtyParentQueriesInternal();};AppView.prototype._renderDetach=function(){if(this._directRenderer){this.visitRootNodesInternal(this._directRenderer.remove,null);}else{this.renderer.detachView(this.flatRootNodes);}};AppView.prototype.attachToAppRef=function(appRef){if(this.viewContainer){throw new Error('This view is already attached to a ViewContainer!')}this.appRef=appRef;this.dirtyParentQueriesInternal();};AppView.prototype.attachAfter=function(viewContainer,prevView){if(this.appRef){throw new Error('This view is already attached directly to the ApplicationRef!')}this._renderAttach(viewContainer,prevView);this.viewContainer=viewContainer;if(this.declaredViewContainer&&this.declaredViewContainer!==viewContainer){if(!this.declaredViewContainer.projectedViews){this.declaredViewContainer.projectedViews=[];}this.declaredViewContainer.projectedViews.push(this);}this.dirtyParentQueriesInternal();};AppView.prototype.moveAfter=function(viewContainer,prevView){this._renderAttach(viewContainer,prevView);this.dirtyParentQueriesInternal();};AppView.prototype._renderAttach=function(viewContainer,prevView){var prevNode=prevView?prevView.lastRootNode:viewContainer.nativeElement;if(this._directRenderer){var nextSibling=this._directRenderer.nextSibling(prevNode);if(nextSibling){this.visitRootNodesInternal(this._directRenderer.insertBefore,nextSibling);}else{var parentElement=this._directRenderer.parentElement(prevNode);if(parentElement){this.visitRootNodesInternal(this._directRenderer.appendChild,parentElement);}}}else{this.renderer.attachViewAfter(prevNode,this.flatRootNodes);}};Object.defineProperty(AppView.prototype,'changeDetectorRef',{get:function get(){return this.ref},enumerable:true,configurable:true});Object.defineProperty(AppView.prototype,'flatRootNodes',{get:function get(){var nodes=[];this.visitRootNodesInternal(addToArray,nodes);return nodes},enumerable:true,configurable:true});AppView.prototype.projectNodes=function(parentElement,ngContentIndex){if(this._directRenderer){this.visitProjectedNodes(ngContentIndex,this._directRenderer.appendChild,parentElement);}else{var nodes=[];this.visitProjectedNodes(ngContentIndex,addToArray,nodes);this.renderer.projectNodes(parentElement,nodes);}};AppView.prototype.visitProjectedNodes=function(ngContentIndex,cb,c){switch(this.type){case ViewType.EMBEDDED:this.parentView.visitProjectedNodes(ngContentIndex,cb,c);break;case ViewType.COMPONENT:if(this.parentView.type===ViewType.HOST){var nodes=this.parentView._hostProjectableNodes[ngContentIndex]||[];for(var i=0;i<nodes.length;i++){cb(nodes[i],c);}}else{this.parentView.visitProjectableNodesInternal(this.parentIndex,ngContentIndex,cb,c);}break;}};AppView.prototype.visitRootNodesInternal=function(cb,c){};AppView.prototype.visitProjectableNodesInternal=function(nodeIndex,ngContentIndex,cb,c){};AppView.prototype.dirtyParentQueriesInternal=function(){};AppView.prototype.internalDetectChanges=function(throwOnChange){if(this.cdMode!==ChangeDetectorStatus.Detached){this.detectChanges(throwOnChange);}};AppView.prototype.detectChanges=function(throwOnChange){var s=_scope_check(this.clazz);if(this.cdMode===ChangeDetectorStatus.Checked||this.cdMode===ChangeDetectorStatus.Errored)return;if(this.cdMode===ChangeDetectorStatus.Destroyed){this.throwDestroyedError('detectChanges');}this.detectChangesInternal(throwOnChange);if(this.cdMode===ChangeDetectorStatus.CheckOnce)this.cdMode=ChangeDetectorStatus.Checked;this.numberOfChecks++;wtfLeave(s);};AppView.prototype.detectChangesInternal=function(throwOnChange){};AppView.prototype.markAsCheckOnce=function(){this.cdMode=ChangeDetectorStatus.CheckOnce;};AppView.prototype.markPathToRootAsCheckOnce=function(){var c=this;while(isPresent(c)&&c.cdMode!==ChangeDetectorStatus.Detached){if(c.cdMode===ChangeDetectorStatus.Checked){c.cdMode=ChangeDetectorStatus.CheckOnce;}if(c.type===ViewType.COMPONENT){c=c.parentView;}else{c=c.viewContainer?c.viewContainer.parentView:null;}}};AppView.prototype.eventHandler=function(cb){return cb};AppView.prototype.throwDestroyedError=function(details){throw new ViewDestroyedError(details)};return AppView}();var DebugAppView=function(_super){__extends$19(DebugAppView,_super);function DebugAppView(clazz,componentType,type,viewUtils,parentView,parentIndex,parentNode,cdMode,staticNodeDebugInfos,declaredViewContainer){if(declaredViewContainer===void 0){declaredViewContainer=null;}_super.call(this,clazz,componentType,type,viewUtils,parentView,parentIndex,parentNode,cdMode,declaredViewContainer);this.staticNodeDebugInfos=staticNodeDebugInfos;this._currentDebugContext=null;}DebugAppView.prototype.create=function(context){this._resetDebug();try{return _super.prototype.create.call(this,context)}catch(e){this._rethrowWithContext(e);throw e}};DebugAppView.prototype.createHostView=function(rootSelectorOrNode,injector,projectableNodes){if(projectableNodes===void 0){projectableNodes=null;}this._resetDebug();try{return _super.prototype.createHostView.call(this,rootSelectorOrNode,injector,projectableNodes)}catch(e){this._rethrowWithContext(e);throw e}};DebugAppView.prototype.injectorGet=function(token,nodeIndex,notFoundResult){this._resetDebug();try{return _super.prototype.injectorGet.call(this,token,nodeIndex,notFoundResult)}catch(e){this._rethrowWithContext(e);throw e}};DebugAppView.prototype.detach=function(){this._resetDebug();try{_super.prototype.detach.call(this);}catch(e){this._rethrowWithContext(e);throw e}};DebugAppView.prototype.destroy=function(){this._resetDebug();try{_super.prototype.destroy.call(this);}catch(e){this._rethrowWithContext(e);throw e}};DebugAppView.prototype.detectChanges=function(throwOnChange){this._resetDebug();try{_super.prototype.detectChanges.call(this,throwOnChange);}catch(e){this._rethrowWithContext(e);throw e}};DebugAppView.prototype._resetDebug=function(){this._currentDebugContext=null;};DebugAppView.prototype.debug=function(nodeIndex,rowNum,colNum){return this._currentDebugContext=new DebugContext(this,nodeIndex,rowNum,colNum)};DebugAppView.prototype._rethrowWithContext=function(e){if(!(e instanceof ViewWrappedError)){if(!(e instanceof ExpressionChangedAfterItHasBeenCheckedError)){this.cdMode=ChangeDetectorStatus.Errored;}if(isPresent(this._currentDebugContext)){throw new ViewWrappedError(e,this._currentDebugContext)}}};DebugAppView.prototype.eventHandler=function(cb){var _this=this;var superHandler=_super.prototype.eventHandler.call(this,cb);return function(eventName,event){_this._resetDebug();try{return superHandler.call(_this,eventName,event)}catch(e){_this._rethrowWithContext(e);throw e}}};return DebugAppView}(AppView);

var ViewContainer=function(){function ViewContainer(index,parentIndex,parentView,nativeElement){this.index=index;this.parentIndex=parentIndex;this.parentView=parentView;this.nativeElement=nativeElement;}Object.defineProperty(ViewContainer.prototype,'elementRef',{get:function get(){return new ElementRef(this.nativeElement)},enumerable:true,configurable:true});Object.defineProperty(ViewContainer.prototype,'vcRef',{get:function get(){return new ViewContainerRef_(this)},enumerable:true,configurable:true});Object.defineProperty(ViewContainer.prototype,'parentInjector',{get:function get(){return this.parentView.injector(this.parentIndex)},enumerable:true,configurable:true});Object.defineProperty(ViewContainer.prototype,'injector',{get:function get(){return this.parentView.injector(this.index)},enumerable:true,configurable:true});ViewContainer.prototype.detectChangesInNestedViews=function(throwOnChange){if(this.nestedViews){for(var i=0;i<this.nestedViews.length;i++){this.nestedViews[i].detectChanges(throwOnChange);}}};ViewContainer.prototype.destroyNestedViews=function(){if(this.nestedViews){for(var i=0;i<this.nestedViews.length;i++){this.nestedViews[i].destroy();}}};ViewContainer.prototype.visitNestedViewRootNodes=function(cb,c){if(this.nestedViews){for(var i=0;i<this.nestedViews.length;i++){this.nestedViews[i].visitRootNodesInternal(cb,c);}}};ViewContainer.prototype.mapNestedViews=function(nestedViewClass,callback){var result=[];if(this.nestedViews){for(var i=0;i<this.nestedViews.length;i++){var nestedView=this.nestedViews[i];if(nestedView.clazz===nestedViewClass){result.push(callback(nestedView));}}}if(this.projectedViews){for(var i=0;i<this.projectedViews.length;i++){var projectedView=this.projectedViews[i];if(projectedView.clazz===nestedViewClass){result.push(callback(projectedView));}}}return result};ViewContainer.prototype.moveView=function(view,currentIndex){var previousIndex=this.nestedViews.indexOf(view);if(view.type===ViewType.COMPONENT){throw new Error('Component views can\'t be moved!')}var nestedViews=this.nestedViews;if(nestedViews==null){nestedViews=[];this.nestedViews=nestedViews;}nestedViews.splice(previousIndex,1);nestedViews.splice(currentIndex,0,view);var prevView=currentIndex>0?nestedViews[currentIndex-1]:null;view.moveAfter(this,prevView);};ViewContainer.prototype.attachView=function(view,viewIndex){if(view.type===ViewType.COMPONENT){throw new Error('Component views can\'t be moved!')}var nestedViews=this.nestedViews;if(nestedViews==null){nestedViews=[];this.nestedViews=nestedViews;}if(viewIndex>=nestedViews.length){nestedViews.push(view);}else{nestedViews.splice(viewIndex,0,view);}var prevView=viewIndex>0?nestedViews[viewIndex-1]:null;view.attachAfter(this,prevView);};ViewContainer.prototype.detachView=function(viewIndex){var view=this.nestedViews[viewIndex];if(viewIndex>=this.nestedViews.length-1){this.nestedViews.pop();}else{this.nestedViews.splice(viewIndex,1);}if(view.type===ViewType.COMPONENT){throw new Error('Component views can\'t be moved!')}view.detach();return view};return ViewContainer}();

var __core_private__={isDefaultChangeDetectionStrategy:isDefaultChangeDetectionStrategy,ChangeDetectorStatus:ChangeDetectorStatus,constructDependencies:constructDependencies,LifecycleHooks:LifecycleHooks,LIFECYCLE_HOOKS_VALUES:LIFECYCLE_HOOKS_VALUES,ReflectorReader:ReflectorReader,CodegenComponentFactoryResolver:CodegenComponentFactoryResolver,ComponentRef_:ComponentRef_,ViewContainer:ViewContainer,AppView:AppView,DebugAppView:DebugAppView,NgModuleInjector:NgModuleInjector,registerModuleFactory:registerModuleFactory,ViewType:ViewType,view_utils:view_utils,ViewMetadata:ViewMetadata,DebugContext:DebugContext,StaticNodeDebugInfo:StaticNodeDebugInfo,devModeEqual:devModeEqual,UNINITIALIZED:UNINITIALIZED,ValueUnwrapper:ValueUnwrapper,RenderDebugInfo:RenderDebugInfo,TemplateRef_:TemplateRef_,ReflectionCapabilities:ReflectionCapabilities,makeDecorator:makeDecorator,DebugDomRootRenderer:DebugDomRootRenderer,Console:Console,reflector:reflector,Reflector:Reflector,NoOpAnimationPlayer:NoOpAnimationPlayer,AnimationPlayer:AnimationPlayer,AnimationSequencePlayer:AnimationSequencePlayer,AnimationGroupPlayer:AnimationGroupPlayer,AnimationKeyframe:AnimationKeyframe,prepareFinalAnimationStyles:prepareFinalAnimationStyles,balanceAnimationKeyframes:balanceAnimationKeyframes,flattenStyles:flattenStyles,clearStyles:clearStyles,renderStyles:renderStyles,collectAndResolveStyles:collectAndResolveStyles,APP_ID_RANDOM_PROVIDER:APP_ID_RANDOM_PROVIDER,AnimationStyles:AnimationStyles,ANY_STATE:ANY_STATE,DEFAULT_STATE:DEFAULT_STATE,EMPTY_STATE:EMPTY_STATE,FILL_STYLE_FLAG:FILL_STYLE_FLAG,ComponentStillLoadingError:ComponentStillLoadingError,isPromise:isPromise,AnimationTransition:AnimationTransition};

var LocationStrategy=function(){function LocationStrategy(){}LocationStrategy.prototype.path=function(includeHash){};LocationStrategy.prototype.prepareExternalUrl=function(internal){};LocationStrategy.prototype.pushState=function(state$$1,title,url,queryParams){};LocationStrategy.prototype.replaceState=function(state$$1,title,url,queryParams){};LocationStrategy.prototype.forward=function(){};LocationStrategy.prototype.back=function(){};LocationStrategy.prototype.onPopState=function(fn){};LocationStrategy.prototype.getBaseHref=function(){};return LocationStrategy}();var APP_BASE_HREF=new OpaqueToken('appBaseHref');

var globalScope$1;if(typeof window==='undefined'){if(typeof WorkerGlobalScope!=='undefined'&&self instanceof WorkerGlobalScope){globalScope$1=self;}else{globalScope$1=global;}}else{globalScope$1=window;}var _global$1=globalScope$1;function getTypeNameForDebugging$1(type){return type['name']||(typeof type==='undefined'?'undefined':_typeof(type))}_global$1.assert=function assert(condition){};function isPresent$1(obj){return obj!=null}function isBlank$1(obj){return obj==null}function isDate$1(obj){return obj instanceof Date&&!isNaN(obj.valueOf())}function stringify$1(token){if(typeof token==='string'){return token}if(token==null){return''+token}if(token.overriddenName){return''+token.overriddenName}if(token.name){return''+token.name}var res=token.toString();var newLineIndex=res.indexOf('\n');return newLineIndex===-1?res:res.substring(0,newLineIndex)}var NumberWrapper$1=function(){function NumberWrapper(){}NumberWrapper.parseIntAutoRadix=function(text){var result=parseInt(text);if(isNaN(result)){throw new Error('Invalid integer literal when parsing '+text)}return result};NumberWrapper.isNumeric=function(value){return!isNaN(value-parseFloat(value))};return NumberWrapper}();function isJsObject$1(o){return o!==null&&(typeof o==='function'||(typeof o==='undefined'?'undefined':_typeof(o))==='object')}var _symbolIterator$1=null;function getSymbolIterator$1(){if(!_symbolIterator$1){if(globalScope$1.Symbol&&Symbol.iterator){_symbolIterator$1=Symbol.iterator;}else{var keys=Object.getOwnPropertyNames(Map.prototype);for(var i=0;i<keys.length;++i){var key=keys[i];if(key!=='entries'&&key!=='size'&&Map.prototype[key]===Map.prototype['entries']){_symbolIterator$1=key;}}}}return _symbolIterator$1}

var Location=function(){function Location(platformStrategy){var _this=this;this._subject=new EventEmitter;this._platformStrategy=platformStrategy;var browserBaseHref=this._platformStrategy.getBaseHref();this._baseHref=Location.stripTrailingSlash(_stripIndexHtml(browserBaseHref));this._platformStrategy.onPopState(function(ev){_this._subject.emit({'url':_this.path(true),'pop':true,'type':ev.type});});}Location.prototype.path=function(includeHash){if(includeHash===void 0){includeHash=false;}return this.normalize(this._platformStrategy.path(includeHash))};Location.prototype.isCurrentPathEqualTo=function(path,query){if(query===void 0){query='';}return this.path()==this.normalize(path+Location.normalizeQueryParams(query))};Location.prototype.normalize=function(url){return Location.stripTrailingSlash(_stripBaseHref(this._baseHref,_stripIndexHtml(url)))};Location.prototype.prepareExternalUrl=function(url){if(url&&url[0]!=='/'){url='/'+url;}return this._platformStrategy.prepareExternalUrl(url)};Location.prototype.go=function(path,query){if(query===void 0){query='';}this._platformStrategy.pushState(null,'',path,query);};Location.prototype.replaceState=function(path,query){if(query===void 0){query='';}this._platformStrategy.replaceState(null,'',path,query);};Location.prototype.forward=function(){this._platformStrategy.forward();};Location.prototype.back=function(){this._platformStrategy.back();};Location.prototype.subscribe=function(onNext,onThrow,onReturn){if(onThrow===void 0){onThrow=null;}if(onReturn===void 0){onReturn=null;}return this._subject.subscribe({next:onNext,error:onThrow,complete:onReturn})};Location.normalizeQueryParams=function(params){return params&&params[0]!=='?'?'?'+params:params};Location.joinWithSlash=function(start,end){if(start.length==0){return end}if(end.length==0){return start}var slashes=0;if(start.endsWith('/')){slashes++;}if(end.startsWith('/')){slashes++;}if(slashes==2){return start+end.substring(1)}if(slashes==1){return start+end}return start+'/'+end};Location.stripTrailingSlash=function(url){return url.replace(/\/$/,'')};Location.decorators=[{type:Injectable}];Location.ctorParameters=function(){return[{type:LocationStrategy}]};return Location}();function _stripBaseHref(baseHref,url){return baseHref&&url.startsWith(baseHref)?url.substring(baseHref.length):url}function _stripIndexHtml(url){return url.replace(/\/index.html$/,'')}

var __extends$21=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var HashLocationStrategy=function(_super){__extends$21(HashLocationStrategy,_super);function HashLocationStrategy(_platformLocation,_baseHref){_super.call(this);this._platformLocation=_platformLocation;this._baseHref='';if(isPresent$1(_baseHref)){this._baseHref=_baseHref;}}HashLocationStrategy.prototype.onPopState=function(fn){this._platformLocation.onPopState(fn);this._platformLocation.onHashChange(fn);};HashLocationStrategy.prototype.getBaseHref=function(){return this._baseHref};HashLocationStrategy.prototype.path=function(includeHash){if(includeHash===void 0){includeHash=false;}var path=this._platformLocation.hash;if(!isPresent$1(path))path='#';return path.length>0?path.substring(1):path};HashLocationStrategy.prototype.prepareExternalUrl=function(internal){var url=Location.joinWithSlash(this._baseHref,internal);return url.length>0?'#'+url:url};HashLocationStrategy.prototype.pushState=function(state$$1,title,path,queryParams){var url=this.prepareExternalUrl(path+Location.normalizeQueryParams(queryParams));if(url.length==0){url=this._platformLocation.pathname;}this._platformLocation.pushState(state$$1,title,url);};HashLocationStrategy.prototype.replaceState=function(state$$1,title,path,queryParams){var url=this.prepareExternalUrl(path+Location.normalizeQueryParams(queryParams));if(url.length==0){url=this._platformLocation.pathname;}this._platformLocation.replaceState(state$$1,title,url);};HashLocationStrategy.prototype.forward=function(){this._platformLocation.forward();};HashLocationStrategy.prototype.back=function(){this._platformLocation.back();};HashLocationStrategy.decorators=[{type:Injectable}];HashLocationStrategy.ctorParameters=function(){return[{type:PlatformLocation},{type:undefined,decorators:[{type:Optional},{type:Inject,args:[APP_BASE_HREF]}]}]};return HashLocationStrategy}(LocationStrategy);

var __extends$22=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var PathLocationStrategy=function(_super){__extends$22(PathLocationStrategy,_super);function PathLocationStrategy(_platformLocation,href){_super.call(this);this._platformLocation=_platformLocation;if(isBlank$1(href)){href=this._platformLocation.getBaseHrefFromDOM();}if(isBlank$1(href)){throw new Error('No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.')}this._baseHref=href;}PathLocationStrategy.prototype.onPopState=function(fn){this._platformLocation.onPopState(fn);this._platformLocation.onHashChange(fn);};PathLocationStrategy.prototype.getBaseHref=function(){return this._baseHref};PathLocationStrategy.prototype.prepareExternalUrl=function(internal){return Location.joinWithSlash(this._baseHref,internal)};PathLocationStrategy.prototype.path=function(includeHash){if(includeHash===void 0){includeHash=false;}var pathname=this._platformLocation.pathname+Location.normalizeQueryParams(this._platformLocation.search);var hash=this._platformLocation.hash;return hash&&includeHash?''+pathname+hash:pathname};PathLocationStrategy.prototype.pushState=function(state$$1,title,url,queryParams){var externalUrl=this.prepareExternalUrl(url+Location.normalizeQueryParams(queryParams));this._platformLocation.pushState(state$$1,title,externalUrl);};PathLocationStrategy.prototype.replaceState=function(state$$1,title,url,queryParams){var externalUrl=this.prepareExternalUrl(url+Location.normalizeQueryParams(queryParams));this._platformLocation.replaceState(state$$1,title,externalUrl);};PathLocationStrategy.prototype.forward=function(){this._platformLocation.forward();};PathLocationStrategy.prototype.back=function(){this._platformLocation.back();};PathLocationStrategy.decorators=[{type:Injectable}];PathLocationStrategy.ctorParameters=function(){return[{type:PlatformLocation},{type:undefined,decorators:[{type:Optional},{type:Inject,args:[APP_BASE_HREF]}]}]};return PathLocationStrategy}(LocationStrategy);

var __extends$23=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var NgLocalization=function(){function NgLocalization(){}NgLocalization.prototype.getPluralCategory=function(value){};return NgLocalization}();function getPluralCategory(value,cases,ngLocalization){var key='='+value;if(cases.indexOf(key)>-1){return key}key=ngLocalization.getPluralCategory(value);if(cases.indexOf(key)>-1){return key}if(cases.indexOf('other')>-1){return'other'}throw new Error('No plural message found for value "'+value+'"')}var NgLocaleLocalization=function(_super){__extends$23(NgLocaleLocalization,_super);function NgLocaleLocalization(_locale){_super.call(this);this._locale=_locale;}NgLocaleLocalization.prototype.getPluralCategory=function(value){var plural=getPluralCase(this._locale,value);switch(plural){case Plural.Zero:return'zero';case Plural.One:return'one';case Plural.Two:return'two';case Plural.Few:return'few';case Plural.Many:return'many';default:return'other';}};NgLocaleLocalization.decorators=[{type:Injectable}];NgLocaleLocalization.ctorParameters=function(){return[{type:undefined,decorators:[{type:Inject,args:[LOCALE_ID]}]}]};return NgLocaleLocalization}(NgLocalization);var Plural={};Plural.Zero=0;Plural.One=1;Plural.Two=2;Plural.Few=3;Plural.Many=4;Plural.Other=5;Plural[Plural.Zero]='Zero';Plural[Plural.One]='One';Plural[Plural.Two]='Two';Plural[Plural.Few]='Few';Plural[Plural.Many]='Many';Plural[Plural.Other]='Other';function getPluralCase(locale,nLike){if(typeof nLike==='string'){nLike=parseInt(nLike,10);}var n=nLike;var nDecimal=n.toString().replace(/^[^.]*\.?/,'');var i=Math.floor(Math.abs(n));var v=nDecimal.length;var f=parseInt(nDecimal,10);var t=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,''),10)||0;var lang=locale.split('-')[0].toLowerCase();switch(lang){case'af':case'asa':case'az':case'bem':case'bez':case'bg':case'brx':case'ce':case'cgg':case'chr':case'ckb':case'ee':case'el':case'eo':case'es':case'eu':case'fo':case'fur':case'gsw':case'ha':case'haw':case'hu':case'jgo':case'jmc':case'ka':case'kk':case'kkj':case'kl':case'ks':case'ksb':case'ky':case'lb':case'lg':case'mas':case'mgo':case'ml':case'mn':case'nb':case'nd':case'ne':case'nn':case'nnh':case'nyn':case'om':case'or':case'os':case'ps':case'rm':case'rof':case'rwk':case'saq':case'seh':case'sn':case'so':case'sq':case'ta':case'te':case'teo':case'tk':case'tr':case'ug':case'uz':case'vo':case'vun':case'wae':case'xog':if(n===1)return Plural.One;return Plural.Other;case'agq':case'bas':case'cu':case'dav':case'dje':case'dua':case'dyo':case'ebu':case'ewo':case'guz':case'kam':case'khq':case'ki':case'kln':case'kok':case'ksf':case'lrc':case'lu':case'luo':case'luy':case'mer':case'mfe':case'mgh':case'mua':case'mzn':case'nmg':case'nus':case'qu':case'rn':case'rw':case'sbp':case'twq':case'vai':case'yav':case'yue':case'zgh':case'ak':case'ln':case'mg':case'pa':case'ti':if(n===Math.floor(n)&&n>=0&&n<=1)return Plural.One;return Plural.Other;case'am':case'as':case'bn':case'fa':case'gu':case'hi':case'kn':case'mr':case'zu':if(i===0||n===1)return Plural.One;return Plural.Other;case'ar':if(n===0)return Plural.Zero;if(n===1)return Plural.One;if(n===2)return Plural.Two;if(n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10)return Plural.Few;if(n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99)return Plural.Many;return Plural.Other;case'ast':case'ca':case'de':case'en':case'et':case'fi':case'fy':case'gl':case'it':case'nl':case'sv':case'sw':case'ur':case'yi':if(i===1&&v===0)return Plural.One;return Plural.Other;case'be':if(n%10===1&&!(n%100===11))return Plural.One;if(n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14))return Plural.Few;if(n%10===0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14)return Plural.Many;return Plural.Other;case'br':if(n%10===1&&!(n%100===11||n%100===71||n%100===91))return Plural.One;if(n%10===2&&!(n%100===12||n%100===72||n%100===92))return Plural.Two;if(n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10===9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99))return Plural.Few;if(!(n===0)&&n%1e6===0)return Plural.Many;return Plural.Other;case'bs':case'hr':case'sr':if(v===0&&i%10===1&&!(i%100===11)||f%10===1&&!(f%100===11))return Plural.One;if(v===0&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||f%10===Math.floor(f%10)&&f%10>=2&&f%10<=4&&!(f%100>=12&&f%100<=14))return Plural.Few;return Plural.Other;case'cs':case'sk':if(i===1&&v===0)return Plural.One;if(i===Math.floor(i)&&i>=2&&i<=4&&v===0)return Plural.Few;if(!(v===0))return Plural.Many;return Plural.Other;case'cy':if(n===0)return Plural.Zero;if(n===1)return Plural.One;if(n===2)return Plural.Two;if(n===3)return Plural.Few;if(n===6)return Plural.Many;return Plural.Other;case'da':if(n===1||!(t===0)&&(i===0||i===1))return Plural.One;return Plural.Other;case'dsb':case'hsb':if(v===0&&i%100===1||f%100===1)return Plural.One;if(v===0&&i%100===2||f%100===2)return Plural.Two;if(v===0&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||f%100===Math.floor(f%100)&&f%100>=3&&f%100<=4)return Plural.Few;return Plural.Other;case'ff':case'fr':case'hy':case'kab':if(i===0||i===1)return Plural.One;return Plural.Other;case'fil':if(v===0&&(i===1||i===2||i===3)||v===0&&!(i%10===4||i%10===6||i%10===9)||!(v===0)&&!(f%10===4||f%10===6||f%10===9))return Plural.One;return Plural.Other;case'ga':if(n===1)return Plural.One;if(n===2)return Plural.Two;if(n===Math.floor(n)&&n>=3&&n<=6)return Plural.Few;if(n===Math.floor(n)&&n>=7&&n<=10)return Plural.Many;return Plural.Other;case'gd':if(n===1||n===11)return Plural.One;if(n===2||n===12)return Plural.Two;if(n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19))return Plural.Few;return Plural.Other;case'gv':if(v===0&&i%10===1)return Plural.One;if(v===0&&i%10===2)return Plural.Two;if(v===0&&(i%100===0||i%100===20||i%100===40||i%100===60||i%100===80))return Plural.Few;if(!(v===0))return Plural.Many;return Plural.Other;case'he':if(i===1&&v===0)return Plural.One;if(i===2&&v===0)return Plural.Two;if(v===0&&!(n>=0&&n<=10)&&n%10===0)return Plural.Many;return Plural.Other;case'is':if(t===0&&i%10===1&&!(i%100===11)||!(t===0))return Plural.One;return Plural.Other;case'ksh':if(n===0)return Plural.Zero;if(n===1)return Plural.One;return Plural.Other;case'kw':case'naq':case'se':case'smn':if(n===1)return Plural.One;if(n===2)return Plural.Two;return Plural.Other;case'lag':if(n===0)return Plural.Zero;if((i===0||i===1)&&!(n===0))return Plural.One;return Plural.Other;case'lt':if(n%10===1&&!(n%100>=11&&n%100<=19))return Plural.One;if(n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19))return Plural.Few;if(!(f===0))return Plural.Many;return Plural.Other;case'lv':case'prg':if(n%10===0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||v===2&&f%100===Math.floor(f%100)&&f%100>=11&&f%100<=19)return Plural.Zero;if(n%10===1&&!(n%100===11)||v===2&&f%10===1&&!(f%100===11)||!(v===2)&&f%10===1)return Plural.One;return Plural.Other;case'mk':if(v===0&&i%10===1||f%10===1)return Plural.One;return Plural.Other;case'mt':if(n===1)return Plural.One;if(n===0||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10)return Plural.Few;if(n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19)return Plural.Many;return Plural.Other;case'pl':if(i===1&&v===0)return Plural.One;if(v===0&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14))return Plural.Few;if(v===0&&!(i===1)&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||v===0&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||v===0&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14)return Plural.Many;return Plural.Other;case'pt':if(n===Math.floor(n)&&n>=0&&n<=2&&!(n===2))return Plural.One;return Plural.Other;case'ro':if(i===1&&v===0)return Plural.One;if(!(v===0)||n===0||!(n===1)&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19)return Plural.Few;return Plural.Other;case'ru':case'uk':if(v===0&&i%10===1&&!(i%100===11))return Plural.One;if(v===0&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14))return Plural.Few;if(v===0&&i%10===0||v===0&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||v===0&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14)return Plural.Many;return Plural.Other;case'shi':if(i===0||n===1)return Plural.One;if(n===Math.floor(n)&&n>=2&&n<=10)return Plural.Few;return Plural.Other;case'si':if(n===0||n===1||i===0&&f===1)return Plural.One;return Plural.Other;case'sl':if(v===0&&i%100===1)return Plural.One;if(v===0&&i%100===2)return Plural.Two;if(v===0&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||!(v===0))return Plural.Few;return Plural.Other;case'tzm':if(n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99)return Plural.One;return Plural.Other;default:return Plural.Other;}}

function isListLikeIterable$1(obj){if(!isJsObject$1(obj))return false;return Array.isArray(obj)||!(obj instanceof Map)&&getSymbolIterator$1()in obj}

var NgClass=function(){function NgClass(_iterableDiffers,_keyValueDiffers,_ngEl,_renderer){this._iterableDiffers=_iterableDiffers;this._keyValueDiffers=_keyValueDiffers;this._ngEl=_ngEl;this._renderer=_renderer;this._initialClasses=[];}Object.defineProperty(NgClass.prototype,'klass',{set:function set(v){this._applyInitialClasses(true);this._initialClasses=typeof v==='string'?v.split(/\s+/):[];this._applyInitialClasses(false);this._applyClasses(this._rawClass,false);},enumerable:true,configurable:true});Object.defineProperty(NgClass.prototype,'ngClass',{set:function set(v){this._cleanupClasses(this._rawClass);this._iterableDiffer=null;this._keyValueDiffer=null;this._rawClass=typeof v==='string'?v.split(/\s+/):v;if(this._rawClass){if(isListLikeIterable$1(this._rawClass)){this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create(null);}else{this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create(null);}}},enumerable:true,configurable:true});NgClass.prototype.ngDoCheck=function(){if(this._iterableDiffer){var changes=this._iterableDiffer.diff(this._rawClass);if(changes){this._applyIterableChanges(changes);}}else if(this._keyValueDiffer){var changes=this._keyValueDiffer.diff(this._rawClass);if(changes){this._applyKeyValueChanges(changes);}}};NgClass.prototype._cleanupClasses=function(rawClassVal){this._applyClasses(rawClassVal,true);this._applyInitialClasses(false);};NgClass.prototype._applyKeyValueChanges=function(changes){var _this=this;changes.forEachAddedItem(function(record){return _this._toggleClass(record.key,record.currentValue)});changes.forEachChangedItem(function(record){return _this._toggleClass(record.key,record.currentValue)});changes.forEachRemovedItem(function(record){if(record.previousValue){_this._toggleClass(record.key,false);}});};NgClass.prototype._applyIterableChanges=function(changes){var _this=this;changes.forEachAddedItem(function(record){if(typeof record.item==='string'){_this._toggleClass(record.item,true);}else{throw new Error('NgClass can only toggle CSS classes expressed as strings, got '+stringify$1(record.item))}});changes.forEachRemovedItem(function(record){return _this._toggleClass(record.item,false)});};NgClass.prototype._applyInitialClasses=function(isCleanup){var _this=this;this._initialClasses.forEach(function(klass){return _this._toggleClass(klass,!isCleanup)});};NgClass.prototype._applyClasses=function(rawClassVal,isCleanup){var _this=this;if(rawClassVal){if(Array.isArray(rawClassVal)||rawClassVal instanceof Set){rawClassVal.forEach(function(klass){return _this._toggleClass(klass,!isCleanup)});}else{Object.keys(rawClassVal).forEach(function(klass){if(isPresent$1(rawClassVal[klass]))_this._toggleClass(klass,!isCleanup);});}}};NgClass.prototype._toggleClass=function(klass,enabled){var _this=this;klass=klass.trim();if(klass){klass.split(/\s+/g).forEach(function(klass){_this._renderer.setElementClass(_this._ngEl.nativeElement,klass,enabled);});}};NgClass.decorators=[{type:Directive,args:[{selector:'[ngClass]'}]}];NgClass.ctorParameters=function(){return[{type:IterableDiffers},{type:KeyValueDiffers},{type:ElementRef},{type:Renderer}]};NgClass.propDecorators={'klass':[{type:Input,args:['class']}],'ngClass':[{type:Input}]};return NgClass}();

var NgForRow=function(){function NgForRow($implicit,index,count){this.$implicit=$implicit;this.index=index;this.count=count;}Object.defineProperty(NgForRow.prototype,'first',{get:function get(){return this.index===0},enumerable:true,configurable:true});Object.defineProperty(NgForRow.prototype,'last',{get:function get(){return this.index===this.count-1},enumerable:true,configurable:true});Object.defineProperty(NgForRow.prototype,'even',{get:function get(){return this.index%2===0},enumerable:true,configurable:true});Object.defineProperty(NgForRow.prototype,'odd',{get:function get(){return!this.even},enumerable:true,configurable:true});return NgForRow}();var NgFor=function(){function NgFor(_viewContainer,_template,_differs,_cdr){this._viewContainer=_viewContainer;this._template=_template;this._differs=_differs;this._cdr=_cdr;this._differ=null;}Object.defineProperty(NgFor.prototype,'ngForTemplate',{set:function set(value){if(value){this._template=value;}},enumerable:true,configurable:true});NgFor.prototype.ngOnChanges=function(changes){if('ngForOf'in changes){var value=changes['ngForOf'].currentValue;if(!this._differ&&value){try{this._differ=this._differs.find(value).create(this._cdr,this.ngForTrackBy);}catch(e){throw new Error('Cannot find a differ supporting object \''+value+'\' of type \''+getTypeNameForDebugging$1(value)+'\'. NgFor only supports binding to Iterables such as Arrays.')}}}};NgFor.prototype.ngDoCheck=function(){if(this._differ){var changes=this._differ.diff(this.ngForOf);if(changes)this._applyChanges(changes);}};NgFor.prototype._applyChanges=function(changes){var _this=this;var insertTuples=[];changes.forEachOperation(function(item,adjustedPreviousIndex,currentIndex){if(item.previousIndex==null){var view=_this._viewContainer.createEmbeddedView(_this._template,new NgForRow(null,null,null),currentIndex);var tuple=new RecordViewTuple(item,view);insertTuples.push(tuple);}else if(currentIndex==null){_this._viewContainer.remove(adjustedPreviousIndex);}else{var view=_this._viewContainer.get(adjustedPreviousIndex);_this._viewContainer.move(view,currentIndex);var tuple=new RecordViewTuple(item,view);insertTuples.push(tuple);}});for(var i=0;i<insertTuples.length;i++){this._perViewChange(insertTuples[i].view,insertTuples[i].record);}for(var i=0,ilen=this._viewContainer.length;i<ilen;i++){var viewRef=this._viewContainer.get(i);viewRef.context.index=i;viewRef.context.count=ilen;}changes.forEachIdentityChange(function(record){var viewRef=_this._viewContainer.get(record.currentIndex);viewRef.context.$implicit=record.item;});};NgFor.prototype._perViewChange=function(view,record){view.context.$implicit=record.item;};NgFor.decorators=[{type:Directive,args:[{selector:'[ngFor][ngForOf]'}]}];NgFor.ctorParameters=function(){return[{type:ViewContainerRef},{type:TemplateRef},{type:IterableDiffers},{type:ChangeDetectorRef}]};NgFor.propDecorators={'ngForOf':[{type:Input}],'ngForTrackBy':[{type:Input}],'ngForTemplate':[{type:Input}]};return NgFor}();var RecordViewTuple=function(){function RecordViewTuple(record,view){this.record=record;this.view=view;}return RecordViewTuple}();

var NgIf=function(){function NgIf(_viewContainer,_template){this._viewContainer=_viewContainer;this._template=_template;this._hasView=false;}Object.defineProperty(NgIf.prototype,'ngIf',{set:function set(condition){if(condition&&!this._hasView){this._hasView=true;this._viewContainer.createEmbeddedView(this._template);}else if(!condition&&this._hasView){this._hasView=false;this._viewContainer.clear();}},enumerable:true,configurable:true});NgIf.decorators=[{type:Directive,args:[{selector:'[ngIf]'}]}];NgIf.ctorParameters=function(){return[{type:ViewContainerRef},{type:TemplateRef}]};NgIf.propDecorators={'ngIf':[{type:Input}]};return NgIf}();

var SwitchView=function(){function SwitchView(_viewContainerRef,_templateRef){this._viewContainerRef=_viewContainerRef;this._templateRef=_templateRef;this._created=false;}SwitchView.prototype.create=function(){this._created=true;this._viewContainerRef.createEmbeddedView(this._templateRef);};SwitchView.prototype.destroy=function(){this._created=false;this._viewContainerRef.clear();};SwitchView.prototype.enforceState=function(created){if(created&&!this._created){this.create();}else if(!created&&this._created){this.destroy();}};return SwitchView}();var NgSwitch=function(){function NgSwitch(){this._defaultUsed=false;this._caseCount=0;this._lastCaseCheckIndex=0;this._lastCasesMatched=false;}Object.defineProperty(NgSwitch.prototype,'ngSwitch',{set:function set(newValue){this._ngSwitch=newValue;if(this._caseCount===0){this._updateDefaultCases(true);}},enumerable:true,configurable:true});NgSwitch.prototype._addCase=function(){return this._caseCount++};NgSwitch.prototype._addDefault=function(view){if(!this._defaultViews){this._defaultViews=[];}this._defaultViews.push(view);};NgSwitch.prototype._matchCase=function(value){var matched=value==this._ngSwitch;this._lastCasesMatched=this._lastCasesMatched||matched;this._lastCaseCheckIndex++;if(this._lastCaseCheckIndex===this._caseCount){this._updateDefaultCases(!this._lastCasesMatched);this._lastCaseCheckIndex=0;this._lastCasesMatched=false;}return matched};NgSwitch.prototype._updateDefaultCases=function(useDefault){if(this._defaultViews&&useDefault!==this._defaultUsed){this._defaultUsed=useDefault;for(var i=0;i<this._defaultViews.length;i++){var defaultView=this._defaultViews[i];defaultView.enforceState(useDefault);}}};NgSwitch.decorators=[{type:Directive,args:[{selector:'[ngSwitch]'}]}];NgSwitch.ctorParameters=function(){return[]};NgSwitch.propDecorators={'ngSwitch':[{type:Input}]};return NgSwitch}();var NgSwitchCase=function(){function NgSwitchCase(viewContainer,templateRef,ngSwitch){this.ngSwitch=ngSwitch;ngSwitch._addCase();this._view=new SwitchView(viewContainer,templateRef);}NgSwitchCase.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase));};NgSwitchCase.decorators=[{type:Directive,args:[{selector:'[ngSwitchCase]'}]}];NgSwitchCase.ctorParameters=function(){return[{type:ViewContainerRef},{type:TemplateRef},{type:NgSwitch,decorators:[{type:Host}]}]};NgSwitchCase.propDecorators={'ngSwitchCase':[{type:Input}]};return NgSwitchCase}();var NgSwitchDefault=function(){function NgSwitchDefault(viewContainer,templateRef,ngSwitch){ngSwitch._addDefault(new SwitchView(viewContainer,templateRef));}NgSwitchDefault.decorators=[{type:Directive,args:[{selector:'[ngSwitchDefault]'}]}];NgSwitchDefault.ctorParameters=function(){return[{type:ViewContainerRef},{type:TemplateRef},{type:NgSwitch,decorators:[{type:Host}]}]};return NgSwitchDefault}();

var NgPlural=function(){function NgPlural(_localization){this._localization=_localization;this._caseViews={};}Object.defineProperty(NgPlural.prototype,'ngPlural',{set:function set(value){this._switchValue=value;this._updateView();},enumerable:true,configurable:true});NgPlural.prototype.addCase=function(value,switchView){this._caseViews[value]=switchView;};NgPlural.prototype._updateView=function(){this._clearViews();var cases=Object.keys(this._caseViews);var key=getPluralCategory(this._switchValue,cases,this._localization);this._activateView(this._caseViews[key]);};NgPlural.prototype._clearViews=function(){if(this._activeView)this._activeView.destroy();};NgPlural.prototype._activateView=function(view){if(view){this._activeView=view;this._activeView.create();}};NgPlural.decorators=[{type:Directive,args:[{selector:'[ngPlural]'}]}];NgPlural.ctorParameters=function(){return[{type:NgLocalization}]};NgPlural.propDecorators={'ngPlural':[{type:Input}]};return NgPlural}();var NgPluralCase=function(){function NgPluralCase(value,template,viewContainer,ngPlural){this.value=value;ngPlural.addCase(value,new SwitchView(viewContainer,template));}NgPluralCase.decorators=[{type:Directive,args:[{selector:'[ngPluralCase]'}]}];NgPluralCase.ctorParameters=function(){return[{type:undefined,decorators:[{type:Attribute,args:['ngPluralCase']}]},{type:TemplateRef},{type:ViewContainerRef},{type:NgPlural,decorators:[{type:Host}]}]};return NgPluralCase}();

var NgStyle=function(){function NgStyle(_differs,_ngEl,_renderer){this._differs=_differs;this._ngEl=_ngEl;this._renderer=_renderer;}Object.defineProperty(NgStyle.prototype,'ngStyle',{set:function set(v){this._ngStyle=v;if(!this._differ&&v){this._differ=this._differs.find(v).create(null);}},enumerable:true,configurable:true});NgStyle.prototype.ngDoCheck=function(){if(this._differ){var changes=this._differ.diff(this._ngStyle);if(changes){this._applyChanges(changes);}}};NgStyle.prototype._applyChanges=function(changes){var _this=this;changes.forEachRemovedItem(function(record){return _this._setStyle(record.key,null)});changes.forEachAddedItem(function(record){return _this._setStyle(record.key,record.currentValue)});changes.forEachChangedItem(function(record){return _this._setStyle(record.key,record.currentValue)});};NgStyle.prototype._setStyle=function(nameAndUnit,value){var _a=nameAndUnit.split('.'),name=_a[0],unit=_a[1];value=value&&unit?''+value+unit:value;this._renderer.setElementStyle(this._ngEl.nativeElement,name,value);};NgStyle.decorators=[{type:Directive,args:[{selector:'[ngStyle]'}]}];NgStyle.ctorParameters=function(){return[{type:KeyValueDiffers},{type:ElementRef},{type:Renderer}]};NgStyle.propDecorators={'ngStyle':[{type:Input}]};return NgStyle}();

var NgTemplateOutlet=function(){function NgTemplateOutlet(_viewContainerRef){this._viewContainerRef=_viewContainerRef;}Object.defineProperty(NgTemplateOutlet.prototype,"ngOutletContext",{set:function set(context){this._context=context;},enumerable:true,configurable:true});Object.defineProperty(NgTemplateOutlet.prototype,"ngTemplateOutlet",{set:function set(templateRef){this._templateRef=templateRef;},enumerable:true,configurable:true});NgTemplateOutlet.prototype.ngOnChanges=function(changes){if(this._viewRef){this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef));}if(this._templateRef){this._viewRef=this._viewContainerRef.createEmbeddedView(this._templateRef,this._context);}};NgTemplateOutlet.decorators=[{type:Directive,args:[{selector:"[ngTemplateOutlet]"}]}];NgTemplateOutlet.ctorParameters=function(){return[{type:ViewContainerRef}]};NgTemplateOutlet.propDecorators={"ngOutletContext":[{type:Input}],"ngTemplateOutlet":[{type:Input}]};return NgTemplateOutlet}();

var COMMON_DIRECTIVES=[NgClass,NgFor,NgIf,NgTemplateOutlet,NgStyle,NgSwitch,NgSwitchCase,NgSwitchDefault,NgPlural,NgPluralCase];

var isPromise$1=__core_private__.isPromise;

var __extends$25=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var BaseError$1=function(_super){__extends$25(BaseError,_super);function BaseError(message){_super.call(this,message);var nativeError=new Error(message);this._nativeError=nativeError;}Object.defineProperty(BaseError.prototype,"message",{get:function get(){return this._nativeError.message},set:function set(message){this._nativeError.message=message;},enumerable:true,configurable:true});Object.defineProperty(BaseError.prototype,"name",{get:function get(){return this._nativeError.name},enumerable:true,configurable:true});Object.defineProperty(BaseError.prototype,"stack",{get:function get(){return this._nativeError.stack},set:function set(value){this._nativeError.stack=value;},enumerable:true,configurable:true});BaseError.prototype.toString=function(){return this._nativeError.toString()};return BaseError}(Error);var WrappedError$1=function(_super){__extends$25(WrappedError,_super);function WrappedError(message,error){_super.call(this,message+" caused by: "+(error instanceof Error?error.message:error));this.originalError=error;}Object.defineProperty(WrappedError.prototype,"stack",{get:function get(){return(this.originalError instanceof Error?this.originalError:this._nativeError).stack},enumerable:true,configurable:true});return WrappedError}(BaseError$1);

var __extends$24=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var InvalidPipeArgumentError=function(_super){__extends$24(InvalidPipeArgumentError,_super);function InvalidPipeArgumentError(type,value){_super.call(this,'Invalid argument \''+value+'\' for pipe \''+stringify$1(type)+'\'');}return InvalidPipeArgumentError}(BaseError$1);

var ObservableStrategy=function(){function ObservableStrategy(){}ObservableStrategy.prototype.createSubscription=function(async,updateLatestValue){return async.subscribe({next:updateLatestValue,error:function error(e){throw e}})};ObservableStrategy.prototype.dispose=function(subscription){subscription.unsubscribe();};ObservableStrategy.prototype.onDestroy=function(subscription){subscription.unsubscribe();};return ObservableStrategy}();var PromiseStrategy=function(){function PromiseStrategy(){}PromiseStrategy.prototype.createSubscription=function(async,updateLatestValue){return async.then(updateLatestValue,function(e){throw e})};PromiseStrategy.prototype.dispose=function(subscription){};PromiseStrategy.prototype.onDestroy=function(subscription){};return PromiseStrategy}();var _promiseStrategy=new PromiseStrategy;var _observableStrategy=new ObservableStrategy;var AsyncPipe=function(){function AsyncPipe(_ref){this._ref=_ref;this._latestValue=null;this._latestReturnedValue=null;this._subscription=null;this._obj=null;this._strategy=null;}AsyncPipe.prototype.ngOnDestroy=function(){if(this._subscription){this._dispose();}};AsyncPipe.prototype.transform=function(obj){if(!this._obj){if(obj){this._subscribe(obj);}this._latestReturnedValue=this._latestValue;return this._latestValue}if(obj!==this._obj){this._dispose();return this.transform(obj)}if(this._latestValue===this._latestReturnedValue){return this._latestReturnedValue}this._latestReturnedValue=this._latestValue;return WrappedValue.wrap(this._latestValue)};AsyncPipe.prototype._subscribe=function(obj){var _this=this;this._obj=obj;this._strategy=this._selectStrategy(obj);this._subscription=this._strategy.createSubscription(obj,function(value){return _this._updateLatestValue(obj,value)});};AsyncPipe.prototype._selectStrategy=function(obj){if(isPromise$1(obj)){return _promiseStrategy}if(obj.subscribe){return _observableStrategy}throw new InvalidPipeArgumentError(AsyncPipe,obj)};AsyncPipe.prototype._dispose=function(){this._strategy.dispose(this._subscription);this._latestValue=null;this._latestReturnedValue=null;this._subscription=null;this._obj=null;};AsyncPipe.prototype._updateLatestValue=function(async,value){if(async===this._obj){this._latestValue=value;this._ref.markForCheck();}};AsyncPipe.decorators=[{type:Pipe,args:[{name:'async',pure:false}]}];AsyncPipe.ctorParameters=function(){return[{type:ChangeDetectorRef}]};return AsyncPipe}();

var NumberFormatStyle={};NumberFormatStyle.Decimal=0;NumberFormatStyle.Percent=1;NumberFormatStyle.Currency=2;NumberFormatStyle[NumberFormatStyle.Decimal]="Decimal";NumberFormatStyle[NumberFormatStyle.Percent]="Percent";NumberFormatStyle[NumberFormatStyle.Currency]="Currency";var NumberFormatter=function(){function NumberFormatter(){}NumberFormatter.format=function(num,locale,style,_a){var _b=_a===void 0?{}:_a,minimumIntegerDigits=_b.minimumIntegerDigits,minimumFractionDigits=_b.minimumFractionDigits,maximumFractionDigits=_b.maximumFractionDigits,currency=_b.currency,_c=_b.currencyAsSymbol,currencyAsSymbol=_c===void 0?false:_c;var options={minimumIntegerDigits:minimumIntegerDigits,minimumFractionDigits:minimumFractionDigits,maximumFractionDigits:maximumFractionDigits,style:NumberFormatStyle[style].toLowerCase()};if(style==NumberFormatStyle.Currency){options.currency=currency;options.currencyDisplay=currencyAsSymbol?"symbol":"code";}return new Intl.NumberFormat(locale,options).format(num)};return NumberFormatter}();var DATE_FORMATS_SPLIT=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/;var PATTERN_ALIASES={"yMMMdjms":datePartGetterFactory(combine([digitCondition("year",1),nameCondition("month",3),digitCondition("day",1),digitCondition("hour",1),digitCondition("minute",1),digitCondition("second",1)])),"yMdjm":datePartGetterFactory(combine([digitCondition("year",1),digitCondition("month",1),digitCondition("day",1),digitCondition("hour",1),digitCondition("minute",1)])),"yMMMMEEEEd":datePartGetterFactory(combine([digitCondition("year",1),nameCondition("month",4),nameCondition("weekday",4),digitCondition("day",1)])),"yMMMMd":datePartGetterFactory(combine([digitCondition("year",1),nameCondition("month",4),digitCondition("day",1)])),"yMMMd":datePartGetterFactory(combine([digitCondition("year",1),nameCondition("month",3),digitCondition("day",1)])),"yMd":datePartGetterFactory(combine([digitCondition("year",1),digitCondition("month",1),digitCondition("day",1)])),"jms":datePartGetterFactory(combine([digitCondition("hour",1),digitCondition("second",1),digitCondition("minute",1)])),"jm":datePartGetterFactory(combine([digitCondition("hour",1),digitCondition("minute",1)]))};var DATE_FORMATS={"yyyy":datePartGetterFactory(digitCondition("year",4)),"yy":datePartGetterFactory(digitCondition("year",2)),"y":datePartGetterFactory(digitCondition("year",1)),"MMMM":datePartGetterFactory(nameCondition("month",4)),"MMM":datePartGetterFactory(nameCondition("month",3)),"MM":datePartGetterFactory(digitCondition("month",2)),"M":datePartGetterFactory(digitCondition("month",1)),"LLLL":datePartGetterFactory(nameCondition("month",4)),"L":datePartGetterFactory(nameCondition("month",1)),"dd":datePartGetterFactory(digitCondition("day",2)),"d":datePartGetterFactory(digitCondition("day",1)),"HH":digitModifier(hourExtractor(datePartGetterFactory(hour12Modify(digitCondition("hour",2),false)))),"H":hourExtractor(datePartGetterFactory(hour12Modify(digitCondition("hour",1),false))),"hh":digitModifier(hourExtractor(datePartGetterFactory(hour12Modify(digitCondition("hour",2),true)))),"h":hourExtractor(datePartGetterFactory(hour12Modify(digitCondition("hour",1),true))),"jj":datePartGetterFactory(digitCondition("hour",2)),"j":datePartGetterFactory(digitCondition("hour",1)),"mm":digitModifier(datePartGetterFactory(digitCondition("minute",2))),"m":datePartGetterFactory(digitCondition("minute",1)),"ss":digitModifier(datePartGetterFactory(digitCondition("second",2))),"s":datePartGetterFactory(digitCondition("second",1)),"sss":datePartGetterFactory(digitCondition("second",3)),"EEEE":datePartGetterFactory(nameCondition("weekday",4)),"EEE":datePartGetterFactory(nameCondition("weekday",3)),"EE":datePartGetterFactory(nameCondition("weekday",2)),"E":datePartGetterFactory(nameCondition("weekday",1)),"a":hourClockExtractor(datePartGetterFactory(hour12Modify(digitCondition("hour",1),true))),"Z":timeZoneGetter("short"),"z":timeZoneGetter("long"),"ww":datePartGetterFactory({}),"w":datePartGetterFactory({}),"G":datePartGetterFactory(nameCondition("era",1)),"GG":datePartGetterFactory(nameCondition("era",2)),"GGG":datePartGetterFactory(nameCondition("era",3)),"GGGG":datePartGetterFactory(nameCondition("era",4))};function digitModifier(inner){return function(date,locale){var result=inner(date,locale);return result.length==1?"0"+result:result}}function hourClockExtractor(inner){return function(date,locale){return inner(date,locale).split(" ")[1]}}function hourExtractor(inner){return function(date,locale){return inner(date,locale).split(" ")[0]}}function intlDateFormat(date,locale,options){return new Intl.DateTimeFormat(locale,options).format(date).replace(/[\u200e\u200f]/g,"")}function timeZoneGetter(timezone){var options={hour:"2-digit",hour12:false,timeZoneName:timezone};return function(date,locale){var result=intlDateFormat(date,locale,options);return result?result.substring(3):""}}function hour12Modify(options,value){options.hour12=value;return options}function digitCondition(prop,len){var result={};result[prop]=len===2?"2-digit":"numeric";return result}function nameCondition(prop,len){var result={};if(len<4){result[prop]=len>1?"short":"narrow";}else{result[prop]="long";}return result}function combine(options){return(_a=Object).assign.apply(_a,[{}].concat(options));var _a;}function datePartGetterFactory(ret){return function(date,locale){return intlDateFormat(date,locale,ret)}}var DATE_FORMATTER_CACHE=new Map;function dateFormatter(format,date,locale){var fn=PATTERN_ALIASES[format];if(fn)return fn(date,locale);var cacheKey=format;var parts=DATE_FORMATTER_CACHE.get(cacheKey);if(!parts){parts=[];var match=void 0;DATE_FORMATS_SPLIT.exec(format);while(format){match=DATE_FORMATS_SPLIT.exec(format);if(match){parts=parts.concat(match.slice(1));format=parts.pop();}else{parts.push(format);format=null;}}DATE_FORMATTER_CACHE.set(cacheKey,parts);}return parts.reduce(function(text,part){var fn=DATE_FORMATS[part];return text+(fn?fn(date,locale):partToTime(part))},"")}function partToTime(part){return part==="''"?"'":part.replace(/(^'|'$)/g,"").replace(/''/g,"'")}var DateFormatter=function(){function DateFormatter(){}DateFormatter.format=function(date,locale,pattern){return dateFormatter(pattern,date,locale)};return DateFormatter}();

var DatePipe=function(){function DatePipe(_locale){this._locale=_locale;}DatePipe.prototype.transform=function(value,pattern){if(pattern===void 0){pattern='mediumDate';}var date;if(isBlank$2(value))return null;if(typeof value==='string'){value=value.trim();}if(isDate$1(value)){date=value;}else if(NumberWrapper$1.isNumeric(value)){date=new Date(parseFloat(value));}else if(typeof value==='string'&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(value)){var _a=value.split('-').map(function(val){return parseInt(val,10)}),y=_a[0],m=_a[1],d=_a[2];date=new Date(y,m-1,d);}else{date=new Date(value);}if(!isDate$1(date)){throw new InvalidPipeArgumentError(DatePipe,value)}return DateFormatter.format(date,this._locale,DatePipe._ALIASES[pattern]||pattern)};DatePipe._ALIASES={'medium':'yMMMdjms','short':'yMdjm','fullDate':'yMMMMEEEEd','longDate':'yMMMMd','mediumDate':'yMMMd','shortDate':'yMd','mediumTime':'jms','shortTime':'jm'};DatePipe.decorators=[{type:Pipe,args:[{name:'date',pure:true}]}];DatePipe.ctorParameters=function(){return[{type:undefined,decorators:[{type:Inject,args:[LOCALE_ID]}]}]};return DatePipe}();function isBlank$2(obj){return obj==null||obj===''}

var _INTERPOLATION_REGEXP=/#/g;var I18nPluralPipe=function(){function I18nPluralPipe(_localization){this._localization=_localization;}I18nPluralPipe.prototype.transform=function(value,pluralMap){if(isBlank$1(value))return'';if((typeof pluralMap==='undefined'?'undefined':_typeof(pluralMap))!=='object'||pluralMap===null){throw new InvalidPipeArgumentError(I18nPluralPipe,pluralMap)}var key=getPluralCategory(value,Object.keys(pluralMap),this._localization);return pluralMap[key].replace(_INTERPOLATION_REGEXP,value.toString())};I18nPluralPipe.decorators=[{type:Pipe,args:[{name:'i18nPlural',pure:true}]}];I18nPluralPipe.ctorParameters=function(){return[{type:NgLocalization}]};return I18nPluralPipe}();

var I18nSelectPipe=function(){function I18nSelectPipe(){}I18nSelectPipe.prototype.transform=function(value,mapping){if(value==null)return'';if((typeof mapping==='undefined'?'undefined':_typeof(mapping))!=='object'||typeof value!=='string'){throw new InvalidPipeArgumentError(I18nSelectPipe,mapping)}if(mapping.hasOwnProperty(value)){return mapping[value]}if(mapping.hasOwnProperty('other')){return mapping['other']}return''};I18nSelectPipe.decorators=[{type:Pipe,args:[{name:'i18nSelect',pure:true}]}];I18nSelectPipe.ctorParameters=function(){return[]};return I18nSelectPipe}();

var JsonPipe=function(){function JsonPipe(){}JsonPipe.prototype.transform=function(value){return JSON.stringify(value,null,2)};JsonPipe.decorators=[{type:Pipe,args:[{name:'json',pure:false}]}];JsonPipe.ctorParameters=function(){return[]};return JsonPipe}();

var LowerCasePipe=function(){function LowerCasePipe(){}LowerCasePipe.prototype.transform=function(value){if(isBlank$1(value))return value;if(typeof value!=='string'){throw new InvalidPipeArgumentError(LowerCasePipe,value)}return value.toLowerCase()};LowerCasePipe.decorators=[{type:Pipe,args:[{name:'lowercase'}]}];LowerCasePipe.ctorParameters=function(){return[]};return LowerCasePipe}();

var _NUMBER_FORMAT_REGEXP=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function formatNumber(pipe,locale,value,style$$1,digits,currency,currencyAsSymbol){if(currency===void 0){currency=null;}if(currencyAsSymbol===void 0){currencyAsSymbol=false;}if(isBlank$1(value))return null;value=typeof value==='string'&&NumberWrapper$1.isNumeric(value)?+value:value;if(typeof value!=='number'){throw new InvalidPipeArgumentError(pipe,value)}var minInt;var minFraction;var maxFraction;if(style$$1!==NumberFormatStyle.Currency){minInt=1;minFraction=0;maxFraction=3;}if(digits){var parts=digits.match(_NUMBER_FORMAT_REGEXP);if(parts===null){throw new Error(digits+' is not a valid digit info for number pipes')}if(isPresent$1(parts[1])){minInt=NumberWrapper$1.parseIntAutoRadix(parts[1]);}if(isPresent$1(parts[3])){minFraction=NumberWrapper$1.parseIntAutoRadix(parts[3]);}if(isPresent$1(parts[5])){maxFraction=NumberWrapper$1.parseIntAutoRadix(parts[5]);}}return NumberFormatter.format(value,locale,style$$1,{minimumIntegerDigits:minInt,minimumFractionDigits:minFraction,maximumFractionDigits:maxFraction,currency:currency,currencyAsSymbol:currencyAsSymbol})}var DecimalPipe=function(){function DecimalPipe(_locale){this._locale=_locale;}DecimalPipe.prototype.transform=function(value,digits){if(digits===void 0){digits=null;}return formatNumber(DecimalPipe,this._locale,value,NumberFormatStyle.Decimal,digits)};DecimalPipe.decorators=[{type:Pipe,args:[{name:'number'}]}];DecimalPipe.ctorParameters=function(){return[{type:undefined,decorators:[{type:Inject,args:[LOCALE_ID]}]}]};return DecimalPipe}();var PercentPipe=function(){function PercentPipe(_locale){this._locale=_locale;}PercentPipe.prototype.transform=function(value,digits){if(digits===void 0){digits=null;}return formatNumber(PercentPipe,this._locale,value,NumberFormatStyle.Percent,digits)};PercentPipe.decorators=[{type:Pipe,args:[{name:'percent'}]}];PercentPipe.ctorParameters=function(){return[{type:undefined,decorators:[{type:Inject,args:[LOCALE_ID]}]}]};return PercentPipe}();var CurrencyPipe=function(){function CurrencyPipe(_locale){this._locale=_locale;}CurrencyPipe.prototype.transform=function(value,currencyCode,symbolDisplay,digits){if(currencyCode===void 0){currencyCode='USD';}if(symbolDisplay===void 0){symbolDisplay=false;}if(digits===void 0){digits=null;}return formatNumber(CurrencyPipe,this._locale,value,NumberFormatStyle.Currency,digits,currencyCode,symbolDisplay)};CurrencyPipe.decorators=[{type:Pipe,args:[{name:'currency'}]}];CurrencyPipe.ctorParameters=function(){return[{type:undefined,decorators:[{type:Inject,args:[LOCALE_ID]}]}]};return CurrencyPipe}();

var SlicePipe=function(){function SlicePipe(){}SlicePipe.prototype.transform=function(value,start,end){if(isBlank$1(value))return value;if(!this.supports(value)){throw new InvalidPipeArgumentError(SlicePipe,value)}return value.slice(start,end)};SlicePipe.prototype.supports=function(obj){return typeof obj==='string'||Array.isArray(obj)};SlicePipe.decorators=[{type:Pipe,args:[{name:'slice',pure:false}]}];SlicePipe.ctorParameters=function(){return[]};return SlicePipe}();

var UpperCasePipe=function(){function UpperCasePipe(){}UpperCasePipe.prototype.transform=function(value){if(isBlank$1(value))return value;if(typeof value!=='string'){throw new InvalidPipeArgumentError(UpperCasePipe,value)}return value.toUpperCase()};UpperCasePipe.decorators=[{type:Pipe,args:[{name:'uppercase'}]}];UpperCasePipe.ctorParameters=function(){return[]};return UpperCasePipe}();

var COMMON_PIPES=[AsyncPipe,UpperCasePipe,LowerCasePipe,JsonPipe,SlicePipe,DecimalPipe,PercentPipe,CurrencyPipe,DatePipe,I18nPluralPipe,I18nSelectPipe];

var CommonModule=function(){function CommonModule(){}CommonModule.decorators=[{type:NgModule,args:[{declarations:[COMMON_DIRECTIVES,COMMON_PIPES],exports:[COMMON_DIRECTIVES,COMMON_PIPES],providers:[{provide:NgLocalization,useClass:NgLocaleLocalization}]}]}];CommonModule.ctorParameters=function(){return[]};return CommonModule}();

var VERSION$1=new Version('2.3.1');

var DebugDomRootRenderer$1=__core_private__.DebugDomRootRenderer;var NoOpAnimationPlayer$1=__core_private__.NoOpAnimationPlayer;

var NoOpAnimationDriver=function(){function NoOpAnimationDriver(){}NoOpAnimationDriver.prototype.animate=function(element,startingStyles,keyframes,duration,delay,easing,previousPlayers){if(previousPlayers===void 0){previousPlayers=[];}return new NoOpAnimationPlayer$1};return NoOpAnimationDriver}();var AnimationDriver=function(){function AnimationDriver(){}AnimationDriver.prototype.animate=function(element,startingStyles,keyframes,duration,delay,easing,previousPlayers){};AnimationDriver.NOOP=new NoOpAnimationDriver;return AnimationDriver}();

var globalScope$2;if(typeof window==='undefined'){if(typeof WorkerGlobalScope!=='undefined'&&self instanceof WorkerGlobalScope){globalScope$2=self;}else{globalScope$2=global;}}else{globalScope$2=window;}var _global$2=globalScope$2;_global$2.assert=function assert(condition){};function isPresent$2(obj){return obj!=null}function isBlank$3(obj){return obj==null}function stringify$2(token){if(typeof token==='string'){return token}if(token==null){return''+token}if(token.overriddenName){return''+token.overriddenName}if(token.name){return''+token.name}var res=token.toString();var newLineIndex=res.indexOf('\n');return newLineIndex===-1?res:res.substring(0,newLineIndex)}function setValueOnPath$2(global,path,value){var parts=path.split('.');var obj=global;while(parts.length>1){var name_1=parts.shift();if(obj.hasOwnProperty(name_1)&&obj[name_1]!=null){obj=obj[name_1];}else{obj=obj[name_1]={};}}if(obj===undefined||obj===null){obj={};}obj[parts.shift()]=value;}var _symbolIterator$2=null;function getSymbolIterator$2(){if(!_symbolIterator$2){if(globalScope$2.Symbol&&Symbol.iterator){_symbolIterator$2=Symbol.iterator;}else{var keys=Object.getOwnPropertyNames(Map.prototype);for(var i=0;i<keys.length;++i){var key=keys[i];if(key!=='entries'&&key!=='size'&&Map.prototype[key]===Map.prototype['entries']){_symbolIterator$2=key;}}}}return _symbolIterator$2}

var _DOM=null;function getDOM(){return _DOM}function setRootDomAdapter(adapter){if(!_DOM){_DOM=adapter;}}var DomAdapter=function(){function DomAdapter(){this.resourceLoaderType=null;}DomAdapter.prototype.hasProperty=function(element,name){};DomAdapter.prototype.setProperty=function(el,name,value){};DomAdapter.prototype.getProperty=function(el,name){};DomAdapter.prototype.invoke=function(el,methodName,args){};DomAdapter.prototype.logError=function(error){};DomAdapter.prototype.log=function(error){};DomAdapter.prototype.logGroup=function(error){};DomAdapter.prototype.logGroupEnd=function(){};Object.defineProperty(DomAdapter.prototype,"attrToPropMap",{get:function get(){return this._attrToPropMap},set:function set(value){this._attrToPropMap=value;},enumerable:true,configurable:true});DomAdapter.prototype.parse=function(templateHtml){};DomAdapter.prototype.query=function(selector){};DomAdapter.prototype.querySelector=function(el,selector){};DomAdapter.prototype.querySelectorAll=function(el,selector){};DomAdapter.prototype.on=function(el,evt,listener){};DomAdapter.prototype.onAndCancel=function(el,evt,listener){};DomAdapter.prototype.dispatchEvent=function(el,evt){};DomAdapter.prototype.createMouseEvent=function(eventType){};DomAdapter.prototype.createEvent=function(eventType){};DomAdapter.prototype.preventDefault=function(evt){};DomAdapter.prototype.isPrevented=function(evt){};DomAdapter.prototype.getInnerHTML=function(el){};DomAdapter.prototype.getTemplateContent=function(el){};DomAdapter.prototype.getOuterHTML=function(el){};DomAdapter.prototype.nodeName=function(node){};DomAdapter.prototype.nodeValue=function(node){};DomAdapter.prototype.type=function(node){};DomAdapter.prototype.content=function(node){};DomAdapter.prototype.firstChild=function(el){};DomAdapter.prototype.nextSibling=function(el){};DomAdapter.prototype.parentElement=function(el){};DomAdapter.prototype.childNodes=function(el){};DomAdapter.prototype.childNodesAsList=function(el){};DomAdapter.prototype.clearNodes=function(el){};DomAdapter.prototype.appendChild=function(el,node){};DomAdapter.prototype.removeChild=function(el,node){};DomAdapter.prototype.replaceChild=function(el,newNode,oldNode){};DomAdapter.prototype.remove=function(el){};DomAdapter.prototype.insertBefore=function(el,node){};DomAdapter.prototype.insertAllBefore=function(el,nodes){};DomAdapter.prototype.insertAfter=function(el,node){};DomAdapter.prototype.setInnerHTML=function(el,value){};DomAdapter.prototype.getText=function(el){};DomAdapter.prototype.setText=function(el,value){};DomAdapter.prototype.getValue=function(el){};DomAdapter.prototype.setValue=function(el,value){};DomAdapter.prototype.getChecked=function(el){};DomAdapter.prototype.setChecked=function(el,value){};DomAdapter.prototype.createComment=function(text){};DomAdapter.prototype.createTemplate=function(html){};DomAdapter.prototype.createElement=function(tagName,doc){};DomAdapter.prototype.createElementNS=function(ns,tagName,doc){};DomAdapter.prototype.createTextNode=function(text,doc){};DomAdapter.prototype.createScriptTag=function(attrName,attrValue,doc){};DomAdapter.prototype.createStyleElement=function(css,doc){};DomAdapter.prototype.createShadowRoot=function(el){};DomAdapter.prototype.getShadowRoot=function(el){};DomAdapter.prototype.getHost=function(el){};DomAdapter.prototype.getDistributedNodes=function(el){};DomAdapter.prototype.clone=function(node){};DomAdapter.prototype.getElementsByClassName=function(element,name){};DomAdapter.prototype.getElementsByTagName=function(element,name){};DomAdapter.prototype.classList=function(element){};DomAdapter.prototype.addClass=function(element,className){};DomAdapter.prototype.removeClass=function(element,className){};DomAdapter.prototype.hasClass=function(element,className){};DomAdapter.prototype.setStyle=function(element,styleName,styleValue){};DomAdapter.prototype.removeStyle=function(element,styleName){};DomAdapter.prototype.getStyle=function(element,styleName){};DomAdapter.prototype.hasStyle=function(element,styleName,styleValue){};DomAdapter.prototype.tagName=function(element){};DomAdapter.prototype.attributeMap=function(element){};DomAdapter.prototype.hasAttribute=function(element,attribute){};DomAdapter.prototype.hasAttributeNS=function(element,ns,attribute){};DomAdapter.prototype.getAttribute=function(element,attribute){};DomAdapter.prototype.getAttributeNS=function(element,ns,attribute){};DomAdapter.prototype.setAttribute=function(element,name,value){};DomAdapter.prototype.setAttributeNS=function(element,ns,name,value){};DomAdapter.prototype.removeAttribute=function(element,attribute){};DomAdapter.prototype.removeAttributeNS=function(element,ns,attribute){};DomAdapter.prototype.templateAwareRoot=function(el){};DomAdapter.prototype.createHtmlDocument=function(){};DomAdapter.prototype.defaultDoc=function(){};DomAdapter.prototype.getBoundingClientRect=function(el){};DomAdapter.prototype.getTitle=function(){};DomAdapter.prototype.setTitle=function(newTitle){};DomAdapter.prototype.elementMatches=function(n,selector){};DomAdapter.prototype.isTemplateElement=function(el){};DomAdapter.prototype.isTextNode=function(node){};DomAdapter.prototype.isCommentNode=function(node){};DomAdapter.prototype.isElementNode=function(node){};DomAdapter.prototype.hasShadowRoot=function(node){};DomAdapter.prototype.isShadowRoot=function(node){};DomAdapter.prototype.importIntoDoc=function(node){};DomAdapter.prototype.adoptNode=function(node){};DomAdapter.prototype.getHref=function(element){};DomAdapter.prototype.getEventKey=function(event){};DomAdapter.prototype.resolveAndSetHref=function(element,baseUrl,href){};DomAdapter.prototype.supportsDOMEvents=function(){};DomAdapter.prototype.supportsNativeShadowDOM=function(){};DomAdapter.prototype.getGlobalEventTarget=function(target){};DomAdapter.prototype.getHistory=function(){};DomAdapter.prototype.getLocation=function(){};DomAdapter.prototype.getBaseHref=function(){};DomAdapter.prototype.resetBaseElement=function(){};DomAdapter.prototype.getUserAgent=function(){};DomAdapter.prototype.setData=function(element,name,value){};DomAdapter.prototype.getComputedStyle=function(element){};DomAdapter.prototype.getData=function(element,name){};DomAdapter.prototype.setGlobalVar=function(name,value){};DomAdapter.prototype.supportsWebAnimation=function(){};DomAdapter.prototype.performanceNow=function(){};DomAdapter.prototype.getAnimationPrefix=function(){};DomAdapter.prototype.getTransitionEnd=function(){};DomAdapter.prototype.supportsAnimation=function(){};DomAdapter.prototype.supportsCookies=function(){};DomAdapter.prototype.getCookie=function(name){};DomAdapter.prototype.setCookie=function(name,value){};return DomAdapter}();

var WebAnimationsPlayer=function(){function WebAnimationsPlayer(element,keyframes$$1,options,previousPlayers){var _this=this;if(previousPlayers===void 0){previousPlayers=[];}this.element=element;this.keyframes=keyframes$$1;this.options=options;this._onDoneFns=[];this._onStartFns=[];this._initialized=false;this._finished=false;this._started=false;this._destroyed=false;this.parentPlayer=null;this._duration=options['duration'];this.previousStyles={};previousPlayers.forEach(function(player){var styles=player._captureStyles();Object.keys(styles).forEach(function(prop){return _this.previousStyles[prop]=styles[prop]});});}WebAnimationsPlayer.prototype._onFinish=function(){if(!this._finished){this._finished=true;this._onDoneFns.forEach(function(fn){return fn()});this._onDoneFns=[];}};WebAnimationsPlayer.prototype.init=function(){var _this=this;if(this._initialized)return;this._initialized=true;var keyframes$$1=this.keyframes.map(function(styles){var formattedKeyframe={};Object.keys(styles).forEach(function(prop,index){var value=styles[prop];if(value==AUTO_STYLE){value=_computeStyle(_this.element,prop);}if(value!=undefined){formattedKeyframe[prop]=value;}});return formattedKeyframe});var previousStyleProps=Object.keys(this.previousStyles);if(previousStyleProps.length){var startingKeyframe_1=findStartingKeyframe(keyframes$$1);previousStyleProps.forEach(function(prop){if(isPresent$2(startingKeyframe_1[prop])){startingKeyframe_1[prop]=_this.previousStyles[prop];}});}this._player=this._triggerWebAnimation(this.element,keyframes$$1,this.options);this._finalKeyframe=_copyKeyframeStyles(keyframes$$1[keyframes$$1.length-1]);this._resetDomPlayerState();this._player.addEventListener('finish',function(){return _this._onFinish()});};WebAnimationsPlayer.prototype._triggerWebAnimation=function(element,keyframes$$1,options){return element.animate(keyframes$$1,options)};Object.defineProperty(WebAnimationsPlayer.prototype,'domPlayer',{get:function get(){return this._player},enumerable:true,configurable:true});WebAnimationsPlayer.prototype.onStart=function(fn){this._onStartFns.push(fn);};WebAnimationsPlayer.prototype.onDone=function(fn){this._onDoneFns.push(fn);};WebAnimationsPlayer.prototype.play=function(){this.init();if(!this.hasStarted()){this._onStartFns.forEach(function(fn){return fn()});this._onStartFns=[];this._started=true;}this._player.play();};WebAnimationsPlayer.prototype.pause=function(){this.init();this._player.pause();};WebAnimationsPlayer.prototype.finish=function(){this.init();this._onFinish();this._player.finish();};WebAnimationsPlayer.prototype.reset=function(){this._resetDomPlayerState();this._destroyed=false;this._finished=false;this._started=false;};WebAnimationsPlayer.prototype._resetDomPlayerState=function(){this._player.cancel();};WebAnimationsPlayer.prototype.restart=function(){this.reset();this.play();};WebAnimationsPlayer.prototype.hasStarted=function(){return this._started};WebAnimationsPlayer.prototype.destroy=function(){if(!this._destroyed){this._resetDomPlayerState();this._onFinish();this._destroyed=true;}};Object.defineProperty(WebAnimationsPlayer.prototype,'totalTime',{get:function get(){return this._duration},enumerable:true,configurable:true});WebAnimationsPlayer.prototype.setPosition=function(p){this._player.currentTime=p*this.totalTime;};WebAnimationsPlayer.prototype.getPosition=function(){return this._player.currentTime/this.totalTime};WebAnimationsPlayer.prototype._captureStyles=function(){var _this=this;var styles={};if(this.hasStarted()){Object.keys(this._finalKeyframe).forEach(function(prop){if(prop!='offset'){styles[prop]=_this._finished?_this._finalKeyframe[prop]:_computeStyle(_this.element,prop);}});}return styles};return WebAnimationsPlayer}();function _computeStyle(element,prop){return getDOM().getComputedStyle(element)[prop]}function _copyKeyframeStyles(styles){var newStyles={};Object.keys(styles).forEach(function(prop){if(prop!='offset'){newStyles[prop]=styles[prop];}});return newStyles}function findStartingKeyframe(keyframes$$1){var startingKeyframe=keyframes$$1[0];for(var i=1;i<keyframes$$1.length;i++){var kf=keyframes$$1[i];var offset=kf['offset'];if(offset!==0)break;startingKeyframe=kf;}return startingKeyframe}

var WebAnimationsDriver=function(){function WebAnimationsDriver(){}WebAnimationsDriver.prototype.animate=function(element,startingStyles,keyframes,duration,delay,easing,previousPlayers){if(previousPlayers===void 0){previousPlayers=[];}var formattedSteps=[];var startingStyleLookup={};if(isPresent$2(startingStyles)&&startingStyles.styles.length>0){startingStyleLookup=_populateStyles(startingStyles,{});startingStyleLookup['offset']=0;formattedSteps.push(startingStyleLookup);}keyframes.forEach(function(keyframe){var data=_populateStyles(keyframe.styles,startingStyleLookup);data['offset']=Math.max(0,Math.min(1,keyframe.offset));formattedSteps.push(data);});if(formattedSteps.length==1){var start=formattedSteps[0];start['offset']=null;formattedSteps=[start,start];}var playerOptions={'duration':duration,'delay':delay,'fill':'both'};if(easing){playerOptions['easing']=easing;}previousPlayers=previousPlayers.filter(filterWebAnimationPlayerFn);return new WebAnimationsPlayer(element,formattedSteps,playerOptions,previousPlayers)};return WebAnimationsDriver}();function _populateStyles(styles,defaultStyles){var data={};styles.styles.forEach(function(entry){Object.keys(entry).forEach(function(prop){data[prop]=entry[prop];});});Object.keys(defaultStyles).forEach(function(prop){if(!isPresent$2(data[prop])){data[prop]=defaultStyles[prop];}});return data}function filterWebAnimationPlayerFn(player){return player instanceof WebAnimationsPlayer}

var __extends$27=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var GenericBrowserDomAdapter=function(_super){__extends$27(GenericBrowserDomAdapter,_super);function GenericBrowserDomAdapter(){var _this=this;_super.call(this);this._animationPrefix=null;this._transitionEnd=null;try{var element_1=this.createElement('div',this.defaultDoc());if(isPresent$2(this.getStyle(element_1,'animationName'))){this._animationPrefix='';}else{var domPrefixes=['Webkit','Moz','O','ms'];for(var i=0;i<domPrefixes.length;i++){if(isPresent$2(this.getStyle(element_1,domPrefixes[i]+'AnimationName'))){this._animationPrefix='-'+domPrefixes[i].toLowerCase()+'-';break}}}var transEndEventNames_1={WebkitTransition:'webkitTransitionEnd',MozTransition:'transitionend',OTransition:'oTransitionEnd otransitionend',transition:'transitionend'};Object.keys(transEndEventNames_1).forEach(function(key){if(isPresent$2(_this.getStyle(element_1,key))){_this._transitionEnd=transEndEventNames_1[key];}});}catch(e){this._animationPrefix=null;this._transitionEnd=null;}}GenericBrowserDomAdapter.prototype.getDistributedNodes=function(el){return el.getDistributedNodes()};GenericBrowserDomAdapter.prototype.resolveAndSetHref=function(el,baseUrl,href){el.href=href==null?baseUrl:baseUrl+'/../'+href;};GenericBrowserDomAdapter.prototype.supportsDOMEvents=function(){return true};GenericBrowserDomAdapter.prototype.supportsNativeShadowDOM=function(){return typeof this.defaultDoc().body.createShadowRoot==='function'};GenericBrowserDomAdapter.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:''};GenericBrowserDomAdapter.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:''};GenericBrowserDomAdapter.prototype.supportsAnimation=function(){return isPresent$2(this._animationPrefix)&&isPresent$2(this._transitionEnd)};return GenericBrowserDomAdapter}(DomAdapter);

var __extends$26=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var _attrToPropMap={'class':'className','innerHtml':'innerHTML','readonly':'readOnly','tabindex':'tabIndex'};var DOM_KEY_LOCATION_NUMPAD=3;var _keyMap={'\b':'Backspace','\t':'Tab','\x7F':'Delete','\x1B':'Escape','Del':'Delete','Esc':'Escape','Left':'ArrowLeft','Right':'ArrowRight','Up':'ArrowUp','Down':'ArrowDown','Menu':'ContextMenu','Scroll':'ScrollLock','Win':'OS'};var _chromeNumKeyPadMap={'A':'1','B':'2','C':'3','D':'4','E':'5','F':'6','G':'7','H':'8','I':'9','J':'*','K':'+','M':'-','N':'.','O':'/','`':'0','\x90':'NumLock'};var BrowserDomAdapter=function(_super){__extends$26(BrowserDomAdapter,_super);function BrowserDomAdapter(){_super.apply(this,arguments);}BrowserDomAdapter.prototype.parse=function(templateHtml){throw new Error('parse not implemented')};BrowserDomAdapter.makeCurrent=function(){setRootDomAdapter(new BrowserDomAdapter);};BrowserDomAdapter.prototype.hasProperty=function(element,name){return name in element};BrowserDomAdapter.prototype.setProperty=function(el,name,value){el[name]=value;};BrowserDomAdapter.prototype.getProperty=function(el,name){return el[name]};BrowserDomAdapter.prototype.invoke=function(el,methodName,args){(_a=el)[methodName].apply(_a,args);var _a;};BrowserDomAdapter.prototype.logError=function(error){if(window.console){if(console.error){console.error(error);}else{console.log(error);}}};BrowserDomAdapter.prototype.log=function(error){if(window.console){window.console.log&&window.console.log(error);}};BrowserDomAdapter.prototype.logGroup=function(error){if(window.console){window.console.group&&window.console.group(error);}};BrowserDomAdapter.prototype.logGroupEnd=function(){if(window.console){window.console.groupEnd&&window.console.groupEnd();}};Object.defineProperty(BrowserDomAdapter.prototype,'attrToPropMap',{get:function get(){return _attrToPropMap},enumerable:true,configurable:true});BrowserDomAdapter.prototype.query=function(selector){return document.querySelector(selector)};BrowserDomAdapter.prototype.querySelector=function(el,selector){return el.querySelector(selector)};BrowserDomAdapter.prototype.querySelectorAll=function(el,selector){return el.querySelectorAll(selector)};BrowserDomAdapter.prototype.on=function(el,evt,listener){el.addEventListener(evt,listener,false);};BrowserDomAdapter.prototype.onAndCancel=function(el,evt,listener){el.addEventListener(evt,listener,false);return function(){el.removeEventListener(evt,listener,false);}};BrowserDomAdapter.prototype.dispatchEvent=function(el,evt){el.dispatchEvent(evt);};BrowserDomAdapter.prototype.createMouseEvent=function(eventType){var evt=document.createEvent('MouseEvent');evt.initEvent(eventType,true,true);return evt};BrowserDomAdapter.prototype.createEvent=function(eventType){var evt=document.createEvent('Event');evt.initEvent(eventType,true,true);return evt};BrowserDomAdapter.prototype.preventDefault=function(evt){evt.preventDefault();evt.returnValue=false;};BrowserDomAdapter.prototype.isPrevented=function(evt){return evt.defaultPrevented||isPresent$2(evt.returnValue)&&!evt.returnValue};BrowserDomAdapter.prototype.getInnerHTML=function(el){return el.innerHTML};BrowserDomAdapter.prototype.getTemplateContent=function(el){return'content'in el&&el instanceof HTMLTemplateElement?el.content:null};BrowserDomAdapter.prototype.getOuterHTML=function(el){return el.outerHTML};BrowserDomAdapter.prototype.nodeName=function(node){return node.nodeName};BrowserDomAdapter.prototype.nodeValue=function(node){return node.nodeValue};BrowserDomAdapter.prototype.type=function(node){return node.type};BrowserDomAdapter.prototype.content=function(node){if(this.hasProperty(node,'content')){return node.content}else{return node}};BrowserDomAdapter.prototype.firstChild=function(el){return el.firstChild};BrowserDomAdapter.prototype.nextSibling=function(el){return el.nextSibling};BrowserDomAdapter.prototype.parentElement=function(el){return el.parentNode};BrowserDomAdapter.prototype.childNodes=function(el){return el.childNodes};BrowserDomAdapter.prototype.childNodesAsList=function(el){var childNodes=el.childNodes;var res=new Array(childNodes.length);for(var i=0;i<childNodes.length;i++){res[i]=childNodes[i];}return res};BrowserDomAdapter.prototype.clearNodes=function(el){while(el.firstChild){el.removeChild(el.firstChild);}};BrowserDomAdapter.prototype.appendChild=function(el,node){el.appendChild(node);};BrowserDomAdapter.prototype.removeChild=function(el,node){el.removeChild(node);};BrowserDomAdapter.prototype.replaceChild=function(el,newChild,oldChild){el.replaceChild(newChild,oldChild);};BrowserDomAdapter.prototype.remove=function(node){if(node.parentNode){node.parentNode.removeChild(node);}return node};BrowserDomAdapter.prototype.insertBefore=function(el,node){el.parentNode.insertBefore(node,el);};BrowserDomAdapter.prototype.insertAllBefore=function(el,nodes){nodes.forEach(function(n){return el.parentNode.insertBefore(n,el)});};BrowserDomAdapter.prototype.insertAfter=function(el,node){el.parentNode.insertBefore(node,el.nextSibling);};BrowserDomAdapter.prototype.setInnerHTML=function(el,value){el.innerHTML=value;};BrowserDomAdapter.prototype.getText=function(el){return el.textContent};BrowserDomAdapter.prototype.setText=function(el,value){el.textContent=value;};BrowserDomAdapter.prototype.getValue=function(el){return el.value};BrowserDomAdapter.prototype.setValue=function(el,value){el.value=value;};BrowserDomAdapter.prototype.getChecked=function(el){return el.checked};BrowserDomAdapter.prototype.setChecked=function(el,value){el.checked=value;};BrowserDomAdapter.prototype.createComment=function(text){return document.createComment(text)};BrowserDomAdapter.prototype.createTemplate=function(html){var t=document.createElement('template');t.innerHTML=html;return t};BrowserDomAdapter.prototype.createElement=function(tagName,doc){if(doc===void 0){doc=document;}return doc.createElement(tagName)};BrowserDomAdapter.prototype.createElementNS=function(ns,tagName,doc){if(doc===void 0){doc=document;}return doc.createElementNS(ns,tagName)};BrowserDomAdapter.prototype.createTextNode=function(text,doc){if(doc===void 0){doc=document;}return doc.createTextNode(text)};BrowserDomAdapter.prototype.createScriptTag=function(attrName,attrValue,doc){if(doc===void 0){doc=document;}var el=doc.createElement('SCRIPT');el.setAttribute(attrName,attrValue);return el};BrowserDomAdapter.prototype.createStyleElement=function(css,doc){if(doc===void 0){doc=document;}var style=doc.createElement('style');this.appendChild(style,this.createTextNode(css));return style};BrowserDomAdapter.prototype.createShadowRoot=function(el){return el.createShadowRoot()};BrowserDomAdapter.prototype.getShadowRoot=function(el){return el.shadowRoot};BrowserDomAdapter.prototype.getHost=function(el){return el.host};BrowserDomAdapter.prototype.clone=function(node){return node.cloneNode(true)};BrowserDomAdapter.prototype.getElementsByClassName=function(element,name){return element.getElementsByClassName(name)};BrowserDomAdapter.prototype.getElementsByTagName=function(element,name){return element.getElementsByTagName(name)};BrowserDomAdapter.prototype.classList=function(element){return Array.prototype.slice.call(element.classList,0)};BrowserDomAdapter.prototype.addClass=function(element,className){element.classList.add(className);};BrowserDomAdapter.prototype.removeClass=function(element,className){element.classList.remove(className);};BrowserDomAdapter.prototype.hasClass=function(element,className){return element.classList.contains(className)};BrowserDomAdapter.prototype.setStyle=function(element,styleName,styleValue){element.style[styleName]=styleValue;};BrowserDomAdapter.prototype.removeStyle=function(element,stylename){element.style[stylename]='';};BrowserDomAdapter.prototype.getStyle=function(element,stylename){return element.style[stylename]};BrowserDomAdapter.prototype.hasStyle=function(element,styleName,styleValue){if(styleValue===void 0){styleValue=null;}var value=this.getStyle(element,styleName)||'';return styleValue?value==styleValue:value.length>0};BrowserDomAdapter.prototype.tagName=function(element){return element.tagName};BrowserDomAdapter.prototype.attributeMap=function(element){var res=new Map;var elAttrs=element.attributes;for(var i=0;i<elAttrs.length;i++){var attrib=elAttrs[i];res.set(attrib.name,attrib.value);}return res};BrowserDomAdapter.prototype.hasAttribute=function(element,attribute){return element.hasAttribute(attribute)};BrowserDomAdapter.prototype.hasAttributeNS=function(element,ns,attribute){return element.hasAttributeNS(ns,attribute)};BrowserDomAdapter.prototype.getAttribute=function(element,attribute){return element.getAttribute(attribute)};BrowserDomAdapter.prototype.getAttributeNS=function(element,ns,name){return element.getAttributeNS(ns,name)};BrowserDomAdapter.prototype.setAttribute=function(element,name,value){element.setAttribute(name,value);};BrowserDomAdapter.prototype.setAttributeNS=function(element,ns,name,value){element.setAttributeNS(ns,name,value);};BrowserDomAdapter.prototype.removeAttribute=function(element,attribute){element.removeAttribute(attribute);};BrowserDomAdapter.prototype.removeAttributeNS=function(element,ns,name){element.removeAttributeNS(ns,name);};BrowserDomAdapter.prototype.templateAwareRoot=function(el){return this.isTemplateElement(el)?this.content(el):el};BrowserDomAdapter.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument('fakeTitle')};BrowserDomAdapter.prototype.defaultDoc=function(){return document};BrowserDomAdapter.prototype.getBoundingClientRect=function(el){try{return el.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}};BrowserDomAdapter.prototype.getTitle=function(){return document.title};BrowserDomAdapter.prototype.setTitle=function(newTitle){document.title=newTitle||'';};BrowserDomAdapter.prototype.elementMatches=function(n,selector){if(n instanceof HTMLElement){return n.matches&&n.matches(selector)||n.msMatchesSelector&&n.msMatchesSelector(selector)||n.webkitMatchesSelector&&n.webkitMatchesSelector(selector)}return false};BrowserDomAdapter.prototype.isTemplateElement=function(el){return el instanceof HTMLElement&&el.nodeName=='TEMPLATE'};BrowserDomAdapter.prototype.isTextNode=function(node){return node.nodeType===Node.TEXT_NODE};BrowserDomAdapter.prototype.isCommentNode=function(node){return node.nodeType===Node.COMMENT_NODE};BrowserDomAdapter.prototype.isElementNode=function(node){return node.nodeType===Node.ELEMENT_NODE};BrowserDomAdapter.prototype.hasShadowRoot=function(node){return isPresent$2(node.shadowRoot)&&node instanceof HTMLElement};BrowserDomAdapter.prototype.isShadowRoot=function(node){return node instanceof DocumentFragment};BrowserDomAdapter.prototype.importIntoDoc=function(node){return document.importNode(this.templateAwareRoot(node),true)};BrowserDomAdapter.prototype.adoptNode=function(node){return document.adoptNode(node)};BrowserDomAdapter.prototype.getHref=function(el){return el.href};BrowserDomAdapter.prototype.getEventKey=function(event){var key=event.key;if(isBlank$3(key)){key=event.keyIdentifier;if(isBlank$3(key)){return'Unidentified'}if(key.startsWith('U+')){key=String.fromCharCode(parseInt(key.substring(2),16));if(event.location===DOM_KEY_LOCATION_NUMPAD&&_chromeNumKeyPadMap.hasOwnProperty(key)){key=_chromeNumKeyPadMap[key];}}}return _keyMap[key]||key};BrowserDomAdapter.prototype.getGlobalEventTarget=function(target){if(target==='window'){return window}if(target==='document'){return document}if(target==='body'){return document.body}};BrowserDomAdapter.prototype.getHistory=function(){return window.history};BrowserDomAdapter.prototype.getLocation=function(){return window.location};BrowserDomAdapter.prototype.getBaseHref=function(){var href=getBaseElementHref();return isBlank$3(href)?null:relativePath(href)};BrowserDomAdapter.prototype.resetBaseElement=function(){baseElement=null;};BrowserDomAdapter.prototype.getUserAgent=function(){return window.navigator.userAgent};BrowserDomAdapter.prototype.setData=function(element,name,value){this.setAttribute(element,'data-'+name,value);};BrowserDomAdapter.prototype.getData=function(element,name){return this.getAttribute(element,'data-'+name)};BrowserDomAdapter.prototype.getComputedStyle=function(element){return getComputedStyle(element)};BrowserDomAdapter.prototype.setGlobalVar=function(path,value){setValueOnPath$2(_global$2,path,value);};BrowserDomAdapter.prototype.supportsWebAnimation=function(){return typeof Element.prototype['animate']==='function'};BrowserDomAdapter.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():new Date().getTime()};BrowserDomAdapter.prototype.supportsCookies=function(){return true};BrowserDomAdapter.prototype.getCookie=function(name){return parseCookieValue(document.cookie,name)};BrowserDomAdapter.prototype.setCookie=function(name,value){document.cookie=encodeURIComponent(name)+'='+encodeURIComponent(value);};return BrowserDomAdapter}(GenericBrowserDomAdapter);var baseElement=null;function getBaseElementHref(){if(!baseElement){baseElement=document.querySelector('base');if(!baseElement){return null}}return baseElement.getAttribute('href')}var urlParsingNode;function relativePath(url){if(!urlParsingNode){urlParsingNode=document.createElement('a');}urlParsingNode.setAttribute('href',url);return urlParsingNode.pathname.charAt(0)==='/'?urlParsingNode.pathname:'/'+urlParsingNode.pathname}function parseCookieValue(cookieStr,name){name=encodeURIComponent(name);for(var _i=0,_a=cookieStr.split(';');_i<_a.length;_i++){var cookie=_a[_i];var eqIndex=cookie.indexOf('=');var _b=eqIndex==-1?[cookie,'']:[cookie.slice(0,eqIndex),cookie.slice(eqIndex+1)],cookieName=_b[0],cookieValue=_b[1];if(cookieName.trim()===name){return decodeURIComponent(cookieValue)}}return null}

function supportsState(){return!!window.history.pushState}

var __extends$28=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var BrowserPlatformLocation=function(_super){__extends$28(BrowserPlatformLocation,_super);function BrowserPlatformLocation(){_super.call(this);this._init();}BrowserPlatformLocation.prototype._init=function(){this._location=getDOM().getLocation();this._history=getDOM().getHistory();};Object.defineProperty(BrowserPlatformLocation.prototype,'location',{get:function get(){return this._location},enumerable:true,configurable:true});BrowserPlatformLocation.prototype.getBaseHrefFromDOM=function(){return getDOM().getBaseHref()};BrowserPlatformLocation.prototype.onPopState=function(fn){getDOM().getGlobalEventTarget('window').addEventListener('popstate',fn,false);};BrowserPlatformLocation.prototype.onHashChange=function(fn){getDOM().getGlobalEventTarget('window').addEventListener('hashchange',fn,false);};Object.defineProperty(BrowserPlatformLocation.prototype,'pathname',{get:function get(){return this._location.pathname},set:function set(newPath){this._location.pathname=newPath;},enumerable:true,configurable:true});Object.defineProperty(BrowserPlatformLocation.prototype,'search',{get:function get(){return this._location.search},enumerable:true,configurable:true});Object.defineProperty(BrowserPlatformLocation.prototype,'hash',{get:function get(){return this._location.hash},enumerable:true,configurable:true});BrowserPlatformLocation.prototype.pushState=function(state$$1,title,url){if(supportsState()){this._history.pushState(state$$1,title,url);}else{this._location.hash=url;}};BrowserPlatformLocation.prototype.replaceState=function(state$$1,title,url){if(supportsState()){this._history.replaceState(state$$1,title,url);}else{this._location.hash=url;}};BrowserPlatformLocation.prototype.forward=function(){this._history.forward();};BrowserPlatformLocation.prototype.back=function(){this._history.back();};BrowserPlatformLocation.decorators=[{type:Injectable}];BrowserPlatformLocation.ctorParameters=function(){return[]};return BrowserPlatformLocation}(PlatformLocation);

var BrowserGetTestability=function(){function BrowserGetTestability(){}BrowserGetTestability.init=function(){setTestabilityGetter(new BrowserGetTestability);};BrowserGetTestability.prototype.addToWindow=function(registry){_global$2.getAngularTestability=function(elem,findInAncestors){if(findInAncestors===void 0){findInAncestors=true;}var testability=registry.findTestabilityInTree(elem,findInAncestors);if(testability==null){throw new Error('Could not find testability for element.')}return testability};_global$2.getAllAngularTestabilities=function(){return registry.getAllTestabilities()};_global$2.getAllAngularRootElements=function(){return registry.getAllRootElements()};var whenAllStable=function whenAllStable(callback){var testabilities=_global$2.getAllAngularTestabilities();var count=testabilities.length;var didWork=false;var decrement=function decrement(didWork_){didWork=didWork||didWork_;count--;if(count==0){callback(didWork);}};testabilities.forEach(function(testability){testability.whenStable(decrement);});};if(!_global$2['frameworkStabilizers']){_global$2['frameworkStabilizers']=[];}_global$2['frameworkStabilizers'].push(whenAllStable);};BrowserGetTestability.prototype.findTestabilityInTree=function(registry,elem,findInAncestors){if(elem==null){return null}var t=registry.getTestability(elem);if(isPresent$2(t)){return t}else if(!findInAncestors){return null}if(getDOM().isShadowRoot(elem)){return this.findTestabilityInTree(registry,getDOM().getHost(elem),true)}return this.findTestabilityInTree(registry,getDOM().parentElement(elem),true)};return BrowserGetTestability}();

var Title=function(){function Title(){}Title.prototype.getTitle=function(){return getDOM().getTitle()};Title.prototype.setTitle=function(newTitle){getDOM().setTitle(newTitle);};return Title}();

var StringMapWrapper$2=function(){function StringMapWrapper(){}StringMapWrapper.merge=function(m1,m2){var m={};for(var _i=0,_a=Object.keys(m1);_i<_a.length;_i++){var k=_a[_i];m[k]=m1[k];}for(var _b=0,_c=Object.keys(m2);_b<_c.length;_b++){var k=_c[_b];m[k]=m2[k];}return m};StringMapWrapper.equals=function(m1,m2){var k1=Object.keys(m1);var k2=Object.keys(m2);if(k1.length!=k2.length){return false}for(var i=0;i<k1.length;i++){var key=k1[i];if(m1[key]!==m2[key]){return false}}return true};return StringMapWrapper}();

var DOCUMENT=new OpaqueToken('DocumentToken');

var EVENT_MANAGER_PLUGINS=new OpaqueToken('EventManagerPlugins');var EventManager=function(){function EventManager(plugins,_zone){var _this=this;this._zone=_zone;this._eventNameToPlugin=new Map;plugins.forEach(function(p){return p.manager=_this});this._plugins=plugins.slice().reverse();}EventManager.prototype.addEventListener=function(element,eventName,handler){var plugin=this._findPluginFor(eventName);return plugin.addEventListener(element,eventName,handler)};EventManager.prototype.addGlobalEventListener=function(target,eventName,handler){var plugin=this._findPluginFor(eventName);return plugin.addGlobalEventListener(target,eventName,handler)};EventManager.prototype.getZone=function(){return this._zone};EventManager.prototype._findPluginFor=function(eventName){var plugin=this._eventNameToPlugin.get(eventName);if(plugin){return plugin}var plugins=this._plugins;for(var i=0;i<plugins.length;i++){var plugin_1=plugins[i];if(plugin_1.supports(eventName)){this._eventNameToPlugin.set(eventName,plugin_1);return plugin_1}}throw new Error('No event manager plugin found for event '+eventName)};EventManager.decorators=[{type:Injectable}];EventManager.ctorParameters=function(){return[{type:Array,decorators:[{type:Inject,args:[EVENT_MANAGER_PLUGINS]}]},{type:NgZone}]};return EventManager}();var EventManagerPlugin=function(){function EventManagerPlugin(){}EventManagerPlugin.prototype.supports=function(eventName){};EventManagerPlugin.prototype.addEventListener=function(element,eventName,handler){};EventManagerPlugin.prototype.addGlobalEventListener=function(element,eventName,handler){var target=getDOM().getGlobalEventTarget(element);if(!target){throw new Error('Unsupported event target '+target+' for event '+eventName)}return this.addEventListener(target,eventName,handler)};return EventManagerPlugin}();

var __extends$30=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var SharedStylesHost=function(){function SharedStylesHost(){this._styles=[];this._stylesSet=new Set;}SharedStylesHost.prototype.addStyles=function(styles){var _this=this;var additions=[];styles.forEach(function(style$$1){if(!_this._stylesSet.has(style$$1)){_this._stylesSet.add(style$$1);_this._styles.push(style$$1);additions.push(style$$1);}});this.onStylesAdded(additions);};SharedStylesHost.prototype.onStylesAdded=function(additions){};SharedStylesHost.prototype.getAllStyles=function(){return this._styles};SharedStylesHost.decorators=[{type:Injectable}];SharedStylesHost.ctorParameters=function(){return[]};return SharedStylesHost}();var DomSharedStylesHost=function(_super){__extends$30(DomSharedStylesHost,_super);function DomSharedStylesHost(doc){_super.call(this);this._hostNodes=new Set;this._hostNodes.add(doc.head);}DomSharedStylesHost.prototype._addStylesToHost=function(styles,host){for(var i=0;i<styles.length;i++){var styleEl=document.createElement('style');styleEl.textContent=styles[i];host.appendChild(styleEl);}};DomSharedStylesHost.prototype.addHost=function(hostNode){this._addStylesToHost(this._styles,hostNode);this._hostNodes.add(hostNode);};DomSharedStylesHost.prototype.removeHost=function(hostNode){this._hostNodes.delete(hostNode);};DomSharedStylesHost.prototype.onStylesAdded=function(additions){var _this=this;this._hostNodes.forEach(function(hostNode){_this._addStylesToHost(additions,hostNode);});};DomSharedStylesHost.decorators=[{type:Injectable}];DomSharedStylesHost.ctorParameters=function(){return[{type:undefined,decorators:[{type:Inject,args:[DOCUMENT]}]}]};return DomSharedStylesHost}(SharedStylesHost);

var __extends$29=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var NAMESPACE_URIS={'xlink':'http://www.w3.org/1999/xlink','svg':'http://www.w3.org/2000/svg','xhtml':'http://www.w3.org/1999/xhtml'};var TEMPLATE_COMMENT_TEXT='template bindings={}';var TEMPLATE_BINDINGS_EXP=/^template bindings=(.*)$/;var DomRootRenderer=function(){function DomRootRenderer(document,eventManager,sharedStylesHost,animationDriver,appId){this.document=document;this.eventManager=eventManager;this.sharedStylesHost=sharedStylesHost;this.animationDriver=animationDriver;this.appId=appId;this.registeredComponents=new Map;}DomRootRenderer.prototype.renderComponent=function(componentProto){var renderer=this.registeredComponents.get(componentProto.id);if(!renderer){renderer=new DomRenderer(this,componentProto,this.animationDriver,this.appId+'-'+componentProto.id);this.registeredComponents.set(componentProto.id,renderer);}return renderer};return DomRootRenderer}();var DomRootRenderer_=function(_super){__extends$29(DomRootRenderer_,_super);function DomRootRenderer_(_document,_eventManager,sharedStylesHost,animationDriver,appId){_super.call(this,_document,_eventManager,sharedStylesHost,animationDriver,appId);}DomRootRenderer_.decorators=[{type:Injectable}];DomRootRenderer_.ctorParameters=function(){return[{type:undefined,decorators:[{type:Inject,args:[DOCUMENT]}]},{type:EventManager},{type:DomSharedStylesHost},{type:AnimationDriver},{type:undefined,decorators:[{type:Inject,args:[APP_ID]}]}]};return DomRootRenderer_}(DomRootRenderer);var DIRECT_DOM_RENDERER={remove:function remove(node){if(node.parentNode){node.parentNode.removeChild(node);}},appendChild:function appendChild(node,parent){parent.appendChild(node);},insertBefore:function insertBefore(node,refNode){refNode.parentNode.insertBefore(node,refNode);},nextSibling:function nextSibling(node){return node.nextSibling},parentElement:function parentElement(node){return node.parentNode}};var DomRenderer=function(){function DomRenderer(_rootRenderer,componentProto,_animationDriver,styleShimId){this._rootRenderer=_rootRenderer;this.componentProto=componentProto;this._animationDriver=_animationDriver;this.directRenderer=DIRECT_DOM_RENDERER;this._styles=flattenStyles$1(styleShimId,componentProto.styles,[]);if(componentProto.encapsulation!==ViewEncapsulation.Native){this._rootRenderer.sharedStylesHost.addStyles(this._styles);}if(this.componentProto.encapsulation===ViewEncapsulation.Emulated){this._contentAttr=shimContentAttribute(styleShimId);this._hostAttr=shimHostAttribute(styleShimId);}else{this._contentAttr=null;this._hostAttr=null;}}DomRenderer.prototype.selectRootElement=function(selectorOrNode,debugInfo){var el;if(typeof selectorOrNode==='string'){el=this._rootRenderer.document.querySelector(selectorOrNode);if(!el){throw new Error('The selector "'+selectorOrNode+'" did not match any elements')}}else{el=selectorOrNode;}while(el.firstChild){el.removeChild(el.firstChild);}return el};DomRenderer.prototype.createElement=function(parent,name,debugInfo){var el;if(isNamespaced(name)){var nsAndName=splitNamespace(name);el=document.createElementNS(NAMESPACE_URIS[nsAndName[0]],nsAndName[1]);}else{el=document.createElement(name);}if(this._contentAttr){el.setAttribute(this._contentAttr,'');}if(parent){parent.appendChild(el);}return el};DomRenderer.prototype.createViewRoot=function(hostElement){var nodesParent;if(this.componentProto.encapsulation===ViewEncapsulation.Native){nodesParent=hostElement.createShadowRoot();this._rootRenderer.sharedStylesHost.addHost(nodesParent);for(var i=0;i<this._styles.length;i++){var styleEl=document.createElement('style');styleEl.textContent=this._styles[i];nodesParent.appendChild(styleEl);}}else{if(this._hostAttr){hostElement.setAttribute(this._hostAttr,'');}nodesParent=hostElement;}return nodesParent};DomRenderer.prototype.createTemplateAnchor=function(parentElement,debugInfo){var comment=document.createComment(TEMPLATE_COMMENT_TEXT);if(parentElement){parentElement.appendChild(comment);}return comment};DomRenderer.prototype.createText=function(parentElement,value,debugInfo){var node=document.createTextNode(value);if(parentElement){parentElement.appendChild(node);}return node};DomRenderer.prototype.projectNodes=function(parentElement,nodes){if(!parentElement)return;appendNodes(parentElement,nodes);};DomRenderer.prototype.attachViewAfter=function(node,viewRootNodes){moveNodesAfterSibling(node,viewRootNodes);};DomRenderer.prototype.detachView=function(viewRootNodes){for(var i=0;i<viewRootNodes.length;i++){var node=viewRootNodes[i];if(node.parentNode){node.parentNode.removeChild(node);}}};DomRenderer.prototype.destroyView=function(hostElement,viewAllNodes){if(this.componentProto.encapsulation===ViewEncapsulation.Native&&hostElement){this._rootRenderer.sharedStylesHost.removeHost(hostElement.shadowRoot);}};DomRenderer.prototype.listen=function(renderElement,name,callback){return this._rootRenderer.eventManager.addEventListener(renderElement,name,decoratePreventDefault(callback))};DomRenderer.prototype.listenGlobal=function(target,name,callback){return this._rootRenderer.eventManager.addGlobalEventListener(target,name,decoratePreventDefault(callback))};DomRenderer.prototype.setElementProperty=function(renderElement,propertyName,propertyValue){renderElement[propertyName]=propertyValue;};DomRenderer.prototype.setElementAttribute=function(renderElement,attributeName,attributeValue){var attrNs;var attrNameWithoutNs=attributeName;if(isNamespaced(attributeName)){var nsAndName=splitNamespace(attributeName);attrNameWithoutNs=nsAndName[1];attributeName=nsAndName[0]+':'+nsAndName[1];attrNs=NAMESPACE_URIS[nsAndName[0]];}if(isPresent$2(attributeValue)){if(attrNs){renderElement.setAttributeNS(attrNs,attributeName,attributeValue);}else{renderElement.setAttribute(attributeName,attributeValue);}}else{if(isPresent$2(attrNs)){renderElement.removeAttributeNS(attrNs,attrNameWithoutNs);}else{renderElement.removeAttribute(attributeName);}}};DomRenderer.prototype.setBindingDebugInfo=function(renderElement,propertyName,propertyValue){if(renderElement.nodeType===Node.COMMENT_NODE){var existingBindings=renderElement.nodeValue.replace(/\n/g,'').match(TEMPLATE_BINDINGS_EXP);var parsedBindings=JSON.parse(existingBindings[1]);parsedBindings[propertyName]=propertyValue;renderElement.nodeValue=TEMPLATE_COMMENT_TEXT.replace('{}',JSON.stringify(parsedBindings,null,2));}else{this.setElementAttribute(renderElement,propertyName,propertyValue);}};DomRenderer.prototype.setElementClass=function(renderElement,className,isAdd){if(isAdd){renderElement.classList.add(className);}else{renderElement.classList.remove(className);}};DomRenderer.prototype.setElementStyle=function(renderElement,styleName,styleValue){if(isPresent$2(styleValue)){renderElement.style[styleName]=stringify$2(styleValue);}else{renderElement.style[styleName]='';}};DomRenderer.prototype.invokeElementMethod=function(renderElement,methodName,args){renderElement[methodName].apply(renderElement,args);};DomRenderer.prototype.setText=function(renderNode,text){renderNode.nodeValue=text;};DomRenderer.prototype.animate=function(element,startingStyles,keyframes$$1,duration,delay,easing,previousPlayers){if(previousPlayers===void 0){previousPlayers=[];}return this._animationDriver.animate(element,startingStyles,keyframes$$1,duration,delay,easing,previousPlayers)};return DomRenderer}();function moveNodesAfterSibling(sibling,nodes){var parent=sibling.parentNode;if(nodes.length>0&&parent){var nextSibling=sibling.nextSibling;if(nextSibling){for(var i=0;i<nodes.length;i++){parent.insertBefore(nodes[i],nextSibling);}}else{for(var i=0;i<nodes.length;i++){parent.appendChild(nodes[i]);}}}}function appendNodes(parent,nodes){for(var i=0;i<nodes.length;i++){parent.appendChild(nodes[i]);}}function decoratePreventDefault(eventHandler){return function(event){var allowDefaultBehavior=eventHandler(event);if(allowDefaultBehavior===false){event.preventDefault();event.returnValue=false;}}}var COMPONENT_REGEX=/%COMP%/g;var COMPONENT_VARIABLE='%COMP%';var HOST_ATTR='_nghost-'+COMPONENT_VARIABLE;var CONTENT_ATTR='_ngcontent-'+COMPONENT_VARIABLE;function shimContentAttribute(componentShortId){return CONTENT_ATTR.replace(COMPONENT_REGEX,componentShortId)}function shimHostAttribute(componentShortId){return HOST_ATTR.replace(COMPONENT_REGEX,componentShortId)}function flattenStyles$1(compId,styles,target){for(var i=0;i<styles.length;i++){var style$$1=styles[i];if(Array.isArray(style$$1)){flattenStyles$1(compId,style$$1,target);}else{style$$1=style$$1.replace(COMPONENT_REGEX,compId);target.push(style$$1);}}return target}var NS_PREFIX_RE=/^:([^:]+):(.+)$/;function isNamespaced(name){return name[0]===':'}function splitNamespace(name){var match=name.match(NS_PREFIX_RE);return[match[1],match[2]]}

var CORE_TOKENS={'ApplicationRef':ApplicationRef,'NgZone':NgZone};var INSPECT_GLOBAL_NAME='ng.probe';var CORE_TOKENS_GLOBAL_NAME='ng.coreTokens';function inspectNativeElement(element){return getDebugNode(element)}var NgProbeToken$1=function(){function NgProbeToken$$1(name,token){this.name=name;this.token=token;}return NgProbeToken$$1}();function _createConditionalRootRenderer(rootRenderer,extraTokens,coreTokens){return isDevMode()?_createRootRenderer(rootRenderer,(extraTokens||[]).concat(coreTokens||[])):rootRenderer}function _createRootRenderer(rootRenderer,extraTokens){getDOM().setGlobalVar(INSPECT_GLOBAL_NAME,inspectNativeElement);getDOM().setGlobalVar(CORE_TOKENS_GLOBAL_NAME,StringMapWrapper$2.merge(CORE_TOKENS,_ngProbeTokensToMap(extraTokens||[])));return new DebugDomRootRenderer$1(rootRenderer)}function _ngProbeTokensToMap(tokens){return tokens.reduce(function(prev,t){return prev[t.name]=t.token,prev},{})}var ELEMENT_PROBE_PROVIDERS=[{provide:RootRenderer,useFactory:_createConditionalRootRenderer,deps:[DomRootRenderer,[NgProbeToken$1,new Optional],[NgProbeToken,new Optional]]}];

var __extends$31=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var DomEventsPlugin=function(_super){__extends$31(DomEventsPlugin,_super);function DomEventsPlugin(){_super.apply(this,arguments);}DomEventsPlugin.prototype.supports=function(eventName){return true};DomEventsPlugin.prototype.addEventListener=function(element,eventName,handler){element.addEventListener(eventName,handler,false);return function(){return element.removeEventListener(eventName,handler,false)}};DomEventsPlugin.decorators=[{type:Injectable}];DomEventsPlugin.ctorParameters=function(){return[]};return DomEventsPlugin}(EventManagerPlugin);

var __extends$32=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var EVENT_NAMES={'pan':true,'panstart':true,'panmove':true,'panend':true,'pancancel':true,'panleft':true,'panright':true,'panup':true,'pandown':true,'pinch':true,'pinchstart':true,'pinchmove':true,'pinchend':true,'pinchcancel':true,'pinchin':true,'pinchout':true,'press':true,'pressup':true,'rotate':true,'rotatestart':true,'rotatemove':true,'rotateend':true,'rotatecancel':true,'swipe':true,'swipeleft':true,'swiperight':true,'swipeup':true,'swipedown':true,'tap':true};var HAMMER_GESTURE_CONFIG=new OpaqueToken('HammerGestureConfig');var HammerGestureConfig=function(){function HammerGestureConfig(){this.events=[];this.overrides={};}HammerGestureConfig.prototype.buildHammer=function(element){var mc=new Hammer(element);mc.get('pinch').set({enable:true});mc.get('rotate').set({enable:true});for(var eventName in this.overrides){mc.get(eventName).set(this.overrides[eventName]);}return mc};HammerGestureConfig.decorators=[{type:Injectable}];HammerGestureConfig.ctorParameters=function(){return[]};return HammerGestureConfig}();var HammerGesturesPlugin=function(_super){__extends$32(HammerGesturesPlugin,_super);function HammerGesturesPlugin(_config){_super.call(this);this._config=_config;}HammerGesturesPlugin.prototype.supports=function(eventName){if(!EVENT_NAMES.hasOwnProperty(eventName.toLowerCase())&&!this.isCustomEvent(eventName)){return false}if(!window.Hammer){throw new Error('Hammer.js is not loaded, can not bind '+eventName+' event')}return true};HammerGesturesPlugin.prototype.addEventListener=function(element,eventName,handler){var _this=this;var zone=this.manager.getZone();eventName=eventName.toLowerCase();return zone.runOutsideAngular(function(){var mc=_this._config.buildHammer(element);var callback=function callback(eventObj){zone.runGuarded(function(){handler(eventObj);});};mc.on(eventName,callback);return function(){return mc.off(eventName,callback)}})};HammerGesturesPlugin.prototype.isCustomEvent=function(eventName){return this._config.events.indexOf(eventName)>-1};HammerGesturesPlugin.decorators=[{type:Injectable}];HammerGesturesPlugin.ctorParameters=function(){return[{type:HammerGestureConfig,decorators:[{type:Inject,args:[HAMMER_GESTURE_CONFIG]}]}]};return HammerGesturesPlugin}(EventManagerPlugin);

var __extends$33=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var MODIFIER_KEYS=['alt','control','meta','shift'];var MODIFIER_KEY_GETTERS={'alt':function alt(event){return event.altKey},'control':function control(event){return event.ctrlKey},'meta':function meta(event){return event.metaKey},'shift':function shift(event){return event.shiftKey}};var KeyEventsPlugin=function(_super){__extends$33(KeyEventsPlugin,_super);function KeyEventsPlugin(){_super.call(this);}KeyEventsPlugin.prototype.supports=function(eventName){return KeyEventsPlugin.parseEventName(eventName)!=null};KeyEventsPlugin.prototype.addEventListener=function(element,eventName,handler){var parsedEvent=KeyEventsPlugin.parseEventName(eventName);var outsideHandler=KeyEventsPlugin.eventCallback(parsedEvent['fullKey'],handler,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return getDOM().onAndCancel(element,parsedEvent['domEventName'],outsideHandler)})};KeyEventsPlugin.parseEventName=function(eventName){var parts=eventName.toLowerCase().split('.');var domEventName=parts.shift();if(parts.length===0||!(domEventName==='keydown'||domEventName==='keyup')){return null}var key=KeyEventsPlugin._normalizeKey(parts.pop());var fullKey='';MODIFIER_KEYS.forEach(function(modifierName){var index=parts.indexOf(modifierName);if(index>-1){parts.splice(index,1);fullKey+=modifierName+'.';}});fullKey+=key;if(parts.length!=0||key.length===0){return null}var result={};result['domEventName']=domEventName;result['fullKey']=fullKey;return result};KeyEventsPlugin.getEventFullKey=function(event){var fullKey='';var key=getDOM().getEventKey(event);key=key.toLowerCase();if(key===' '){key='space';}else if(key==='.'){key='dot';}MODIFIER_KEYS.forEach(function(modifierName){if(modifierName!=key){var modifierGetter=MODIFIER_KEY_GETTERS[modifierName];if(modifierGetter(event)){fullKey+=modifierName+'.';}}});fullKey+=key;return fullKey};KeyEventsPlugin.eventCallback=function(fullKey,handler,zone){return function(event){if(KeyEventsPlugin.getEventFullKey(event)===fullKey){zone.runGuarded(function(){return handler(event)});}}};KeyEventsPlugin._normalizeKey=function(keyName){switch(keyName){case'esc':return'escape';default:return keyName;}};KeyEventsPlugin.decorators=[{type:Injectable}];KeyEventsPlugin.ctorParameters=function(){return[]};return KeyEventsPlugin}(EventManagerPlugin);

var SAFE_URL_PATTERN=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi;var DATA_URL_PATTERN=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function sanitizeUrl(url){url=String(url);if(url.match(SAFE_URL_PATTERN)||url.match(DATA_URL_PATTERN))return url;if(isDevMode()){getDOM().log('WARNING: sanitizing unsafe URL value '+url+' (see http://g.co/ng/security#xss)');}return'unsafe:'+url}function sanitizeSrcset(srcset){srcset=String(srcset);return srcset.split(',').map(function(srcset){return sanitizeUrl(srcset.trim())}).join(', ')}

var inertElement=null;var DOM=null;function getInertElement(){if(inertElement)return inertElement;DOM=getDOM();var templateEl=DOM.createElement('template');if('content'in templateEl)return templateEl;var doc=DOM.createHtmlDocument();inertElement=DOM.querySelector(doc,'body');if(inertElement==null){var html=DOM.createElement('html',doc);inertElement=DOM.createElement('body',doc);DOM.appendChild(html,inertElement);DOM.appendChild(doc,html);}return inertElement}function tagSet(tags){var res={};for(var _i=0,_a=tags.split(',');_i<_a.length;_i++){var t=_a[_i];res[t]=true;}return res}function merge(){var sets=[];for(var _i=0;_i<arguments.length;_i++){sets[_i-0]=arguments[_i];}var res={};for(var _a=0,sets_1=sets;_a<sets_1.length;_a++){var s=sets_1[_a];for(var v in s){if(s.hasOwnProperty(v))res[v]=true;}}return res}var VOID_ELEMENTS=tagSet('area,br,col,hr,img,wbr');var OPTIONAL_END_TAG_BLOCK_ELEMENTS=tagSet('colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr');var OPTIONAL_END_TAG_INLINE_ELEMENTS=tagSet('rp,rt');var OPTIONAL_END_TAG_ELEMENTS=merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,OPTIONAL_END_TAG_BLOCK_ELEMENTS);var BLOCK_ELEMENTS=merge(OPTIONAL_END_TAG_BLOCK_ELEMENTS,tagSet('address,article,'+'aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,'+'h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul'));var INLINE_ELEMENTS=merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,tagSet('a,abbr,acronym,audio,b,'+'bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,'+'samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video'));var VALID_ELEMENTS=merge(VOID_ELEMENTS,BLOCK_ELEMENTS,INLINE_ELEMENTS,OPTIONAL_END_TAG_ELEMENTS);var URI_ATTRS=tagSet('background,cite,href,itemtype,longdesc,poster,src,xlink:href');var SRCSET_ATTRS=tagSet('srcset');var HTML_ATTRS=tagSet('abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,'+'compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,'+'ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,'+'scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,'+'valign,value,vspace,width');var VALID_ATTRS=merge(URI_ATTRS,SRCSET_ATTRS,HTML_ATTRS);var SanitizingHtmlSerializer=function(){function SanitizingHtmlSerializer(){this.sanitizedSomething=false;this.buf=[];}SanitizingHtmlSerializer.prototype.sanitizeChildren=function(el){var current=el.firstChild;while(current){if(DOM.isElementNode(current)){this.startElement(current);}else if(DOM.isTextNode(current)){this.chars(DOM.nodeValue(current));}else{this.sanitizedSomething=true;}if(DOM.firstChild(current)){current=DOM.firstChild(current);continue}while(current){if(DOM.isElementNode(current)){this.endElement(current);}if(DOM.nextSibling(current)){current=DOM.nextSibling(current);break}current=DOM.parentElement(current);}}return this.buf.join('')};SanitizingHtmlSerializer.prototype.startElement=function(element){var _this=this;var tagName=DOM.nodeName(element).toLowerCase();if(!VALID_ELEMENTS.hasOwnProperty(tagName)){this.sanitizedSomething=true;return}this.buf.push('<');this.buf.push(tagName);DOM.attributeMap(element).forEach(function(value,attrName){var lower=attrName.toLowerCase();if(!VALID_ATTRS.hasOwnProperty(lower)){_this.sanitizedSomething=true;return}if(URI_ATTRS[lower])value=sanitizeUrl(value);if(SRCSET_ATTRS[lower])value=sanitizeSrcset(value);_this.buf.push(' ');_this.buf.push(attrName);_this.buf.push('="');_this.buf.push(encodeEntities(value));_this.buf.push('"');});this.buf.push('>');};SanitizingHtmlSerializer.prototype.endElement=function(current){var tagName=DOM.nodeName(current).toLowerCase();if(VALID_ELEMENTS.hasOwnProperty(tagName)&&!VOID_ELEMENTS.hasOwnProperty(tagName)){this.buf.push('</');this.buf.push(tagName);this.buf.push('>');}};SanitizingHtmlSerializer.prototype.chars=function(chars){this.buf.push(encodeEntities(chars));};return SanitizingHtmlSerializer}();var SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;var NON_ALPHANUMERIC_REGEXP=/([^\#-~ |!])/g;function encodeEntities(value){return value.replace(/&/g,'&amp;').replace(SURROGATE_PAIR_REGEXP,function(match){var hi=match.charCodeAt(0);var low=match.charCodeAt(1);return'&#'+((hi-55296)*1024+(low-56320)+65536)+';'}).replace(NON_ALPHANUMERIC_REGEXP,function(match){return'&#'+match.charCodeAt(0)+';'}).replace(/</g,'&lt;').replace(/>/g,'&gt;')}function stripCustomNsAttrs(el){DOM.attributeMap(el).forEach(function(_,attrName){if(attrName==='xmlns:ns1'||attrName.indexOf('ns1:')===0){DOM.removeAttribute(el,attrName);}});for(var _i=0,_a=DOM.childNodesAsList(el);_i<_a.length;_i++){var n=_a[_i];if(DOM.isElementNode(n))stripCustomNsAttrs(n);}}function sanitizeHtml(unsafeHtmlInput){try{var containerEl=getInertElement();var unsafeHtml=unsafeHtmlInput?String(unsafeHtmlInput):'';var mXSSAttempts=5;var parsedHtml=unsafeHtml;do{if(mXSSAttempts===0){throw new Error('Failed to sanitize html because the input is unstable')}mXSSAttempts--;unsafeHtml=parsedHtml;DOM.setInnerHTML(containerEl,unsafeHtml);if(DOM.defaultDoc().documentMode){stripCustomNsAttrs(containerEl);}parsedHtml=DOM.getInnerHTML(containerEl);}while(unsafeHtml!==parsedHtml);var sanitizer=new SanitizingHtmlSerializer;var safeHtml=sanitizer.sanitizeChildren(DOM.getTemplateContent(containerEl)||containerEl);var parent_1=DOM.getTemplateContent(containerEl)||containerEl;for(var _i=0,_a=DOM.childNodesAsList(parent_1);_i<_a.length;_i++){var child=_a[_i];DOM.removeChild(parent_1,child);}if(isDevMode()&&sanitizer.sanitizedSomething){DOM.log('WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss).');}return safeHtml}catch(e){inertElement=null;throw e}}

var VALUES='[-,."\'%_!# a-zA-Z0-9]+';var TRANSFORMATION_FNS='(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?';var COLOR_FNS='(?:rgb|hsl)a?';var FN_ARGS='\\([-0-9.%, a-zA-Z]+\\)';var SAFE_STYLE_VALUE=new RegExp('^('+VALUES+'|(?:'+TRANSFORMATION_FNS+'|'+COLOR_FNS+')'+FN_ARGS+')$','g');var URL_RE=/^url\(([^)]+)\)$/;function hasBalancedQuotes(value){var outsideSingle=true;var outsideDouble=true;for(var i=0;i<value.length;i++){var c=value.charAt(i);if(c==='\''&&outsideDouble){outsideSingle=!outsideSingle;}else if(c==='"'&&outsideSingle){outsideDouble=!outsideDouble;}}return outsideSingle&&outsideDouble}function sanitizeStyle(value){value=String(value).trim();if(!value)return'';var urlMatch=value.match(URL_RE);if(urlMatch&&sanitizeUrl(urlMatch[1])===urlMatch[1]||value.match(SAFE_STYLE_VALUE)&&hasBalancedQuotes(value)){return value}if(isDevMode()){getDOM().log('WARNING: sanitizing unsafe style value '+value+' (see http://g.co/ng/security#xss).');}return'unsafe'}

var __extends$34=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var DomSanitizer=function(){function DomSanitizer(){}DomSanitizer.prototype.sanitize=function(context,value){};DomSanitizer.prototype.bypassSecurityTrustHtml=function(value){};DomSanitizer.prototype.bypassSecurityTrustStyle=function(value){};DomSanitizer.prototype.bypassSecurityTrustScript=function(value){};DomSanitizer.prototype.bypassSecurityTrustUrl=function(value){};DomSanitizer.prototype.bypassSecurityTrustResourceUrl=function(value){};return DomSanitizer}();var DomSanitizerImpl=function(_super){__extends$34(DomSanitizerImpl,_super);function DomSanitizerImpl(){_super.apply(this,arguments);}DomSanitizerImpl.prototype.sanitize=function(ctx,value){if(value==null)return null;switch(ctx){case SecurityContext.NONE:return value;case SecurityContext.HTML:if(value instanceof SafeHtmlImpl)return value.changingThisBreaksApplicationSecurity;this.checkNotSafeValue(value,'HTML');return sanitizeHtml(String(value));case SecurityContext.STYLE:if(value instanceof SafeStyleImpl)return value.changingThisBreaksApplicationSecurity;this.checkNotSafeValue(value,'Style');return sanitizeStyle(value);case SecurityContext.SCRIPT:if(value instanceof SafeScriptImpl)return value.changingThisBreaksApplicationSecurity;this.checkNotSafeValue(value,'Script');throw new Error('unsafe value used in a script context');case SecurityContext.URL:if(value instanceof SafeResourceUrlImpl||value instanceof SafeUrlImpl){return value.changingThisBreaksApplicationSecurity}this.checkNotSafeValue(value,'URL');return sanitizeUrl(String(value));case SecurityContext.RESOURCE_URL:if(value instanceof SafeResourceUrlImpl){return value.changingThisBreaksApplicationSecurity}this.checkNotSafeValue(value,'ResourceURL');throw new Error('unsafe value used in a resource URL context (see http://g.co/ng/security#xss)');default:throw new Error('Unexpected SecurityContext '+ctx+' (see http://g.co/ng/security#xss)');}};DomSanitizerImpl.prototype.checkNotSafeValue=function(value,expectedType){if(value instanceof SafeValueImpl){throw new Error('Required a safe '+expectedType+', got a '+value.getTypeName()+' '+'(see http://g.co/ng/security#xss)')}};DomSanitizerImpl.prototype.bypassSecurityTrustHtml=function(value){return new SafeHtmlImpl(value)};DomSanitizerImpl.prototype.bypassSecurityTrustStyle=function(value){return new SafeStyleImpl(value)};DomSanitizerImpl.prototype.bypassSecurityTrustScript=function(value){return new SafeScriptImpl(value)};DomSanitizerImpl.prototype.bypassSecurityTrustUrl=function(value){return new SafeUrlImpl(value)};DomSanitizerImpl.prototype.bypassSecurityTrustResourceUrl=function(value){return new SafeResourceUrlImpl(value)};DomSanitizerImpl.decorators=[{type:Injectable}];DomSanitizerImpl.ctorParameters=function(){return[]};return DomSanitizerImpl}(DomSanitizer);var SafeValueImpl=function(){function SafeValueImpl(changingThisBreaksApplicationSecurity){this.changingThisBreaksApplicationSecurity=changingThisBreaksApplicationSecurity;}SafeValueImpl.prototype.getTypeName=function(){};SafeValueImpl.prototype.toString=function(){return'SafeValue must use [property]=binding: '+this.changingThisBreaksApplicationSecurity+' (see http://g.co/ng/security#xss)'};return SafeValueImpl}();var SafeHtmlImpl=function(_super){__extends$34(SafeHtmlImpl,_super);function SafeHtmlImpl(){_super.apply(this,arguments);}SafeHtmlImpl.prototype.getTypeName=function(){return'HTML'};return SafeHtmlImpl}(SafeValueImpl);var SafeStyleImpl=function(_super){__extends$34(SafeStyleImpl,_super);function SafeStyleImpl(){_super.apply(this,arguments);}SafeStyleImpl.prototype.getTypeName=function(){return'Style'};return SafeStyleImpl}(SafeValueImpl);var SafeScriptImpl=function(_super){__extends$34(SafeScriptImpl,_super);function SafeScriptImpl(){_super.apply(this,arguments);}SafeScriptImpl.prototype.getTypeName=function(){return'Script'};return SafeScriptImpl}(SafeValueImpl);var SafeUrlImpl=function(_super){__extends$34(SafeUrlImpl,_super);function SafeUrlImpl(){_super.apply(this,arguments);}SafeUrlImpl.prototype.getTypeName=function(){return'URL'};return SafeUrlImpl}(SafeValueImpl);var SafeResourceUrlImpl=function(_super){__extends$34(SafeResourceUrlImpl,_super);function SafeResourceUrlImpl(){_super.apply(this,arguments);}SafeResourceUrlImpl.prototype.getTypeName=function(){return'ResourceURL'};return SafeResourceUrlImpl}(SafeValueImpl);

var INTERNAL_BROWSER_PLATFORM_PROVIDERS=[{provide:PLATFORM_INITIALIZER,useValue:initDomAdapter,multi:true},{provide:PlatformLocation,useClass:BrowserPlatformLocation}];var BROWSER_SANITIZATION_PROVIDERS=[{provide:Sanitizer,useExisting:DomSanitizer},{provide:DomSanitizer,useClass:DomSanitizerImpl}];var platformBrowser=createPlatformFactory(platformCore,'browser',INTERNAL_BROWSER_PLATFORM_PROVIDERS);function initDomAdapter(){BrowserDomAdapter.makeCurrent();BrowserGetTestability.init();}function errorHandler(){return new ErrorHandler}function _document(){return getDOM().defaultDoc()}function _resolveDefaultAnimationDriver(){if(getDOM().supportsWebAnimation()){return new WebAnimationsDriver}return AnimationDriver.NOOP}var BrowserModule=function(){function BrowserModule(parentModule){if(parentModule){throw new Error('BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.')}}BrowserModule.decorators=[{type:NgModule,args:[{providers:[BROWSER_SANITIZATION_PROVIDERS,{provide:ErrorHandler,useFactory:errorHandler,deps:[]},{provide:DOCUMENT,useFactory:_document,deps:[]},{provide:EVENT_MANAGER_PLUGINS,useClass:DomEventsPlugin,multi:true},{provide:EVENT_MANAGER_PLUGINS,useClass:KeyEventsPlugin,multi:true},{provide:EVENT_MANAGER_PLUGINS,useClass:HammerGesturesPlugin,multi:true},{provide:HAMMER_GESTURE_CONFIG,useClass:HammerGestureConfig},{provide:DomRootRenderer,useClass:DomRootRenderer_},{provide:RootRenderer,useExisting:DomRootRenderer},{provide:SharedStylesHost,useExisting:DomSharedStylesHost},{provide:AnimationDriver,useFactory:_resolveDefaultAnimationDriver},DomSharedStylesHost,Testability,EventManager,ELEMENT_PROBE_PROVIDERS,Title],exports:[CommonModule,ApplicationModule]}]}];BrowserModule.ctorParameters=function(){return[{type:BrowserModule,decorators:[{type:Optional},{type:SkipSelf}]}]};return BrowserModule}();

var win=typeof window!=='undefined'&&window||{};

var ChangeDetectionPerfRecord=function(){function ChangeDetectionPerfRecord(msPerTick,numTicks){this.msPerTick=msPerTick;this.numTicks=numTicks;}return ChangeDetectionPerfRecord}();var AngularProfiler=function(){function AngularProfiler(ref){this.appRef=ref.injector.get(ApplicationRef);}AngularProfiler.prototype.timeChangeDetection=function(config){var record=config&&config['record'];var profileName='Change Detection';var isProfilerAvailable=isPresent$2(win.console.profile);if(record&&isProfilerAvailable){win.console.profile(profileName);}var start=getDOM().performanceNow();var numTicks=0;while(numTicks<5||getDOM().performanceNow()-start<500){this.appRef.tick();numTicks++;}var end=getDOM().performanceNow();if(record&&isProfilerAvailable){win.console.profileEnd(profileName);}var msPerTick=(end-start)/numTicks;win.console.log('ran '+numTicks+' change detection cycles');win.console.log(msPerTick.toFixed(2)+' ms per check');return new ChangeDetectionPerfRecord(msPerTick,numTicks)};return AngularProfiler}();

var __platform_browser_private__={BrowserPlatformLocation:BrowserPlatformLocation,DomAdapter:DomAdapter,BrowserDomAdapter:BrowserDomAdapter,BrowserGetTestability:BrowserGetTestability,getDOM:getDOM,setRootDomAdapter:setRootDomAdapter,DomRootRenderer_:DomRootRenderer_,DomRootRenderer:DomRootRenderer,NAMESPACE_URIS:NAMESPACE_URIS,shimContentAttribute:shimContentAttribute,shimHostAttribute:shimHostAttribute,flattenStyles:flattenStyles$1,splitNamespace:splitNamespace,isNamespaced:isNamespaced,DomSharedStylesHost:DomSharedStylesHost,SharedStylesHost:SharedStylesHost,ELEMENT_PROBE_PROVIDERS:ELEMENT_PROBE_PROVIDERS,DomEventsPlugin:DomEventsPlugin,KeyEventsPlugin:KeyEventsPlugin,HammerGesturesPlugin:HammerGesturesPlugin,initDomAdapter:initDomAdapter,INTERNAL_BROWSER_PLATFORM_PROVIDERS:INTERNAL_BROWSER_PLATFORM_PROVIDERS,BROWSER_SANITIZATION_PROVIDERS:BROWSER_SANITIZATION_PROVIDERS,WebAnimationsDriver:WebAnimationsDriver};

var VERSION$2=new Version('2.3.1');

var AbstractControlDirective=function(){function AbstractControlDirective(){}Object.defineProperty(AbstractControlDirective.prototype,"control",{get:function get(){throw new Error("unimplemented")},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"value",{get:function get(){return this.control?this.control.value:null},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"valid",{get:function get(){return this.control?this.control.valid:null},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"invalid",{get:function get(){return this.control?this.control.invalid:null},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"pending",{get:function get(){return this.control?this.control.pending:null},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"errors",{get:function get(){return this.control?this.control.errors:null},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"pristine",{get:function get(){return this.control?this.control.pristine:null},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"dirty",{get:function get(){return this.control?this.control.dirty:null},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"touched",{get:function get(){return this.control?this.control.touched:null},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"untouched",{get:function get(){return this.control?this.control.untouched:null},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"disabled",{get:function get(){return this.control?this.control.disabled:null},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"enabled",{get:function get(){return this.control?this.control.enabled:null},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"statusChanges",{get:function get(){return this.control?this.control.statusChanges:null},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"valueChanges",{get:function get(){return this.control?this.control.valueChanges:null},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"path",{get:function get(){return null},enumerable:true,configurable:true});AbstractControlDirective.prototype.reset=function(value){if(value===void 0){value=undefined;}if(this.control)this.control.reset(value);};AbstractControlDirective.prototype.hasError=function(errorCode,path){if(path===void 0){path=null;}return this.control?this.control.hasError(errorCode,path):false};AbstractControlDirective.prototype.getError=function(errorCode,path){if(path===void 0){path=null;}return this.control?this.control.getError(errorCode,path):null};return AbstractControlDirective}();

var __extends$36=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var ControlContainer=function(_super){__extends$36(ControlContainer,_super);function ControlContainer(){_super.apply(this,arguments);}Object.defineProperty(ControlContainer.prototype,"formDirective",{get:function get(){return null},enumerable:true,configurable:true});Object.defineProperty(ControlContainer.prototype,"path",{get:function get(){return null},enumerable:true,configurable:true});return ControlContainer}(AbstractControlDirective);

var globalScope$3;if(typeof window==='undefined'){if(typeof WorkerGlobalScope!=='undefined'&&self instanceof WorkerGlobalScope){globalScope$3=self;}else{globalScope$3=global;}}else{globalScope$3=window;}var _global$3=globalScope$3;_global$3.assert=function assert(condition){};function isPresent$3(obj){return obj!=null}function isBlank$4(obj){return obj==null}function looseIdentical$3(a,b){return a===b||typeof a==='number'&&typeof b==='number'&&isNaN(a)&&isNaN(b)}function isJsObject$3(o){return o!==null&&(typeof o==='function'||(typeof o==='undefined'?'undefined':_typeof(o))==='object')}var _symbolIterator$3=null;function getSymbolIterator$3(){if(!_symbolIterator$3){if(globalScope$3.Symbol&&Symbol.iterator){_symbolIterator$3=Symbol.iterator;}else{var keys=Object.getOwnPropertyNames(Map.prototype);for(var i=0;i<keys.length;++i){var key=keys[i];if(key!=='entries'&&key!=='size'&&Map.prototype[key]===Map.prototype['entries']){_symbolIterator$3=key;}}}}return _symbolIterator$3}function isPrimitive$3(obj){return!isJsObject$3(obj)}

var root_1$4=root;function toPromise(PromiseCtor){var _this=this;if(!PromiseCtor){if(root_1$4.root.Rx&&root_1$4.root.Rx.config&&root_1$4.root.Rx.config.Promise){PromiseCtor=root_1$4.root.Rx.config.Promise;}else if(root_1$4.root.Promise){PromiseCtor=root_1$4.root.Promise;}}if(!PromiseCtor){throw new Error('no Promise impl found')}return new PromiseCtor(function(resolve,reject){var value;_this.subscribe(function(x){return value=x},function(err){return reject(err)},function(){return resolve(value)});})}var toPromise_2=toPromise;var toPromise_1={toPromise:toPromise_2};

var StringMapWrapper$3=function(){function StringMapWrapper(){}StringMapWrapper.merge=function(m1,m2){var m={};for(var _i=0,_a=Object.keys(m1);_i<_a.length;_i++){var k=_a[_i];m[k]=m1[k];}for(var _b=0,_c=Object.keys(m2);_b<_c.length;_b++){var k=_c[_b];m[k]=m2[k];}return m};StringMapWrapper.equals=function(m1,m2){var k1=Object.keys(m1);var k2=Object.keys(m2);if(k1.length!=k2.length){return false}for(var i=0;i<k1.length;i++){var key=k1[i];if(m1[key]!==m2[key]){return false}}return true};return StringMapWrapper}();var ListWrapper$3=function(){function ListWrapper(){}ListWrapper.findLast=function(arr,condition){for(var i=arr.length-1;i>=0;i--){if(condition(arr[i])){return arr[i]}}return null};ListWrapper.removeAll=function(list,items){for(var i=0;i<items.length;++i){var index=list.indexOf(items[i]);if(index>-1){list.splice(index,1);}}};ListWrapper.remove=function(list,el){var index=list.indexOf(el);if(index>-1){list.splice(index,1);return true}return false};ListWrapper.equals=function(a,b){if(a.length!=b.length)return false;for(var i=0;i<a.length;++i){if(a[i]!==b[i])return false}return true};ListWrapper.flatten=function(list){return list.reduce(function(flat,item){var flatItem=Array.isArray(item)?ListWrapper.flatten(item):item;return flat.concat(flatItem)},[])};return ListWrapper}();

var isPromise$2=__core_private__.isPromise;

function isEmptyInputValue(value){return value==null||typeof value==='string'&&value.length===0}var NG_VALIDATORS=new OpaqueToken('NgValidators');var NG_ASYNC_VALIDATORS=new OpaqueToken('NgAsyncValidators');var Validators=function(){function Validators(){}Validators.required=function(control){return isEmptyInputValue(control.value)?{'required':true}:null};Validators.requiredTrue=function(control){return control.value===true?null:{'required':true}};Validators.minLength=function(minLength){return function(control){if(isEmptyInputValue(control.value)){return null}var length=control.value?control.value.length:0;return length<minLength?{'minlength':{'requiredLength':minLength,'actualLength':length}}:null}};Validators.maxLength=function(maxLength){return function(control){var length=control.value?control.value.length:0;return length>maxLength?{'maxlength':{'requiredLength':maxLength,'actualLength':length}}:null}};Validators.pattern=function(pattern){if(!pattern)return Validators.nullValidator;var regex;var regexStr;if(typeof pattern==='string'){regexStr='^'+pattern+'$';regex=new RegExp(regexStr);}else{regexStr=pattern.toString();regex=pattern;}return function(control){if(isEmptyInputValue(control.value)){return null}var value=control.value;return regex.test(value)?null:{'pattern':{'requiredPattern':regexStr,'actualValue':value}}}};Validators.nullValidator=function(c){return null};Validators.compose=function(validators){if(!validators)return null;var presentValidators=validators.filter(isPresent$3);if(presentValidators.length==0)return null;return function(control){return _mergeErrors(_executeValidators(control,presentValidators))}};Validators.composeAsync=function(validators){if(!validators)return null;var presentValidators=validators.filter(isPresent$3);if(presentValidators.length==0)return null;return function(control){var promises=_executeAsyncValidators(control,presentValidators).map(_convertToPromise);return Promise.all(promises).then(_mergeErrors)}};return Validators}();function _convertToPromise(obj){return isPromise$2(obj)?obj:toPromise_2.call(obj)}function _executeValidators(control,validators){return validators.map(function(v){return v(control)})}function _executeAsyncValidators(control,validators){return validators.map(function(v){return v(control)})}function _mergeErrors(arrayOfErrors){var res=arrayOfErrors.reduce(function(res,errors){return isPresent$3(errors)?StringMapWrapper$3.merge(res,errors):res},{});return Object.keys(res).length===0?null:res}

var NG_VALUE_ACCESSOR=new OpaqueToken('NgValueAccessor');

var CHECKBOX_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(function(){return CheckboxControlValueAccessor}),multi:true};var CheckboxControlValueAccessor=function(){function CheckboxControlValueAccessor(_renderer,_elementRef){this._renderer=_renderer;this._elementRef=_elementRef;this.onChange=function(_){};this.onTouched=function(){};}CheckboxControlValueAccessor.prototype.writeValue=function(value){this._renderer.setElementProperty(this._elementRef.nativeElement,'checked',value);};CheckboxControlValueAccessor.prototype.registerOnChange=function(fn){this.onChange=fn;};CheckboxControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn;};CheckboxControlValueAccessor.prototype.setDisabledState=function(isDisabled){this._renderer.setElementProperty(this._elementRef.nativeElement,'disabled',isDisabled);};CheckboxControlValueAccessor.decorators=[{type:Directive,args:[{selector:'input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]',host:{'(change)':'onChange($event.target.checked)','(blur)':'onTouched()'},providers:[CHECKBOX_VALUE_ACCESSOR]}]}];CheckboxControlValueAccessor.ctorParameters=function(){return[{type:Renderer},{type:ElementRef}]};return CheckboxControlValueAccessor}();

var DEFAULT_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(function(){return DefaultValueAccessor}),multi:true};var DefaultValueAccessor=function(){function DefaultValueAccessor(_renderer,_elementRef){this._renderer=_renderer;this._elementRef=_elementRef;this.onChange=function(_){};this.onTouched=function(){};}DefaultValueAccessor.prototype.writeValue=function(value){var normalizedValue=value==null?'':value;this._renderer.setElementProperty(this._elementRef.nativeElement,'value',normalizedValue);};DefaultValueAccessor.prototype.registerOnChange=function(fn){this.onChange=fn;};DefaultValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn;};DefaultValueAccessor.prototype.setDisabledState=function(isDisabled){this._renderer.setElementProperty(this._elementRef.nativeElement,'disabled',isDisabled);};DefaultValueAccessor.decorators=[{type:Directive,args:[{selector:'input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]',host:{'(input)':'onChange($event.target.value)','(blur)':'onTouched()'},providers:[DEFAULT_VALUE_ACCESSOR]}]}];DefaultValueAccessor.ctorParameters=function(){return[{type:Renderer},{type:ElementRef}]};return DefaultValueAccessor}();

function normalizeValidator(validator){if(validator.validate){return function(c){return validator.validate(c)}}else{return validator}}function normalizeAsyncValidator(validator){if(validator.validate){return function(c){return validator.validate(c)}}else{return validator}}

var NUMBER_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(function(){return NumberValueAccessor}),multi:true};var NumberValueAccessor=function(){function NumberValueAccessor(_renderer,_elementRef){this._renderer=_renderer;this._elementRef=_elementRef;this.onChange=function(_){};this.onTouched=function(){};}NumberValueAccessor.prototype.writeValue=function(value){var normalizedValue=value==null?'':value;this._renderer.setElementProperty(this._elementRef.nativeElement,'value',normalizedValue);};NumberValueAccessor.prototype.registerOnChange=function(fn){this.onChange=function(value){fn(value==''?null:parseFloat(value));};};NumberValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn;};NumberValueAccessor.prototype.setDisabledState=function(isDisabled){this._renderer.setElementProperty(this._elementRef.nativeElement,'disabled',isDisabled);};NumberValueAccessor.decorators=[{type:Directive,args:[{selector:'input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]',host:{'(change)':'onChange($event.target.value)','(input)':'onChange($event.target.value)','(blur)':'onTouched()'},providers:[NUMBER_VALUE_ACCESSOR]}]}];NumberValueAccessor.ctorParameters=function(){return[{type:Renderer},{type:ElementRef}]};return NumberValueAccessor}();

var __extends$37=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};function unimplemented$2(){throw new Error('unimplemented')}var NgControl=function(_super){__extends$37(NgControl,_super);function NgControl(){_super.apply(this,arguments);this._parent=null;this.name=null;this.valueAccessor=null;this._rawValidators=[];this._rawAsyncValidators=[];}Object.defineProperty(NgControl.prototype,'validator',{get:function get(){return unimplemented$2()},enumerable:true,configurable:true});Object.defineProperty(NgControl.prototype,'asyncValidator',{get:function get(){return unimplemented$2()},enumerable:true,configurable:true});NgControl.prototype.viewToModelUpdate=function(newValue){};return NgControl}(AbstractControlDirective);

var RADIO_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(function(){return RadioControlValueAccessor}),multi:true};var RadioControlRegistry=function(){function RadioControlRegistry(){this._accessors=[];}RadioControlRegistry.prototype.add=function(control,accessor){this._accessors.push([control,accessor]);};RadioControlRegistry.prototype.remove=function(accessor){for(var i=this._accessors.length-1;i>=0;--i){if(this._accessors[i][1]===accessor){this._accessors.splice(i,1);return}}};RadioControlRegistry.prototype.select=function(accessor){var _this=this;this._accessors.forEach(function(c){if(_this._isSameGroup(c,accessor)&&c[1]!==accessor){c[1].fireUncheck(accessor.value);}});};RadioControlRegistry.prototype._isSameGroup=function(controlPair,accessor){if(!controlPair[0].control)return false;return controlPair[0]._parent===accessor._control._parent&&controlPair[1].name===accessor.name};RadioControlRegistry.decorators=[{type:Injectable}];RadioControlRegistry.ctorParameters=function(){return[]};return RadioControlRegistry}();var RadioControlValueAccessor=function(){function RadioControlValueAccessor(_renderer,_elementRef,_registry,_injector){this._renderer=_renderer;this._elementRef=_elementRef;this._registry=_registry;this._injector=_injector;this.onChange=function(){};this.onTouched=function(){};}RadioControlValueAccessor.prototype.ngOnInit=function(){this._control=this._injector.get(NgControl);this._checkName();this._registry.add(this._control,this);};RadioControlValueAccessor.prototype.ngOnDestroy=function(){this._registry.remove(this);};RadioControlValueAccessor.prototype.writeValue=function(value){this._state=value===this.value;this._renderer.setElementProperty(this._elementRef.nativeElement,'checked',this._state);};RadioControlValueAccessor.prototype.registerOnChange=function(fn){var _this=this;this._fn=fn;this.onChange=function(){fn(_this.value);_this._registry.select(_this);};};RadioControlValueAccessor.prototype.fireUncheck=function(value){this.writeValue(value);};RadioControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn;};RadioControlValueAccessor.prototype.setDisabledState=function(isDisabled){this._renderer.setElementProperty(this._elementRef.nativeElement,'disabled',isDisabled);};RadioControlValueAccessor.prototype._checkName=function(){if(this.name&&this.formControlName&&this.name!==this.formControlName){this._throwNameError();}if(!this.name&&this.formControlName)this.name=this.formControlName;};RadioControlValueAccessor.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')};RadioControlValueAccessor.decorators=[{type:Directive,args:[{selector:'input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]',host:{'(change)':'onChange()','(blur)':'onTouched()'},providers:[RADIO_VALUE_ACCESSOR]}]}];RadioControlValueAccessor.ctorParameters=function(){return[{type:Renderer},{type:ElementRef},{type:RadioControlRegistry},{type:Injector}]};RadioControlValueAccessor.propDecorators={'name':[{type:Input}],'formControlName':[{type:Input}],'value':[{type:Input}]};return RadioControlValueAccessor}();

var RANGE_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(function(){return RangeValueAccessor}),multi:true};var RangeValueAccessor=function(){function RangeValueAccessor(_renderer,_elementRef){this._renderer=_renderer;this._elementRef=_elementRef;this.onChange=function(_){};this.onTouched=function(){};}RangeValueAccessor.prototype.writeValue=function(value){this._renderer.setElementProperty(this._elementRef.nativeElement,'value',parseFloat(value));};RangeValueAccessor.prototype.registerOnChange=function(fn){this.onChange=function(value){fn(value==''?null:parseFloat(value));};};RangeValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn;};RangeValueAccessor.prototype.setDisabledState=function(isDisabled){this._renderer.setElementProperty(this._elementRef.nativeElement,'disabled',isDisabled);};RangeValueAccessor.decorators=[{type:Directive,args:[{selector:'input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]',host:{'(change)':'onChange($event.target.value)','(input)':'onChange($event.target.value)','(blur)':'onTouched()'},providers:[RANGE_VALUE_ACCESSOR]}]}];RangeValueAccessor.ctorParameters=function(){return[{type:Renderer},{type:ElementRef}]};return RangeValueAccessor}();

var SELECT_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(function(){return SelectControlValueAccessor}),multi:true};function _buildValueString(id,value){if(id==null)return''+value;if(!isPrimitive$3(value))value='Object';return(id+': '+value).slice(0,50)}function _extractId(valueString){return valueString.split(':')[0]}var SelectControlValueAccessor=function(){function SelectControlValueAccessor(_renderer,_elementRef){this._renderer=_renderer;this._elementRef=_elementRef;this._optionMap=new Map;this._idCounter=0;this.onChange=function(_){};this.onTouched=function(){};}SelectControlValueAccessor.prototype.writeValue=function(value){this.value=value;var valueString=_buildValueString(this._getOptionId(value),value);this._renderer.setElementProperty(this._elementRef.nativeElement,'value',valueString);};SelectControlValueAccessor.prototype.registerOnChange=function(fn){var _this=this;this.onChange=function(valueString){_this.value=valueString;fn(_this._getOptionValue(valueString));};};SelectControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn;};SelectControlValueAccessor.prototype.setDisabledState=function(isDisabled){this._renderer.setElementProperty(this._elementRef.nativeElement,'disabled',isDisabled);};SelectControlValueAccessor.prototype._registerOption=function(){return(this._idCounter++).toString()};SelectControlValueAccessor.prototype._getOptionId=function(value){for(var _i=0,_a=Array.from(this._optionMap.keys());_i<_a.length;_i++){var id=_a[_i];if(looseIdentical$3(this._optionMap.get(id),value))return id}return null};SelectControlValueAccessor.prototype._getOptionValue=function(valueString){var id=_extractId(valueString);return this._optionMap.has(id)?this._optionMap.get(id):valueString};SelectControlValueAccessor.decorators=[{type:Directive,args:[{selector:'select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]',host:{'(change)':'onChange($event.target.value)','(blur)':'onTouched()'},providers:[SELECT_VALUE_ACCESSOR]}]}];SelectControlValueAccessor.ctorParameters=function(){return[{type:Renderer},{type:ElementRef}]};return SelectControlValueAccessor}();var NgSelectOption=function(){function NgSelectOption(_element,_renderer,_select){this._element=_element;this._renderer=_renderer;this._select=_select;if(this._select)this.id=this._select._registerOption();}Object.defineProperty(NgSelectOption.prototype,'ngValue',{set:function set(value){if(this._select==null)return;this._select._optionMap.set(this.id,value);this._setElementValue(_buildValueString(this.id,value));this._select.writeValue(this._select.value);},enumerable:true,configurable:true});Object.defineProperty(NgSelectOption.prototype,'value',{set:function set(value){this._setElementValue(value);if(this._select)this._select.writeValue(this._select.value);},enumerable:true,configurable:true});NgSelectOption.prototype._setElementValue=function(value){this._renderer.setElementProperty(this._element.nativeElement,'value',value);};NgSelectOption.prototype.ngOnDestroy=function(){if(this._select){this._select._optionMap.delete(this.id);this._select.writeValue(this._select.value);}};NgSelectOption.decorators=[{type:Directive,args:[{selector:'option'}]}];NgSelectOption.ctorParameters=function(){return[{type:ElementRef},{type:Renderer},{type:SelectControlValueAccessor,decorators:[{type:Optional},{type:Host}]}]};NgSelectOption.propDecorators={'ngValue':[{type:Input,args:['ngValue']}],'value':[{type:Input,args:['value']}]};return NgSelectOption}();

var SELECT_MULTIPLE_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(function(){return SelectMultipleControlValueAccessor}),multi:true};function _buildValueString$1(id,value){if(id==null)return''+value;if(typeof value==='string')value='\''+value+'\'';if(!isPrimitive$3(value))value='Object';return(id+': '+value).slice(0,50)}function _extractId$1(valueString){return valueString.split(':')[0]}var SelectMultipleControlValueAccessor=function(){function SelectMultipleControlValueAccessor(_renderer,_elementRef){this._renderer=_renderer;this._elementRef=_elementRef;this._optionMap=new Map;this._idCounter=0;this.onChange=function(_){};this.onTouched=function(){};}SelectMultipleControlValueAccessor.prototype.writeValue=function(value){var _this=this;this.value=value;var optionSelectedStateSetter;if(Array.isArray(value)){var ids_1=value.map(function(v){return _this._getOptionId(v)});optionSelectedStateSetter=function optionSelectedStateSetter(opt,o){opt._setSelected(ids_1.indexOf(o.toString())>-1);};}else{optionSelectedStateSetter=function optionSelectedStateSetter(opt,o){opt._setSelected(false);};}this._optionMap.forEach(optionSelectedStateSetter);};SelectMultipleControlValueAccessor.prototype.registerOnChange=function(fn){var _this=this;this.onChange=function(_){var selected=[];if(_.hasOwnProperty('selectedOptions')){var options=_.selectedOptions;for(var i=0;i<options.length;i++){var opt=options.item(i);var val=_this._getOptionValue(opt.value);selected.push(val);}}else{var options=_.options;for(var i=0;i<options.length;i++){var opt=options.item(i);if(opt.selected){var val=_this._getOptionValue(opt.value);selected.push(val);}}}_this.value=selected;fn(selected);};};SelectMultipleControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn;};SelectMultipleControlValueAccessor.prototype.setDisabledState=function(isDisabled){this._renderer.setElementProperty(this._elementRef.nativeElement,'disabled',isDisabled);};SelectMultipleControlValueAccessor.prototype._registerOption=function(value){var id=(this._idCounter++).toString();this._optionMap.set(id,value);return id};SelectMultipleControlValueAccessor.prototype._getOptionId=function(value){for(var _i=0,_a=Array.from(this._optionMap.keys());_i<_a.length;_i++){var id=_a[_i];if(looseIdentical$3(this._optionMap.get(id)._value,value))return id}return null};SelectMultipleControlValueAccessor.prototype._getOptionValue=function(valueString){var id=_extractId$1(valueString);return this._optionMap.has(id)?this._optionMap.get(id)._value:valueString};SelectMultipleControlValueAccessor.decorators=[{type:Directive,args:[{selector:'select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]',host:{'(change)':'onChange($event.target)','(blur)':'onTouched()'},providers:[SELECT_MULTIPLE_VALUE_ACCESSOR]}]}];SelectMultipleControlValueAccessor.ctorParameters=function(){return[{type:Renderer},{type:ElementRef}]};return SelectMultipleControlValueAccessor}();var NgSelectMultipleOption=function(){function NgSelectMultipleOption(_element,_renderer,_select){this._element=_element;this._renderer=_renderer;this._select=_select;if(this._select){this.id=this._select._registerOption(this);}}Object.defineProperty(NgSelectMultipleOption.prototype,'ngValue',{set:function set(value){if(this._select==null)return;this._value=value;this._setElementValue(_buildValueString$1(this.id,value));this._select.writeValue(this._select.value);},enumerable:true,configurable:true});Object.defineProperty(NgSelectMultipleOption.prototype,'value',{set:function set(value){if(this._select){this._value=value;this._setElementValue(_buildValueString$1(this.id,value));this._select.writeValue(this._select.value);}else{this._setElementValue(value);}},enumerable:true,configurable:true});NgSelectMultipleOption.prototype._setElementValue=function(value){this._renderer.setElementProperty(this._element.nativeElement,'value',value);};NgSelectMultipleOption.prototype._setSelected=function(selected){this._renderer.setElementProperty(this._element.nativeElement,'selected',selected);};NgSelectMultipleOption.prototype.ngOnDestroy=function(){if(this._select){this._select._optionMap.delete(this.id);this._select.writeValue(this._select.value);}};NgSelectMultipleOption.decorators=[{type:Directive,args:[{selector:'option'}]}];NgSelectMultipleOption.ctorParameters=function(){return[{type:ElementRef},{type:Renderer},{type:SelectMultipleControlValueAccessor,decorators:[{type:Optional},{type:Host}]}]};NgSelectMultipleOption.propDecorators={'ngValue':[{type:Input,args:['ngValue']}],'value':[{type:Input,args:['value']}]};return NgSelectMultipleOption}();

function controlPath(name,parent){return parent.path.concat([name])}function setUpControl(control,dir){if(!control)_throwError$1(dir,'Cannot find control with');if(!dir.valueAccessor)_throwError$1(dir,'No value accessor for form control with');control.validator=Validators.compose([control.validator,dir.validator]);control.asyncValidator=Validators.composeAsync([control.asyncValidator,dir.asyncValidator]);dir.valueAccessor.writeValue(control.value);dir.valueAccessor.registerOnChange(function(newValue){dir.viewToModelUpdate(newValue);control.markAsDirty();control.setValue(newValue,{emitModelToViewChange:false});});dir.valueAccessor.registerOnTouched(function(){return control.markAsTouched()});control.registerOnChange(function(newValue,emitModelEvent){dir.valueAccessor.writeValue(newValue);if(emitModelEvent)dir.viewToModelUpdate(newValue);});if(dir.valueAccessor.setDisabledState){control.registerOnDisabledChange(function(isDisabled){dir.valueAccessor.setDisabledState(isDisabled);});}dir._rawValidators.forEach(function(validator){if(validator.registerOnValidatorChange)validator.registerOnValidatorChange(function(){return control.updateValueAndValidity()});});dir._rawAsyncValidators.forEach(function(validator){if(validator.registerOnValidatorChange)validator.registerOnValidatorChange(function(){return control.updateValueAndValidity()});});}function cleanUpControl(control,dir){dir.valueAccessor.registerOnChange(function(){return _noControlError(dir)});dir.valueAccessor.registerOnTouched(function(){return _noControlError(dir)});dir._rawValidators.forEach(function(validator){if(validator.registerOnValidatorChange){validator.registerOnValidatorChange(null);}});dir._rawAsyncValidators.forEach(function(validator){if(validator.registerOnValidatorChange){validator.registerOnValidatorChange(null);}});if(control)control._clearChangeFns();}function setUpFormContainer(control,dir){if(isBlank$4(control))_throwError$1(dir,'Cannot find control with');control.validator=Validators.compose([control.validator,dir.validator]);control.asyncValidator=Validators.composeAsync([control.asyncValidator,dir.asyncValidator]);}function _noControlError(dir){return _throwError$1(dir,'There is no FormControl instance attached to form control element with')}function _throwError$1(dir,message){var messageEnd;if(dir.path.length>1){messageEnd='path: \''+dir.path.join(' -> ')+'\'';}else if(dir.path[0]){messageEnd='name: \''+dir.path+'\'';}else{messageEnd='unspecified name attribute';}throw new Error(message+' '+messageEnd)}function composeValidators(validators){return isPresent$3(validators)?Validators.compose(validators.map(normalizeValidator)):null}function composeAsyncValidators(validators){return isPresent$3(validators)?Validators.composeAsync(validators.map(normalizeAsyncValidator)):null}function isPropertyUpdated(changes,viewModel){if(!changes.hasOwnProperty('model'))return false;var change=changes['model'];if(change.isFirstChange())return true;return!looseIdentical$3(viewModel,change.currentValue)}var BUILTIN_ACCESSORS=[CheckboxControlValueAccessor,RangeValueAccessor,NumberValueAccessor,SelectControlValueAccessor,SelectMultipleControlValueAccessor,RadioControlValueAccessor];function isBuiltInAccessor(valueAccessor){return BUILTIN_ACCESSORS.some(function(a){return valueAccessor.constructor===a})}function selectValueAccessor(dir,valueAccessors){if(!valueAccessors)return null;var defaultAccessor;var builtinAccessor;var customAccessor;valueAccessors.forEach(function(v){if(v.constructor===DefaultValueAccessor){defaultAccessor=v;}else if(isBuiltInAccessor(v)){if(builtinAccessor)_throwError$1(dir,'More than one built-in value accessor matches form control with');builtinAccessor=v;}else{if(customAccessor)_throwError$1(dir,'More than one custom value accessor matches form control with');customAccessor=v;}});if(customAccessor)return customAccessor;if(builtinAccessor)return builtinAccessor;if(defaultAccessor)return defaultAccessor;_throwError$1(dir,'No valid value accessor for form control with');return null}

var __extends$35=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var AbstractFormGroupDirective=function(_super){__extends$35(AbstractFormGroupDirective,_super);function AbstractFormGroupDirective(){_super.apply(this,arguments);}AbstractFormGroupDirective.prototype.ngOnInit=function(){this._checkParentType();this.formDirective.addFormGroup(this);};AbstractFormGroupDirective.prototype.ngOnDestroy=function(){if(this.formDirective){this.formDirective.removeFormGroup(this);}};Object.defineProperty(AbstractFormGroupDirective.prototype,'control',{get:function get(){return this.formDirective.getFormGroup(this)},enumerable:true,configurable:true});Object.defineProperty(AbstractFormGroupDirective.prototype,'path',{get:function get(){return controlPath(this.name,this._parent)},enumerable:true,configurable:true});Object.defineProperty(AbstractFormGroupDirective.prototype,'formDirective',{get:function get(){return this._parent?this._parent.formDirective:null},enumerable:true,configurable:true});Object.defineProperty(AbstractFormGroupDirective.prototype,'validator',{get:function get(){return composeValidators(this._validators)},enumerable:true,configurable:true});Object.defineProperty(AbstractFormGroupDirective.prototype,'asyncValidator',{get:function get(){return composeAsyncValidators(this._asyncValidators)},enumerable:true,configurable:true});AbstractFormGroupDirective.prototype._checkParentType=function(){};return AbstractFormGroupDirective}(ControlContainer);

var __extends$38=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var AbstractControlStatus=function(){function AbstractControlStatus(cd){this._cd=cd;}Object.defineProperty(AbstractControlStatus.prototype,'ngClassUntouched',{get:function get(){return this._cd.control?this._cd.control.untouched:false},enumerable:true,configurable:true});Object.defineProperty(AbstractControlStatus.prototype,'ngClassTouched',{get:function get(){return this._cd.control?this._cd.control.touched:false},enumerable:true,configurable:true});Object.defineProperty(AbstractControlStatus.prototype,'ngClassPristine',{get:function get(){return this._cd.control?this._cd.control.pristine:false},enumerable:true,configurable:true});Object.defineProperty(AbstractControlStatus.prototype,'ngClassDirty',{get:function get(){return this._cd.control?this._cd.control.dirty:false},enumerable:true,configurable:true});Object.defineProperty(AbstractControlStatus.prototype,'ngClassValid',{get:function get(){return this._cd.control?this._cd.control.valid:false},enumerable:true,configurable:true});Object.defineProperty(AbstractControlStatus.prototype,'ngClassInvalid',{get:function get(){return this._cd.control?this._cd.control.invalid:false},enumerable:true,configurable:true});Object.defineProperty(AbstractControlStatus.prototype,'ngClassPending',{get:function get(){return this._cd.control?this._cd.control.pending:false},enumerable:true,configurable:true});return AbstractControlStatus}();var ngControlStatusHost={'[class.ng-untouched]':'ngClassUntouched','[class.ng-touched]':'ngClassTouched','[class.ng-pristine]':'ngClassPristine','[class.ng-dirty]':'ngClassDirty','[class.ng-valid]':'ngClassValid','[class.ng-invalid]':'ngClassInvalid','[class.ng-pending]':'ngClassPending'};var NgControlStatus=function(_super){__extends$38(NgControlStatus,_super);function NgControlStatus(cd){_super.call(this,cd);}NgControlStatus.decorators=[{type:Directive,args:[{selector:'[formControlName],[ngModel],[formControl]',host:ngControlStatusHost}]}];NgControlStatus.ctorParameters=function(){return[{type:NgControl,decorators:[{type:Self}]}]};return NgControlStatus}(AbstractControlStatus);var NgControlStatusGroup=function(_super){__extends$38(NgControlStatusGroup,_super);function NgControlStatusGroup(cd){_super.call(this,cd);}NgControlStatusGroup.decorators=[{type:Directive,args:[{selector:'[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]',host:ngControlStatusHost}]}];NgControlStatusGroup.ctorParameters=function(){return[{type:ControlContainer,decorators:[{type:Self}]}]};return NgControlStatusGroup}(AbstractControlStatus);

var __extends$40=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var EventEmitter$1=function(_super){__extends$40(EventEmitter,_super);function EventEmitter(isAsync){if(isAsync===void 0){isAsync=false;}_super.call(this);this.__isAsync=isAsync;}EventEmitter.prototype.emit=function(value){_super.prototype.next.call(this,value);};EventEmitter.prototype.subscribe=function(generatorOrNext,error,complete){var schedulerFn;var errorFn=function errorFn(err){return null};var completeFn=function completeFn(){return null};if(generatorOrNext&&(typeof generatorOrNext==='undefined'?'undefined':_typeof(generatorOrNext))==='object'){schedulerFn=this.__isAsync?function(value){setTimeout(function(){return generatorOrNext.next(value)});}:function(value){generatorOrNext.next(value);};if(generatorOrNext.error){errorFn=this.__isAsync?function(err){setTimeout(function(){return generatorOrNext.error(err)});}:function(err){generatorOrNext.error(err);};}if(generatorOrNext.complete){completeFn=this.__isAsync?function(){setTimeout(function(){return generatorOrNext.complete()});}:function(){generatorOrNext.complete();};}}else{schedulerFn=this.__isAsync?function(value){setTimeout(function(){return generatorOrNext(value)});}:function(value){generatorOrNext(value);};if(error){errorFn=this.__isAsync?function(err){setTimeout(function(){return error(err)});}:function(err){error(err);};}if(complete){completeFn=this.__isAsync?function(){setTimeout(function(){return complete()});}:function(){complete();};}}return _super.prototype.subscribe.call(this,schedulerFn,errorFn,completeFn)};return EventEmitter}(Subject_2);

var __extends$42=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var root_1$5=root;var Observable_1$3=Observable_1$1;var PromiseObservable=function(_super){__extends$42(PromiseObservable,_super);function PromiseObservable(promise,scheduler){_super.call(this);this.promise=promise;this.scheduler=scheduler;}PromiseObservable.create=function(promise,scheduler){return new PromiseObservable(promise,scheduler)};PromiseObservable.prototype._subscribe=function(subscriber){var _this=this;var promise=this.promise;var scheduler=this.scheduler;if(scheduler==null){if(this._isScalar){if(!subscriber.closed){subscriber.next(this.value);subscriber.complete();}}else{promise.then(function(value){_this.value=value;_this._isScalar=true;if(!subscriber.closed){subscriber.next(value);subscriber.complete();}},function(err){if(!subscriber.closed){subscriber.error(err);}}).then(null,function(err){root_1$5.root.setTimeout(function(){throw err});});}}else{if(this._isScalar){if(!subscriber.closed){return scheduler.schedule(dispatchNext,0,{value:this.value,subscriber:subscriber})}}else{promise.then(function(value){_this.value=value;_this._isScalar=true;if(!subscriber.closed){subscriber.add(scheduler.schedule(dispatchNext,0,{value:value,subscriber:subscriber}));}},function(err){if(!subscriber.closed){subscriber.add(scheduler.schedule(dispatchError,0,{err:err,subscriber:subscriber}));}}).then(null,function(err){root_1$5.root.setTimeout(function(){throw err});});}}};return PromiseObservable}(Observable_1$3.Observable);var PromiseObservable_2=PromiseObservable;function dispatchNext(arg){var value=arg.value,subscriber=arg.subscriber;if(!subscriber.closed){subscriber.next(value);subscriber.complete();}}function dispatchError(arg){var err=arg.err,subscriber=arg.subscriber;if(!subscriber.closed){subscriber.error(err);}}var PromiseObservable_1$1={PromiseObservable:PromiseObservable_2};

var PromiseObservable_1=PromiseObservable_1$1;var fromPromise_1=PromiseObservable_1.PromiseObservable.create;var fromPromise={fromPromise:fromPromise_1};

var __extends$41=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var VALID='VALID';var INVALID='INVALID';var PENDING='PENDING';var DISABLED='DISABLED';function _find(control,path,delimiter){if(path==null)return null;if(!(path instanceof Array)){path=path.split(delimiter);}if(path instanceof Array&&path.length===0)return null;return path.reduce(function(v,name){if(v instanceof FormGroup){return v.controls[name]||null}if(v instanceof FormArray){return v.at(name)||null}return null},control)}function toObservable(r){return isPromise$2(r)?fromPromise_1(r):r}function coerceToValidator(validator){return Array.isArray(validator)?composeValidators(validator):validator}function coerceToAsyncValidator(asyncValidator){return Array.isArray(asyncValidator)?composeAsyncValidators(asyncValidator):asyncValidator}var AbstractControl=function(){function AbstractControl(validator,asyncValidator){this.validator=validator;this.asyncValidator=asyncValidator;this._onCollectionChange=function(){};this._pristine=true;this._touched=false;this._onDisabledChange=[];}Object.defineProperty(AbstractControl.prototype,'value',{get:function get(){return this._value},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,'parent',{get:function get(){return this._parent},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,'status',{get:function get(){return this._status},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,'valid',{get:function get(){return this._status===VALID},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,'invalid',{get:function get(){return this._status===INVALID},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,'pending',{get:function get(){return this._status==PENDING},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,'disabled',{get:function get(){return this._status===DISABLED},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,'enabled',{get:function get(){return this._status!==DISABLED},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,'errors',{get:function get(){return this._errors},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,'pristine',{get:function get(){return this._pristine},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,'dirty',{get:function get(){return!this.pristine},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,'touched',{get:function get(){return this._touched},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,'untouched',{get:function get(){return!this._touched},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,'valueChanges',{get:function get(){return this._valueChanges},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,'statusChanges',{get:function get(){return this._statusChanges},enumerable:true,configurable:true});AbstractControl.prototype.setValidators=function(newValidator){this.validator=coerceToValidator(newValidator);};AbstractControl.prototype.setAsyncValidators=function(newValidator){this.asyncValidator=coerceToAsyncValidator(newValidator);};AbstractControl.prototype.clearValidators=function(){this.validator=null;};AbstractControl.prototype.clearAsyncValidators=function(){this.asyncValidator=null;};AbstractControl.prototype.markAsTouched=function(_a){var onlySelf=(_a===void 0?{}:_a).onlySelf;this._touched=true;if(this._parent&&!onlySelf){this._parent.markAsTouched({onlySelf:onlySelf});}};AbstractControl.prototype.markAsUntouched=function(_a){var onlySelf=(_a===void 0?{}:_a).onlySelf;this._touched=false;this._forEachChild(function(control){control.markAsUntouched({onlySelf:true});});if(this._parent&&!onlySelf){this._parent._updateTouched({onlySelf:onlySelf});}};AbstractControl.prototype.markAsDirty=function(_a){var onlySelf=(_a===void 0?{}:_a).onlySelf;this._pristine=false;if(this._parent&&!onlySelf){this._parent.markAsDirty({onlySelf:onlySelf});}};AbstractControl.prototype.markAsPristine=function(_a){var onlySelf=(_a===void 0?{}:_a).onlySelf;this._pristine=true;this._forEachChild(function(control){control.markAsPristine({onlySelf:true});});if(this._parent&&!onlySelf){this._parent._updatePristine({onlySelf:onlySelf});}};AbstractControl.prototype.markAsPending=function(_a){var onlySelf=(_a===void 0?{}:_a).onlySelf;this._status=PENDING;if(this._parent&&!onlySelf){this._parent.markAsPending({onlySelf:onlySelf});}};AbstractControl.prototype.disable=function(_a){var _b=_a===void 0?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent;this._status=DISABLED;this._errors=null;this._forEachChild(function(control){control.disable({onlySelf:true});});this._updateValue();if(emitEvent!==false){this._valueChanges.emit(this._value);this._statusChanges.emit(this._status);}this._updateAncestors(onlySelf);this._onDisabledChange.forEach(function(changeFn){return changeFn(true)});};AbstractControl.prototype.enable=function(_a){var _b=_a===void 0?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent;this._status=VALID;this._forEachChild(function(control){control.enable({onlySelf:true});});this.updateValueAndValidity({onlySelf:true,emitEvent:emitEvent});this._updateAncestors(onlySelf);this._onDisabledChange.forEach(function(changeFn){return changeFn(false)});};AbstractControl.prototype._updateAncestors=function(onlySelf){if(this._parent&&!onlySelf){this._parent.updateValueAndValidity();this._parent._updatePristine();this._parent._updateTouched();}};AbstractControl.prototype.setParent=function(parent){this._parent=parent;};AbstractControl.prototype.setValue=function(value,options){};AbstractControl.prototype.patchValue=function(value,options){};AbstractControl.prototype.reset=function(value,options){};AbstractControl.prototype.updateValueAndValidity=function(_a){var _b=_a===void 0?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent;this._setInitialStatus();this._updateValue();if(this.enabled){this._errors=this._runValidator();this._status=this._calculateStatus();if(this._status===VALID||this._status===PENDING){this._runAsyncValidator(emitEvent);}}if(emitEvent!==false){this._valueChanges.emit(this._value);this._statusChanges.emit(this._status);}if(this._parent&&!onlySelf){this._parent.updateValueAndValidity({onlySelf:onlySelf,emitEvent:emitEvent});}};AbstractControl.prototype._updateTreeValidity=function(_a){var emitEvent=(_a===void 0?{emitEvent:true}:_a).emitEvent;this._forEachChild(function(ctrl){return ctrl._updateTreeValidity({emitEvent:emitEvent})});this.updateValueAndValidity({onlySelf:true,emitEvent:emitEvent});};AbstractControl.prototype._setInitialStatus=function(){this._status=this._allControlsDisabled()?DISABLED:VALID;};AbstractControl.prototype._runValidator=function(){return this.validator?this.validator(this):null};AbstractControl.prototype._runAsyncValidator=function(emitEvent){var _this=this;if(this.asyncValidator){this._status=PENDING;this._cancelExistingSubscription();var obs=toObservable(this.asyncValidator(this));this._asyncValidationSubscription=obs.subscribe({next:function next(res){return _this.setErrors(res,{emitEvent:emitEvent})}});}};AbstractControl.prototype._cancelExistingSubscription=function(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();}};AbstractControl.prototype.setErrors=function(errors,_a){var emitEvent=(_a===void 0?{}:_a).emitEvent;this._errors=errors;this._updateControlsErrors(emitEvent!==false);};AbstractControl.prototype.get=function(path){return _find(this,path,'.')};AbstractControl.prototype.getError=function(errorCode,path){if(path===void 0){path=null;}var control=path?this.get(path):this;return control&&control._errors?control._errors[errorCode]:null};AbstractControl.prototype.hasError=function(errorCode,path){if(path===void 0){path=null;}return!!this.getError(errorCode,path)};Object.defineProperty(AbstractControl.prototype,'root',{get:function get(){var x=this;while(x._parent){x=x._parent;}return x},enumerable:true,configurable:true});AbstractControl.prototype._updateControlsErrors=function(emitEvent){this._status=this._calculateStatus();if(emitEvent){this._statusChanges.emit(this._status);}if(this._parent){this._parent._updateControlsErrors(emitEvent);}};AbstractControl.prototype._initObservables=function(){this._valueChanges=new EventEmitter$1;this._statusChanges=new EventEmitter$1;};AbstractControl.prototype._calculateStatus=function(){if(this._allControlsDisabled())return DISABLED;if(this._errors)return INVALID;if(this._anyControlsHaveStatus(PENDING))return PENDING;if(this._anyControlsHaveStatus(INVALID))return INVALID;return VALID};AbstractControl.prototype._updateValue=function(){};AbstractControl.prototype._forEachChild=function(cb){};AbstractControl.prototype._anyControls=function(condition){};AbstractControl.prototype._allControlsDisabled=function(){};AbstractControl.prototype._anyControlsHaveStatus=function(status){return this._anyControls(function(control){return control.status===status})};AbstractControl.prototype._anyControlsDirty=function(){return this._anyControls(function(control){return control.dirty})};AbstractControl.prototype._anyControlsTouched=function(){return this._anyControls(function(control){return control.touched})};AbstractControl.prototype._updatePristine=function(_a){var onlySelf=(_a===void 0?{}:_a).onlySelf;this._pristine=!this._anyControlsDirty();if(this._parent&&!onlySelf){this._parent._updatePristine({onlySelf:onlySelf});}};AbstractControl.prototype._updateTouched=function(_a){var onlySelf=(_a===void 0?{}:_a).onlySelf;this._touched=this._anyControlsTouched();if(this._parent&&!onlySelf){this._parent._updateTouched({onlySelf:onlySelf});}};AbstractControl.prototype._isBoxedValue=function(formState){return(typeof formState==='undefined'?'undefined':_typeof(formState))==='object'&&formState!==null&&Object.keys(formState).length===2&&'value'in formState&&'disabled'in formState};AbstractControl.prototype._registerOnCollectionChange=function(fn){this._onCollectionChange=fn;};return AbstractControl}();var FormControl=function(_super){__extends$41(FormControl,_super);function FormControl(formState,validator,asyncValidator){if(formState===void 0){formState=null;}if(validator===void 0){validator=null;}if(asyncValidator===void 0){asyncValidator=null;}_super.call(this,coerceToValidator(validator),coerceToAsyncValidator(asyncValidator));this._onChange=[];this._applyFormState(formState);this.updateValueAndValidity({onlySelf:true,emitEvent:false});this._initObservables();}FormControl.prototype.setValue=function(value,_a){var _this=this;var _b=_a===void 0?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent,emitModelToViewChange=_b.emitModelToViewChange,emitViewToModelChange=_b.emitViewToModelChange;this._value=value;if(this._onChange.length&&emitModelToViewChange!==false){this._onChange.forEach(function(changeFn){return changeFn(_this._value,emitViewToModelChange!==false)});}this.updateValueAndValidity({onlySelf:onlySelf,emitEvent:emitEvent});};FormControl.prototype.patchValue=function(value,options){if(options===void 0){options={};}this.setValue(value,options);};FormControl.prototype.reset=function(formState,_a){if(formState===void 0){formState=null;}var _b=_a===void 0?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent;this._applyFormState(formState);this.markAsPristine({onlySelf:onlySelf});this.markAsUntouched({onlySelf:onlySelf});this.setValue(this._value,{onlySelf:onlySelf,emitEvent:emitEvent});};FormControl.prototype._updateValue=function(){};FormControl.prototype._anyControls=function(condition){return false};FormControl.prototype._allControlsDisabled=function(){return this.disabled};FormControl.prototype.registerOnChange=function(fn){this._onChange.push(fn);};FormControl.prototype._clearChangeFns=function(){this._onChange=[];this._onDisabledChange=[];this._onCollectionChange=function(){};};FormControl.prototype.registerOnDisabledChange=function(fn){this._onDisabledChange.push(fn);};FormControl.prototype._forEachChild=function(cb){};FormControl.prototype._applyFormState=function(formState){if(this._isBoxedValue(formState)){this._value=formState.value;formState.disabled?this.disable({onlySelf:true,emitEvent:false}):this.enable({onlySelf:true,emitEvent:false});}else{this._value=formState;}};return FormControl}(AbstractControl);var FormGroup=function(_super){__extends$41(FormGroup,_super);function FormGroup(controls,validator,asyncValidator){if(validator===void 0){validator=null;}if(asyncValidator===void 0){asyncValidator=null;}_super.call(this,validator,asyncValidator);this.controls=controls;this._initObservables();this._setUpControls();this.updateValueAndValidity({onlySelf:true,emitEvent:false});}FormGroup.prototype.registerControl=function(name,control){if(this.controls[name])return this.controls[name];this.controls[name]=control;control.setParent(this);control._registerOnCollectionChange(this._onCollectionChange);return control};FormGroup.prototype.addControl=function(name,control){this.registerControl(name,control);this.updateValueAndValidity();this._onCollectionChange();};FormGroup.prototype.removeControl=function(name){if(this.controls[name])this.controls[name]._registerOnCollectionChange(function(){});delete this.controls[name];this.updateValueAndValidity();this._onCollectionChange();};FormGroup.prototype.setControl=function(name,control){if(this.controls[name])this.controls[name]._registerOnCollectionChange(function(){});delete this.controls[name];if(control)this.registerControl(name,control);this.updateValueAndValidity();this._onCollectionChange();};FormGroup.prototype.contains=function(controlName){return this.controls.hasOwnProperty(controlName)&&this.controls[controlName].enabled};FormGroup.prototype.setValue=function(value,_a){var _this=this;var _b=_a===void 0?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent;this._checkAllValuesPresent(value);Object.keys(value).forEach(function(name){_this._throwIfControlMissing(name);_this.controls[name].setValue(value[name],{onlySelf:true,emitEvent:emitEvent});});this.updateValueAndValidity({onlySelf:onlySelf,emitEvent:emitEvent});};FormGroup.prototype.patchValue=function(value,_a){var _this=this;var _b=_a===void 0?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent;Object.keys(value).forEach(function(name){if(_this.controls[name]){_this.controls[name].patchValue(value[name],{onlySelf:true,emitEvent:emitEvent});}});this.updateValueAndValidity({onlySelf:onlySelf,emitEvent:emitEvent});};FormGroup.prototype.reset=function(value,_a){if(value===void 0){value={};}var _b=_a===void 0?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent;this._forEachChild(function(control,name){control.reset(value[name],{onlySelf:true,emitEvent:emitEvent});});this.updateValueAndValidity({onlySelf:onlySelf,emitEvent:emitEvent});this._updatePristine({onlySelf:onlySelf});this._updateTouched({onlySelf:onlySelf});};FormGroup.prototype.getRawValue=function(){return this._reduceChildren({},function(acc,control,name){acc[name]=control.value;return acc})};FormGroup.prototype._throwIfControlMissing=function(name){if(!Object.keys(this.controls).length){throw new Error('\n        There are no form controls registered with this group yet.  If you\'re using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ')}if(!this.controls[name]){throw new Error('Cannot find form control with name: '+name+'.')}};FormGroup.prototype._forEachChild=function(cb){var _this=this;Object.keys(this.controls).forEach(function(k){return cb(_this.controls[k],k)});};FormGroup.prototype._setUpControls=function(){var _this=this;this._forEachChild(function(control){control.setParent(_this);control._registerOnCollectionChange(_this._onCollectionChange);});};FormGroup.prototype._updateValue=function(){this._value=this._reduceValue();};FormGroup.prototype._anyControls=function(condition){var _this=this;var res=false;this._forEachChild(function(control,name){res=res||_this.contains(name)&&condition(control);});return res};FormGroup.prototype._reduceValue=function(){var _this=this;return this._reduceChildren({},function(acc,control,name){if(control.enabled||_this.disabled){acc[name]=control.value;}return acc})};FormGroup.prototype._reduceChildren=function(initValue,fn){var res=initValue;this._forEachChild(function(control,name){res=fn(res,control,name);});return res};FormGroup.prototype._allControlsDisabled=function(){for(var _i=0,_a=Object.keys(this.controls);_i<_a.length;_i++){var controlName=_a[_i];if(this.controls[controlName].enabled){return false}}return Object.keys(this.controls).length>0||this.disabled};FormGroup.prototype._checkAllValuesPresent=function(value){this._forEachChild(function(control,name){if(value[name]===undefined){throw new Error('Must supply a value for form control with name: \''+name+'\'.')}});};return FormGroup}(AbstractControl);var FormArray=function(_super){__extends$41(FormArray,_super);function FormArray(controls,validator,asyncValidator){if(validator===void 0){validator=null;}if(asyncValidator===void 0){asyncValidator=null;}_super.call(this,validator,asyncValidator);this.controls=controls;this._initObservables();this._setUpControls();this.updateValueAndValidity({onlySelf:true,emitEvent:false});}FormArray.prototype.at=function(index){return this.controls[index]};FormArray.prototype.push=function(control){this.controls.push(control);this._registerControl(control);this.updateValueAndValidity();this._onCollectionChange();};FormArray.prototype.insert=function(index,control){this.controls.splice(index,0,control);this._registerControl(control);this.updateValueAndValidity();this._onCollectionChange();};FormArray.prototype.removeAt=function(index){if(this.controls[index])this.controls[index]._registerOnCollectionChange(function(){});this.controls.splice(index,1);this.updateValueAndValidity();this._onCollectionChange();};FormArray.prototype.setControl=function(index,control){if(this.controls[index])this.controls[index]._registerOnCollectionChange(function(){});this.controls.splice(index,1);if(control){this.controls.splice(index,0,control);this._registerControl(control);}this.updateValueAndValidity();this._onCollectionChange();};Object.defineProperty(FormArray.prototype,'length',{get:function get(){return this.controls.length},enumerable:true,configurable:true});FormArray.prototype.setValue=function(value,_a){var _this=this;var _b=_a===void 0?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent;this._checkAllValuesPresent(value);value.forEach(function(newValue,index){_this._throwIfControlMissing(index);_this.at(index).setValue(newValue,{onlySelf:true,emitEvent:emitEvent});});this.updateValueAndValidity({onlySelf:onlySelf,emitEvent:emitEvent});};FormArray.prototype.patchValue=function(value,_a){var _this=this;var _b=_a===void 0?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent;value.forEach(function(newValue,index){if(_this.at(index)){_this.at(index).patchValue(newValue,{onlySelf:true,emitEvent:emitEvent});}});this.updateValueAndValidity({onlySelf:onlySelf,emitEvent:emitEvent});};FormArray.prototype.reset=function(value,_a){if(value===void 0){value=[];}var _b=_a===void 0?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent;this._forEachChild(function(control,index){control.reset(value[index],{onlySelf:true,emitEvent:emitEvent});});this.updateValueAndValidity({onlySelf:onlySelf,emitEvent:emitEvent});this._updatePristine({onlySelf:onlySelf});this._updateTouched({onlySelf:onlySelf});};FormArray.prototype.getRawValue=function(){return this.controls.map(function(control){return control.value})};FormArray.prototype._throwIfControlMissing=function(index){if(!this.controls.length){throw new Error('\n        There are no form controls registered with this array yet.  If you\'re using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ')}if(!this.at(index)){throw new Error('Cannot find form control at index '+index)}};FormArray.prototype._forEachChild=function(cb){this.controls.forEach(function(control,index){cb(control,index);});};FormArray.prototype._updateValue=function(){var _this=this;this._value=this.controls.filter(function(control){return control.enabled||_this.disabled}).map(function(control){return control.value});};FormArray.prototype._anyControls=function(condition){return this.controls.some(function(control){return control.enabled&&condition(control)})};FormArray.prototype._setUpControls=function(){var _this=this;this._forEachChild(function(control){return _this._registerControl(control)});};FormArray.prototype._checkAllValuesPresent=function(value){this._forEachChild(function(control,i){if(value[i]===undefined){throw new Error('Must supply a value for form control at index: '+i+'.')}});};FormArray.prototype._allControlsDisabled=function(){for(var _i=0,_a=this.controls;_i<_a.length;_i++){var control=_a[_i];if(control.enabled)return false}return this.controls.length>0||this.disabled};FormArray.prototype._registerControl=function(control){control.setParent(this);control._registerOnCollectionChange(this._onCollectionChange);};return FormArray}(AbstractControl);

var __extends$39=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var formDirectiveProvider={provide:ControlContainer,useExisting:forwardRef(function(){return NgForm})};var resolvedPromise=Promise.resolve(null);var NgForm=function(_super){__extends$39(NgForm,_super);function NgForm(validators,asyncValidators){_super.call(this);this._submitted=false;this.ngSubmit=new EventEmitter$1;this.form=new FormGroup({},composeValidators(validators),composeAsyncValidators(asyncValidators));}Object.defineProperty(NgForm.prototype,'submitted',{get:function get(){return this._submitted},enumerable:true,configurable:true});Object.defineProperty(NgForm.prototype,'formDirective',{get:function get(){return this},enumerable:true,configurable:true});Object.defineProperty(NgForm.prototype,'control',{get:function get(){return this.form},enumerable:true,configurable:true});Object.defineProperty(NgForm.prototype,'path',{get:function get(){return[]},enumerable:true,configurable:true});Object.defineProperty(NgForm.prototype,'controls',{get:function get(){return this.form.controls},enumerable:true,configurable:true});NgForm.prototype.addControl=function(dir){var _this=this;resolvedPromise.then(function(){var container=_this._findContainer(dir.path);dir._control=container.registerControl(dir.name,dir.control);setUpControl(dir.control,dir);dir.control.updateValueAndValidity({emitEvent:false});});};NgForm.prototype.getControl=function(dir){return this.form.get(dir.path)};NgForm.prototype.removeControl=function(dir){var _this=this;resolvedPromise.then(function(){var container=_this._findContainer(dir.path);if(container){container.removeControl(dir.name);}});};NgForm.prototype.addFormGroup=function(dir){var _this=this;resolvedPromise.then(function(){var container=_this._findContainer(dir.path);var group$$1=new FormGroup({});setUpFormContainer(group$$1,dir);container.registerControl(dir.name,group$$1);group$$1.updateValueAndValidity({emitEvent:false});});};NgForm.prototype.removeFormGroup=function(dir){var _this=this;resolvedPromise.then(function(){var container=_this._findContainer(dir.path);if(container){container.removeControl(dir.name);}});};NgForm.prototype.getFormGroup=function(dir){return this.form.get(dir.path)};NgForm.prototype.updateModel=function(dir,value){var _this=this;resolvedPromise.then(function(){var ctrl=_this.form.get(dir.path);ctrl.setValue(value);});};NgForm.prototype.setValue=function(value){this.control.setValue(value);};NgForm.prototype.onSubmit=function($event){this._submitted=true;this.ngSubmit.emit($event);return false};NgForm.prototype.onReset=function(){this.resetForm();};NgForm.prototype.resetForm=function(value){if(value===void 0){value=undefined;}this.form.reset(value);this._submitted=false;};NgForm.prototype._findContainer=function(path){path.pop();return path.length?this.form.get(path):this.form};NgForm.decorators=[{type:Directive,args:[{selector:'form:not([ngNoForm]):not([formGroup]),ngForm,[ngForm]',providers:[formDirectiveProvider],host:{'(submit)':'onSubmit($event)','(reset)':'onReset()'},outputs:['ngSubmit'],exportAs:'ngForm'}]}];NgForm.ctorParameters=function(){return[{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]}]};return NgForm}(ControlContainer);

var FormErrorExamples={formControlName:"\n    <div [formGroup]=\"myGroup\">\n      <input formControlName=\"firstName\">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });",formGroupName:"\n    <div [formGroup]=\"myGroup\">\n       <div formGroupName=\"person\">\n          <input formControlName=\"firstName\">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });",formArrayName:"\n    <div [formGroup]=\"myGroup\">\n      <div formArrayName=\"cities\">\n        <div *ngFor=\"let city of cityArray.controls; let i=index\">\n          <input [formControlName]=\"i\">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl('SF')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });",ngModelGroup:"\n    <form>\n       <div ngModelGroup=\"person\">\n          <input [(ngModel)]=\"person.name\" name=\"firstName\">\n       </div>\n    </form>",ngModelWithFormGroup:"\n    <div [formGroup]=\"myGroup\">\n       <input formControlName=\"firstName\">\n       <input [(ngModel)]=\"showMoreControls\" [ngModelOptions]=\"{standalone: true}\">\n    </div>\n  "};

var TemplateDrivenErrors=function(){function TemplateDrivenErrors(){}TemplateDrivenErrors.modelParentException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive \"formControlName\" instead.  Example:\n\n      "+FormErrorExamples.formControlName+"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      "+FormErrorExamples.ngModelWithFormGroup)};TemplateDrivenErrors.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+FormErrorExamples.formGroupName+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+FormErrorExamples.ngModelGroup)};TemplateDrivenErrors.missingNameException=function(){throw new Error("If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as 'standalone' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]=\"person.firstName\" name=\"first\">\n      Example 2: <input [(ngModel)]=\"person.firstName\" [ngModelOptions]=\"{standalone: true}\">")};TemplateDrivenErrors.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+FormErrorExamples.formGroupName+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+FormErrorExamples.ngModelGroup)};return TemplateDrivenErrors}();

var __extends$44=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var modelGroupProvider={provide:ControlContainer,useExisting:forwardRef(function(){return NgModelGroup})};var NgModelGroup=function(_super){__extends$44(NgModelGroup,_super);function NgModelGroup(parent,validators,asyncValidators){_super.call(this);this._parent=parent;this._validators=validators;this._asyncValidators=asyncValidators;}NgModelGroup.prototype._checkParentType=function(){if(!(this._parent instanceof NgModelGroup)&&!(this._parent instanceof NgForm)){TemplateDrivenErrors.modelGroupParentException();}};NgModelGroup.decorators=[{type:Directive,args:[{selector:'[ngModelGroup]',providers:[modelGroupProvider],exportAs:'ngModelGroup'}]}];NgModelGroup.ctorParameters=function(){return[{type:ControlContainer,decorators:[{type:Host},{type:SkipSelf}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]}]};NgModelGroup.propDecorators={'name':[{type:Input,args:['ngModelGroup']}]};return NgModelGroup}(AbstractFormGroupDirective);

var __extends$43=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var formControlBinding={provide:NgControl,useExisting:forwardRef(function(){return NgModel})};var resolvedPromise$1=Promise.resolve(null);var NgModel=function(_super){__extends$43(NgModel,_super);function NgModel(parent,validators,asyncValidators,valueAccessors){_super.call(this);this._control=new FormControl;this._registered=false;this.update=new EventEmitter$1;this._parent=parent;this._rawValidators=validators||[];this._rawAsyncValidators=asyncValidators||[];this.valueAccessor=selectValueAccessor(this,valueAccessors);}NgModel.prototype.ngOnChanges=function(changes){this._checkForErrors();if(!this._registered)this._setUpControl();if('isDisabled'in changes){this._updateDisabled(changes);}if(isPropertyUpdated(changes,this.viewModel)){this._updateValue(this.model);this.viewModel=this.model;}};NgModel.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this);};Object.defineProperty(NgModel.prototype,'control',{get:function get(){return this._control},enumerable:true,configurable:true});Object.defineProperty(NgModel.prototype,'path',{get:function get(){return this._parent?controlPath(this.name,this._parent):[this.name]},enumerable:true,configurable:true});Object.defineProperty(NgModel.prototype,'formDirective',{get:function get(){return this._parent?this._parent.formDirective:null},enumerable:true,configurable:true});Object.defineProperty(NgModel.prototype,'validator',{get:function get(){return composeValidators(this._rawValidators)},enumerable:true,configurable:true});Object.defineProperty(NgModel.prototype,'asyncValidator',{get:function get(){return composeAsyncValidators(this._rawAsyncValidators)},enumerable:true,configurable:true});NgModel.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue;this.update.emit(newValue);};NgModel.prototype._setUpControl=function(){this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this);this._registered=true;};NgModel.prototype._isStandalone=function(){return!this._parent||this.options&&this.options.standalone};NgModel.prototype._setUpStandalone=function(){setUpControl(this._control,this);this._control.updateValueAndValidity({emitEvent:false});};NgModel.prototype._checkForErrors=function(){if(!this._isStandalone()){this._checkParentType();}this._checkName();};NgModel.prototype._checkParentType=function(){if(!(this._parent instanceof NgModelGroup)&&this._parent instanceof AbstractFormGroupDirective){TemplateDrivenErrors.formGroupNameException();}else if(!(this._parent instanceof NgModelGroup)&&!(this._parent instanceof NgForm)){TemplateDrivenErrors.modelParentException();}};NgModel.prototype._checkName=function(){if(this.options&&this.options.name)this.name=this.options.name;if(!this._isStandalone()&&!this.name){TemplateDrivenErrors.missingNameException();}};NgModel.prototype._updateValue=function(value){var _this=this;resolvedPromise$1.then(function(){_this.control.setValue(value,{emitViewToModelChange:false});});};NgModel.prototype._updateDisabled=function(changes){var _this=this;var disabledValue=changes['isDisabled'].currentValue;var isDisabled=disabledValue===''||disabledValue&&disabledValue!=='false';resolvedPromise$1.then(function(){if(isDisabled&&!_this.control.disabled){_this.control.disable();}else if(!isDisabled&&_this.control.disabled){_this.control.enable();}});};NgModel.decorators=[{type:Directive,args:[{selector:'[ngModel]:not([formControlName]):not([formControl])',providers:[formControlBinding],exportAs:'ngModel'}]}];NgModel.ctorParameters=function(){return[{type:ControlContainer,decorators:[{type:Optional},{type:Host}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALUE_ACCESSOR]}]}]};NgModel.propDecorators={'name':[{type:Input}],'isDisabled':[{type:Input,args:['disabled']}],'model':[{type:Input,args:['ngModel']}],'options':[{type:Input,args:['ngModelOptions']}],'update':[{type:Output,args:['ngModelChange']}]};return NgModel}(NgControl);

var ReactiveErrors=function(){function ReactiveErrors(){}ReactiveErrors.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+FormErrorExamples.formControlName)};ReactiveErrors.ngModelGroupException=function(){throw new Error("formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a \"form\" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        "+FormErrorExamples.formGroupName+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+FormErrorExamples.ngModelGroup)};ReactiveErrors.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+FormErrorExamples.formControlName)};ReactiveErrors.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+FormErrorExamples.formGroupName)};ReactiveErrors.arrayParentException=function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        "+FormErrorExamples.formArrayName)};ReactiveErrors.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ");};return ReactiveErrors}();

var __extends$45=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var formControlBinding$1={provide:NgControl,useExisting:forwardRef(function(){return FormControlDirective})};var FormControlDirective=function(_super){__extends$45(FormControlDirective,_super);function FormControlDirective(validators,asyncValidators,valueAccessors){_super.call(this);this.update=new EventEmitter$1;this._rawValidators=validators||[];this._rawAsyncValidators=asyncValidators||[];this.valueAccessor=selectValueAccessor(this,valueAccessors);}Object.defineProperty(FormControlDirective.prototype,'isDisabled',{set:function set(isDisabled){ReactiveErrors.disabledAttrWarning();},enumerable:true,configurable:true});FormControlDirective.prototype.ngOnChanges=function(changes){if(this._isControlChanged(changes)){setUpControl(this.form,this);if(this.control.disabled&&this.valueAccessor.setDisabledState){this.valueAccessor.setDisabledState(true);}this.form.updateValueAndValidity({emitEvent:false});}if(isPropertyUpdated(changes,this.viewModel)){this.form.setValue(this.model);this.viewModel=this.model;}};Object.defineProperty(FormControlDirective.prototype,'path',{get:function get(){return[]},enumerable:true,configurable:true});Object.defineProperty(FormControlDirective.prototype,'validator',{get:function get(){return composeValidators(this._rawValidators)},enumerable:true,configurable:true});Object.defineProperty(FormControlDirective.prototype,'asyncValidator',{get:function get(){return composeAsyncValidators(this._rawAsyncValidators)},enumerable:true,configurable:true});Object.defineProperty(FormControlDirective.prototype,'control',{get:function get(){return this.form},enumerable:true,configurable:true});FormControlDirective.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue;this.update.emit(newValue);};FormControlDirective.prototype._isControlChanged=function(changes){return changes.hasOwnProperty('form')};FormControlDirective.decorators=[{type:Directive,args:[{selector:'[formControl]',providers:[formControlBinding$1],exportAs:'ngForm'}]}];FormControlDirective.ctorParameters=function(){return[{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALUE_ACCESSOR]}]}]};FormControlDirective.propDecorators={'form':[{type:Input,args:['formControl']}],'model':[{type:Input,args:['ngModel']}],'update':[{type:Output,args:['ngModelChange']}],'isDisabled':[{type:Input,args:['disabled']}]};return FormControlDirective}(NgControl);

var __extends$47=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var formDirectiveProvider$1={provide:ControlContainer,useExisting:forwardRef(function(){return FormGroupDirective})};var FormGroupDirective=function(_super){__extends$47(FormGroupDirective,_super);function FormGroupDirective(_validators,_asyncValidators){_super.call(this);this._validators=_validators;this._asyncValidators=_asyncValidators;this._submitted=false;this.directives=[];this.form=null;this.ngSubmit=new EventEmitter$1;}FormGroupDirective.prototype.ngOnChanges=function(changes){this._checkFormPresent();if(changes.hasOwnProperty('form')){this._updateValidators();this._updateDomValue();this._updateRegistrations();}};Object.defineProperty(FormGroupDirective.prototype,'submitted',{get:function get(){return this._submitted},enumerable:true,configurable:true});Object.defineProperty(FormGroupDirective.prototype,'formDirective',{get:function get(){return this},enumerable:true,configurable:true});Object.defineProperty(FormGroupDirective.prototype,'control',{get:function get(){return this.form},enumerable:true,configurable:true});Object.defineProperty(FormGroupDirective.prototype,'path',{get:function get(){return[]},enumerable:true,configurable:true});FormGroupDirective.prototype.addControl=function(dir){var ctrl=this.form.get(dir.path);setUpControl(ctrl,dir);ctrl.updateValueAndValidity({emitEvent:false});this.directives.push(dir);return ctrl};FormGroupDirective.prototype.getControl=function(dir){return this.form.get(dir.path)};FormGroupDirective.prototype.removeControl=function(dir){ListWrapper$3.remove(this.directives,dir);};FormGroupDirective.prototype.addFormGroup=function(dir){var ctrl=this.form.get(dir.path);setUpFormContainer(ctrl,dir);ctrl.updateValueAndValidity({emitEvent:false});};FormGroupDirective.prototype.removeFormGroup=function(dir){};FormGroupDirective.prototype.getFormGroup=function(dir){return this.form.get(dir.path)};FormGroupDirective.prototype.addFormArray=function(dir){var ctrl=this.form.get(dir.path);setUpFormContainer(ctrl,dir);ctrl.updateValueAndValidity({emitEvent:false});};FormGroupDirective.prototype.removeFormArray=function(dir){};FormGroupDirective.prototype.getFormArray=function(dir){return this.form.get(dir.path)};FormGroupDirective.prototype.updateModel=function(dir,value){var ctrl=this.form.get(dir.path);ctrl.setValue(value);};FormGroupDirective.prototype.onSubmit=function($event){this._submitted=true;this.ngSubmit.emit($event);return false};FormGroupDirective.prototype.onReset=function(){this.resetForm();};FormGroupDirective.prototype.resetForm=function(value){if(value===void 0){value=undefined;}this.form.reset(value);this._submitted=false;};FormGroupDirective.prototype._updateDomValue=function(){var _this=this;this.directives.forEach(function(dir){var newCtrl=_this.form.get(dir.path);if(dir._control!==newCtrl){cleanUpControl(dir._control,dir);if(newCtrl)setUpControl(newCtrl,dir);dir._control=newCtrl;}});this.form._updateTreeValidity({emitEvent:false});};FormGroupDirective.prototype._updateRegistrations=function(){var _this=this;this.form._registerOnCollectionChange(function(){return _this._updateDomValue()});if(this._oldForm)this._oldForm._registerOnCollectionChange(function(){});this._oldForm=this.form;};FormGroupDirective.prototype._updateValidators=function(){var sync=composeValidators(this._validators);this.form.validator=Validators.compose([this.form.validator,sync]);var async=composeAsyncValidators(this._asyncValidators);this.form.asyncValidator=Validators.composeAsync([this.form.asyncValidator,async]);};FormGroupDirective.prototype._checkFormPresent=function(){if(!this.form){ReactiveErrors.missingFormException();}};FormGroupDirective.decorators=[{type:Directive,args:[{selector:'[formGroup]',providers:[formDirectiveProvider$1],host:{'(submit)':'onSubmit($event)','(reset)':'onReset()'},exportAs:'ngForm'}]}];FormGroupDirective.ctorParameters=function(){return[{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]}]};FormGroupDirective.propDecorators={'form':[{type:Input,args:['formGroup']}],'ngSubmit':[{type:Output}]};return FormGroupDirective}(ControlContainer);

var __extends$48=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var formGroupNameProvider={provide:ControlContainer,useExisting:forwardRef(function(){return FormGroupName})};var FormGroupName=function(_super){__extends$48(FormGroupName,_super);function FormGroupName(parent,validators,asyncValidators){_super.call(this);this._parent=parent;this._validators=validators;this._asyncValidators=asyncValidators;}FormGroupName.prototype._checkParentType=function(){if(_hasInvalidParent(this._parent)){ReactiveErrors.groupParentException();}};FormGroupName.decorators=[{type:Directive,args:[{selector:'[formGroupName]',providers:[formGroupNameProvider]}]}];FormGroupName.ctorParameters=function(){return[{type:ControlContainer,decorators:[{type:Optional},{type:Host},{type:SkipSelf}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]}]};FormGroupName.propDecorators={'name':[{type:Input,args:['formGroupName']}]};return FormGroupName}(AbstractFormGroupDirective);var formArrayNameProvider={provide:ControlContainer,useExisting:forwardRef(function(){return FormArrayName})};var FormArrayName=function(_super){__extends$48(FormArrayName,_super);function FormArrayName(parent,validators,asyncValidators){_super.call(this);this._parent=parent;this._validators=validators;this._asyncValidators=asyncValidators;}FormArrayName.prototype.ngOnInit=function(){this._checkParentType();this.formDirective.addFormArray(this);};FormArrayName.prototype.ngOnDestroy=function(){if(this.formDirective){this.formDirective.removeFormArray(this);}};Object.defineProperty(FormArrayName.prototype,'control',{get:function get(){return this.formDirective.getFormArray(this)},enumerable:true,configurable:true});Object.defineProperty(FormArrayName.prototype,'formDirective',{get:function get(){return this._parent?this._parent.formDirective:null},enumerable:true,configurable:true});Object.defineProperty(FormArrayName.prototype,'path',{get:function get(){return controlPath(this.name,this._parent)},enumerable:true,configurable:true});Object.defineProperty(FormArrayName.prototype,'validator',{get:function get(){return composeValidators(this._validators)},enumerable:true,configurable:true});Object.defineProperty(FormArrayName.prototype,'asyncValidator',{get:function get(){return composeAsyncValidators(this._asyncValidators)},enumerable:true,configurable:true});FormArrayName.prototype._checkParentType=function(){if(_hasInvalidParent(this._parent)){ReactiveErrors.arrayParentException();}};FormArrayName.decorators=[{type:Directive,args:[{selector:'[formArrayName]',providers:[formArrayNameProvider]}]}];FormArrayName.ctorParameters=function(){return[{type:ControlContainer,decorators:[{type:Optional},{type:Host},{type:SkipSelf}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]}]};FormArrayName.propDecorators={'name':[{type:Input,args:['formArrayName']}]};return FormArrayName}(ControlContainer);function _hasInvalidParent(parent){return!(parent instanceof FormGroupName)&&!(parent instanceof FormGroupDirective)&&!(parent instanceof FormArrayName)}

var __extends$46=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var controlNameBinding={provide:NgControl,useExisting:forwardRef(function(){return FormControlName})};var FormControlName=function(_super){__extends$46(FormControlName,_super);function FormControlName(parent,validators,asyncValidators,valueAccessors){_super.call(this);this._added=false;this.update=new EventEmitter$1;this._parent=parent;this._rawValidators=validators||[];this._rawAsyncValidators=asyncValidators||[];this.valueAccessor=selectValueAccessor(this,valueAccessors);}Object.defineProperty(FormControlName.prototype,'isDisabled',{set:function set(isDisabled){ReactiveErrors.disabledAttrWarning();},enumerable:true,configurable:true});FormControlName.prototype.ngOnChanges=function(changes){if(!this._added)this._setUpControl();if(isPropertyUpdated(changes,this.viewModel)){this.viewModel=this.model;this.formDirective.updateModel(this,this.model);}};FormControlName.prototype.ngOnDestroy=function(){if(this.formDirective){this.formDirective.removeControl(this);}};FormControlName.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue;this.update.emit(newValue);};Object.defineProperty(FormControlName.prototype,'path',{get:function get(){return controlPath(this.name,this._parent)},enumerable:true,configurable:true});Object.defineProperty(FormControlName.prototype,'formDirective',{get:function get(){return this._parent?this._parent.formDirective:null},enumerable:true,configurable:true});Object.defineProperty(FormControlName.prototype,'validator',{get:function get(){return composeValidators(this._rawValidators)},enumerable:true,configurable:true});Object.defineProperty(FormControlName.prototype,'asyncValidator',{get:function get(){return composeAsyncValidators(this._rawAsyncValidators)},enumerable:true,configurable:true});Object.defineProperty(FormControlName.prototype,'control',{get:function get(){return this._control},enumerable:true,configurable:true});FormControlName.prototype._checkParentType=function(){if(!(this._parent instanceof FormGroupName)&&this._parent instanceof AbstractFormGroupDirective){ReactiveErrors.ngModelGroupException();}else if(!(this._parent instanceof FormGroupName)&&!(this._parent instanceof FormGroupDirective)&&!(this._parent instanceof FormArrayName)){ReactiveErrors.controlParentException();}};FormControlName.prototype._setUpControl=function(){this._checkParentType();this._control=this.formDirective.addControl(this);if(this.control.disabled&&this.valueAccessor.setDisabledState){this.valueAccessor.setDisabledState(true);}this._added=true;};FormControlName.decorators=[{type:Directive,args:[{selector:'[formControlName]',providers:[controlNameBinding]}]}];FormControlName.ctorParameters=function(){return[{type:ControlContainer,decorators:[{type:Optional},{type:Host},{type:SkipSelf}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALUE_ACCESSOR]}]}]};FormControlName.propDecorators={'name':[{type:Input,args:['formControlName']}],'model':[{type:Input,args:['ngModel']}],'update':[{type:Output,args:['ngModelChange']}],'isDisabled':[{type:Input,args:['disabled']}]};return FormControlName}(NgControl);

var __extends$49=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var REQUIRED_VALIDATOR={provide:NG_VALIDATORS,useExisting:forwardRef(function(){return RequiredValidator}),multi:true};var CHECKBOX_REQUIRED_VALIDATOR={provide:NG_VALIDATORS,useExisting:forwardRef(function(){return CheckboxRequiredValidator}),multi:true};var RequiredValidator=function(){function RequiredValidator(){}Object.defineProperty(RequiredValidator.prototype,'required',{get:function get(){return this._required},set:function set(value){this._required=value!=null&&value!==false&&''+value!=='false';if(this._onChange)this._onChange();},enumerable:true,configurable:true});RequiredValidator.prototype.validate=function(c){return this.required?Validators.required(c):null};RequiredValidator.prototype.registerOnValidatorChange=function(fn){this._onChange=fn;};RequiredValidator.decorators=[{type:Directive,args:[{selector:':not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]',providers:[REQUIRED_VALIDATOR],host:{'[attr.required]':'required ? "" : null'}}]}];RequiredValidator.ctorParameters=function(){return[]};RequiredValidator.propDecorators={'required':[{type:Input}]};return RequiredValidator}();var CheckboxRequiredValidator=function(_super){__extends$49(CheckboxRequiredValidator,_super);function CheckboxRequiredValidator(){_super.apply(this,arguments);}CheckboxRequiredValidator.prototype.validate=function(c){return this.required?Validators.requiredTrue(c):null};CheckboxRequiredValidator.decorators=[{type:Directive,args:[{selector:'input[type=checkbox][required][formControlName],input[type=checkbox][required][formControl],input[type=checkbox][required][ngModel]',providers:[CHECKBOX_REQUIRED_VALIDATOR],host:{'[attr.required]':'required ? "" : null'}}]}];CheckboxRequiredValidator.ctorParameters=function(){return[]};return CheckboxRequiredValidator}(RequiredValidator);var MIN_LENGTH_VALIDATOR={provide:NG_VALIDATORS,useExisting:forwardRef(function(){return MinLengthValidator}),multi:true};var MinLengthValidator=function(){function MinLengthValidator(){}MinLengthValidator.prototype.ngOnChanges=function(changes){if('minlength'in changes){this._createValidator();if(this._onChange)this._onChange();}};MinLengthValidator.prototype.validate=function(c){return this.minlength==null?null:this._validator(c)};MinLengthValidator.prototype.registerOnValidatorChange=function(fn){this._onChange=fn;};MinLengthValidator.prototype._createValidator=function(){this._validator=Validators.minLength(parseInt(this.minlength,10));};MinLengthValidator.decorators=[{type:Directive,args:[{selector:'[minlength][formControlName],[minlength][formControl],[minlength][ngModel]',providers:[MIN_LENGTH_VALIDATOR],host:{'[attr.minlength]':'minlength ? minlength : null'}}]}];MinLengthValidator.ctorParameters=function(){return[]};MinLengthValidator.propDecorators={'minlength':[{type:Input}]};return MinLengthValidator}();var MAX_LENGTH_VALIDATOR={provide:NG_VALIDATORS,useExisting:forwardRef(function(){return MaxLengthValidator}),multi:true};var MaxLengthValidator=function(){function MaxLengthValidator(){}MaxLengthValidator.prototype.ngOnChanges=function(changes){if('maxlength'in changes){this._createValidator();if(this._onChange)this._onChange();}};MaxLengthValidator.prototype.validate=function(c){return this.maxlength!=null?this._validator(c):null};MaxLengthValidator.prototype.registerOnValidatorChange=function(fn){this._onChange=fn;};MaxLengthValidator.prototype._createValidator=function(){this._validator=Validators.maxLength(parseInt(this.maxlength,10));};MaxLengthValidator.decorators=[{type:Directive,args:[{selector:'[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]',providers:[MAX_LENGTH_VALIDATOR],host:{'[attr.maxlength]':'maxlength ? maxlength : null'}}]}];MaxLengthValidator.ctorParameters=function(){return[]};MaxLengthValidator.propDecorators={'maxlength':[{type:Input}]};return MaxLengthValidator}();var PATTERN_VALIDATOR={provide:NG_VALIDATORS,useExisting:forwardRef(function(){return PatternValidator}),multi:true};var PatternValidator=function(){function PatternValidator(){}PatternValidator.prototype.ngOnChanges=function(changes){if('pattern'in changes){this._createValidator();if(this._onChange)this._onChange();}};PatternValidator.prototype.validate=function(c){return this._validator(c)};PatternValidator.prototype.registerOnValidatorChange=function(fn){this._onChange=fn;};PatternValidator.prototype._createValidator=function(){this._validator=Validators.pattern(this.pattern);};PatternValidator.decorators=[{type:Directive,args:[{selector:'[pattern][formControlName],[pattern][formControl],[pattern][ngModel]',providers:[PATTERN_VALIDATOR],host:{'[attr.pattern]':'pattern ? pattern : null'}}]}];PatternValidator.ctorParameters=function(){return[]};PatternValidator.propDecorators={'pattern':[{type:Input}]};return PatternValidator}();

var VERSION$3=new Version('2.3.1');

var SHARED_FORM_DIRECTIVES=[NgSelectOption,NgSelectMultipleOption,DefaultValueAccessor,NumberValueAccessor,RangeValueAccessor,CheckboxControlValueAccessor,SelectControlValueAccessor,SelectMultipleControlValueAccessor,RadioControlValueAccessor,NgControlStatus,NgControlStatusGroup,RequiredValidator,MinLengthValidator,MaxLengthValidator,PatternValidator,CheckboxRequiredValidator];var TEMPLATE_DRIVEN_DIRECTIVES=[NgModel,NgModelGroup,NgForm];var InternalFormsSharedModule=function(){function InternalFormsSharedModule(){}InternalFormsSharedModule.decorators=[{type:NgModule,args:[{declarations:SHARED_FORM_DIRECTIVES,exports:SHARED_FORM_DIRECTIVES}]}];InternalFormsSharedModule.ctorParameters=function(){return[]};return InternalFormsSharedModule}();

var FormsModule=function(){function FormsModule(){}FormsModule.decorators=[{type:NgModule,args:[{declarations:TEMPLATE_DRIVEN_DIRECTIVES,providers:[RadioControlRegistry],exports:[InternalFormsSharedModule,TEMPLATE_DRIVEN_DIRECTIVES]}]}];FormsModule.ctorParameters=function(){return[]};return FormsModule}();

var __decorate$1=window&&window.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata$1=window&&window.__metadata||function(k,v){if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var AppComponent=function AppComponent(){classCallCheck(this,AppComponent);};AppComponent=__decorate$1([Component({moduleId:module.id,selector:"waveform-app",templateUrl:"app.html"}),__metadata$1("design:paramtypes",[])],AppComponent);

var MathUtil=function(){function MathUtil(){classCallCheck(this,MathUtil);}createClass(MathUtil,null,[{key:"clamp",value:function clamp(val,min,max){return Math.min(Math.max(val,min),max)}},{key:"numberWithinPercentOfMod",value:function numberWithinPercentOfMod(value,mod,percent){var t=value%mod/mod;return Math.abs(1-t)<percent/100||t<percent/100}}]);return MathUtil}();

var ArrayListMultimap=function(){function ArrayListMultimap(){classCallCheck(this,ArrayListMultimap);this._entries=[];}createClass(ArrayListMultimap,[{key:"clear",value:function clear(){this._entries=[];}},{key:"containsKey",value:function containsKey(key){return this._entries.filter(function(entry){return entry.key==key}).length>0}},{key:"containsValue",value:function containsValue(value){return this._entries.filter(function(entry){return entry.value==value}).length>0}},{key:"containsEntry",value:function containsEntry(key,value){return this._entries.filter(function(entry){return entry.key==key&&entry.value==value}).length>0}},{key:"delete",value:function _delete(key,value){var temp=this._entries;this._entries=this._entries.filter(function(entry){if(value)return entry.key!=key||entry.value!=value;return entry.key!=key});return temp.length!=this._entries.length}},{key:"get",value:function get(key){return this._entries.filter(function(entry){return entry.key==key}).map(function(entry){return entry.value})}},{key:"keys",value:function keys(){return Array.from(new Set(this._entries.map(function(entry){return entry.key})))}},{key:"put",value:function put(key,value){this._entries.push(new MultimapEntry(key,value));return this._entries}},{key:"entries",get:function get(){return this._entries}}]);return ArrayListMultimap}();ArrayListMultimap.create=function(){return new ArrayListMultimap};var MultimapEntry=function MultimapEntry(key,value){classCallCheck(this,MultimapEntry);this.key=key;this.value=value;};

var RandomUtil=function(){function RandomUtil(){classCallCheck(this,RandomUtil);}createClass(RandomUtil,null,[{key:"generateId",value:function generateId(){return(Math.random()*1e64).toString(36).substr(0,15)}}]);return RandomUtil}();

var TimeUnit=function(){function TimeUnit(scale){classCallCheck(this,TimeUnit);this.scale=scale;}createClass(TimeUnit,[{key:"toNanos",value:function toNanos(duration){return this.scale*duration/TimeUnit.NANOSECONDS.scale}},{key:"toMicros",value:function toMicros(duration){return this.scale*duration/TimeUnit.MICROSECONDS.scale}},{key:"toMillis",value:function toMillis(duration){return this.scale*duration/TimeUnit.MILLISECONDS.scale}},{key:"toSeconds",value:function toSeconds(duration){return this.scale*duration/TimeUnit.SECONDS.scale}},{key:"toMinutes",value:function toMinutes(duration){return this.scale*duration/TimeUnit.MINUTES.scale}},{key:"toHours",value:function toHours(duration){return this.scale*duration/TimeUnit.HOURS.scale}},{key:"toDays",value:function toDays(duration){return this.scale*duration/TimeUnit.DAYS.scale}}]);return TimeUnit}();TimeUnit.NANOSECONDS=new TimeUnit(1);TimeUnit.MICROSECONDS=new TimeUnit(TimeUnit.NANOSECONDS.scale*1000);TimeUnit.MILLISECONDS=new TimeUnit(TimeUnit.MICROSECONDS.scale*1000);TimeUnit.SECONDS=new TimeUnit(TimeUnit.MILLISECONDS.scale*1000);TimeUnit.MINUTES=new TimeUnit(TimeUnit.SECONDS.scale*60);TimeUnit.HOURS=new TimeUnit(TimeUnit.MINUTES.scale*60);TimeUnit.DAYS=new TimeUnit(TimeUnit.HOURS.scale*24);

var __decorate$2=window&&window.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata$2=window&&window.__metadata||function(k,v){if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var TimeElapsedPipe=function(){function TimeElapsedPipe(){classCallCheck(this,TimeElapsedPipe);this.datePipe=new DatePipe("en-US");}createClass(TimeElapsedPipe,[{key:"transform",value:function transform(duration){var timeUnit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:TimeUnit.MILLISECONDS;var date=new Date(1970,0,1).setMilliseconds(timeUnit.toMillis(duration));return this.datePipe.transform(date,"HH:mm:ss")}}]);return TimeElapsedPipe}();TimeElapsedPipe=__decorate$2([Pipe({name:"timeElapsed"}),__metadata$2("design:paramtypes",[])],TimeElapsedPipe);

var __decorate$3=window&&window.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata$3=window&&window.__metadata||function(k,v){if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var TimeUnitPipe=function(){function TimeUnitPipe(){classCallCheck(this,TimeUnitPipe);}createClass(TimeUnitPipe,[{key:"transform",value:function transform(timeUnit,arg1){if(arg1=="shortname"){switch(timeUnit){case TimeUnit.NANOSECONDS:return"ns";case TimeUnit.MICROSECONDS:return"\u03BCs";case TimeUnit.MILLISECONDS:return"ms";case TimeUnit.SECONDS:return"sec";case TimeUnit.MINUTES:return"min";case TimeUnit.HOURS:return"hour";case TimeUnit.DAYS:return"day";default:throw new Error("Invalid TimeUnit");}}throw new Error(this.constructor.name+" arguments: \"shortname\"")}}]);return TimeUnitPipe}();TimeUnitPipe=__decorate$3([Pipe({name:"timeunit"}),__metadata$3("design:paramtypes",[])],TimeUnitPipe);

var __extends$51=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subject_1$3=Subject_1;var Subscription_1$6=Subscription_1$2;var AsyncSubject$1=function(_super){__extends$51(AsyncSubject,_super);function AsyncSubject(){_super.apply(this,arguments);this.value=null;this.hasNext=false;this.hasCompleted=false;}AsyncSubject.prototype._subscribe=function(subscriber){if(this.hasCompleted&&this.hasNext){subscriber.next(this.value);subscriber.complete();return Subscription_1$6.Subscription.EMPTY}else if(this.hasError){subscriber.error(this.thrownError);return Subscription_1$6.Subscription.EMPTY}return _super.prototype._subscribe.call(this,subscriber)};AsyncSubject.prototype.next=function(value){if(!this.hasCompleted){this.value=value;this.hasNext=true;}};AsyncSubject.prototype.complete=function(){this.hasCompleted=true;if(this.hasNext){_super.prototype.next.call(this,this.value);}_super.prototype.complete.call(this);};return AsyncSubject}(Subject_1$3.Subject);var AsyncSubject_2=AsyncSubject$1;var AsyncSubject_1$2={AsyncSubject:AsyncSubject_2};

var __extends$50=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Observable_1$6=Observable_1$1;var tryCatch_1$3=tryCatch_1$1;var errorObject_1$3=errorObject;var AsyncSubject_1$1=AsyncSubject_1$2;var BoundCallbackObservable=function(_super){__extends$50(BoundCallbackObservable,_super);function BoundCallbackObservable(callbackFunc,selector,args,scheduler){_super.call(this);this.callbackFunc=callbackFunc;this.selector=selector;this.args=args;this.scheduler=scheduler;}BoundCallbackObservable.create=function(func,selector,scheduler){if(selector===void 0){selector=undefined;}return function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i-0]=arguments[_i];}return new BoundCallbackObservable(func,selector,args,scheduler)}};BoundCallbackObservable.prototype._subscribe=function(subscriber){var callbackFunc=this.callbackFunc;var args=this.args;var scheduler=this.scheduler;var subject=this.subject;if(!scheduler){if(!subject){subject=this.subject=new AsyncSubject_1$1.AsyncSubject;var handler=function handlerFn(){var innerArgs=[];for(var _i=0;_i<arguments.length;_i++){innerArgs[_i-0]=arguments[_i];}var source=handlerFn.source;var selector=source.selector,subject=source.subject;if(selector){var result_1=tryCatch_1$3.tryCatch(selector).apply(this,innerArgs);if(result_1===errorObject_1$3.errorObject){subject.error(errorObject_1$3.errorObject.e);}else{subject.next(result_1);subject.complete();}}else{subject.next(innerArgs.length===1?innerArgs[0]:innerArgs);subject.complete();}};handler.source=this;var result=tryCatch_1$3.tryCatch(callbackFunc).apply(this,args.concat(handler));if(result===errorObject_1$3.errorObject){subject.error(errorObject_1$3.errorObject.e);}}return subject.subscribe(subscriber)}else{return scheduler.schedule(BoundCallbackObservable.dispatch,0,{source:this,subscriber:subscriber})}};BoundCallbackObservable.dispatch=function(state){var self=this;var source=state.source,subscriber=state.subscriber;var callbackFunc=source.callbackFunc,args=source.args,scheduler=source.scheduler;var subject=source.subject;if(!subject){subject=source.subject=new AsyncSubject_1$1.AsyncSubject;var handler=function handlerFn(){var innerArgs=[];for(var _i=0;_i<arguments.length;_i++){innerArgs[_i-0]=arguments[_i];}var source=handlerFn.source;var selector=source.selector,subject=source.subject;if(selector){var result_2=tryCatch_1$3.tryCatch(selector).apply(this,innerArgs);if(result_2===errorObject_1$3.errorObject){self.add(scheduler.schedule(dispatchError$1,0,{err:errorObject_1$3.errorObject.e,subject:subject}));}else{self.add(scheduler.schedule(dispatchNext$1,0,{value:result_2,subject:subject}));}}else{var value=innerArgs.length===1?innerArgs[0]:innerArgs;self.add(scheduler.schedule(dispatchNext$1,0,{value:value,subject:subject}));}};handler.source=source;var result=tryCatch_1$3.tryCatch(callbackFunc).apply(this,args.concat(handler));if(result===errorObject_1$3.errorObject){subject.error(errorObject_1$3.errorObject.e);}}self.add(subject.subscribe(subscriber));};return BoundCallbackObservable}(Observable_1$6.Observable);var BoundCallbackObservable_2=BoundCallbackObservable;function dispatchNext$1(arg){var value=arg.value,subject=arg.subject;subject.next(value);subject.complete();}function dispatchError$1(arg){var err=arg.err,subject=arg.subject;subject.error(err);}var BoundCallbackObservable_1$1={BoundCallbackObservable:BoundCallbackObservable_2};

var BoundCallbackObservable_1=BoundCallbackObservable_1$1;var bindCallback_1$1=BoundCallbackObservable_1.BoundCallbackObservable.create;var bindCallback$2={bindCallback:bindCallback_1$1};

var Observable_1$5=Observable_1$1;var bindCallback_1=bindCallback$2;Observable_1$5.Observable.bindCallback=bindCallback_1.bindCallback;

var __extends$52=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Observable_1$8=Observable_1$1;var tryCatch_1$4=tryCatch_1$1;var errorObject_1$4=errorObject;var AsyncSubject_1$4=AsyncSubject_1$2;var BoundNodeCallbackObservable=function(_super){__extends$52(BoundNodeCallbackObservable,_super);function BoundNodeCallbackObservable(callbackFunc,selector,args,scheduler){_super.call(this);this.callbackFunc=callbackFunc;this.selector=selector;this.args=args;this.scheduler=scheduler;}BoundNodeCallbackObservable.create=function(func,selector,scheduler){if(selector===void 0){selector=undefined;}return function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i-0]=arguments[_i];}return new BoundNodeCallbackObservable(func,selector,args,scheduler)}};BoundNodeCallbackObservable.prototype._subscribe=function(subscriber){var callbackFunc=this.callbackFunc;var args=this.args;var scheduler=this.scheduler;var subject=this.subject;if(!scheduler){if(!subject){subject=this.subject=new AsyncSubject_1$4.AsyncSubject;var handler=function handlerFn(){var innerArgs=[];for(var _i=0;_i<arguments.length;_i++){innerArgs[_i-0]=arguments[_i];}var source=handlerFn.source;var selector=source.selector,subject=source.subject;var err=innerArgs.shift();if(err){subject.error(err);}else if(selector){var result_1=tryCatch_1$4.tryCatch(selector).apply(this,innerArgs);if(result_1===errorObject_1$4.errorObject){subject.error(errorObject_1$4.errorObject.e);}else{subject.next(result_1);subject.complete();}}else{subject.next(innerArgs.length===1?innerArgs[0]:innerArgs);subject.complete();}};handler.source=this;var result=tryCatch_1$4.tryCatch(callbackFunc).apply(this,args.concat(handler));if(result===errorObject_1$4.errorObject){subject.error(errorObject_1$4.errorObject.e);}}return subject.subscribe(subscriber)}else{return scheduler.schedule(dispatch,0,{source:this,subscriber:subscriber})}};return BoundNodeCallbackObservable}(Observable_1$8.Observable);var BoundNodeCallbackObservable_2=BoundNodeCallbackObservable;function dispatch(state){var self=this;var source=state.source,subscriber=state.subscriber;var _a=source,callbackFunc=_a.callbackFunc,args=_a.args,scheduler=_a.scheduler;var subject=source.subject;if(!subject){subject=source.subject=new AsyncSubject_1$4.AsyncSubject;var handler=function handlerFn(){var innerArgs=[];for(var _i=0;_i<arguments.length;_i++){innerArgs[_i-0]=arguments[_i];}var source=handlerFn.source;var selector=source.selector,subject=source.subject;var err=innerArgs.shift();if(err){subject.error(err);}else if(selector){var result_2=tryCatch_1$4.tryCatch(selector).apply(this,innerArgs);if(result_2===errorObject_1$4.errorObject){self.add(scheduler.schedule(dispatchError$2,0,{err:errorObject_1$4.errorObject.e,subject:subject}));}else{self.add(scheduler.schedule(dispatchNext$2,0,{value:result_2,subject:subject}));}}else{var value=innerArgs.length===1?innerArgs[0]:innerArgs;self.add(scheduler.schedule(dispatchNext$2,0,{value:value,subject:subject}));}};handler.source=source;var result=tryCatch_1$4.tryCatch(callbackFunc).apply(this,args.concat(handler));if(result===errorObject_1$4.errorObject){subject.error(errorObject_1$4.errorObject.e);}}self.add(subject.subscribe(subscriber));}function dispatchNext$2(arg){var value=arg.value,subject=arg.subject;subject.next(value);subject.complete();}function dispatchError$2(arg){var err=arg.err,subject=arg.subject;subject.error(err);}var BoundNodeCallbackObservable_1$1={BoundNodeCallbackObservable:BoundNodeCallbackObservable_2};

var BoundNodeCallbackObservable_1=BoundNodeCallbackObservable_1$1;var bindNodeCallback_1$1=BoundNodeCallbackObservable_1.BoundNodeCallbackObservable.create;var bindNodeCallback$2={bindNodeCallback:bindNodeCallback_1$1};

var Observable_1$7=Observable_1$1;var bindNodeCallback_1=bindNodeCallback$2;Observable_1$7.Observable.bindNodeCallback=bindNodeCallback_1.bindNodeCallback;

function isScheduler(value){return value&&typeof value.schedule==="function"}var isScheduler_2=isScheduler;var isScheduler_1$1={isScheduler:isScheduler_2};

var __extends$54=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Observable_1$11=Observable_1$1;var ScalarObservable=function(_super){__extends$54(ScalarObservable,_super);function ScalarObservable(value,scheduler){_super.call(this);this.value=value;this.scheduler=scheduler;this._isScalar=true;if(scheduler){this._isScalar=false;}}ScalarObservable.create=function(value,scheduler){return new ScalarObservable(value,scheduler)};ScalarObservable.dispatch=function(state){var done=state.done,value=state.value,subscriber=state.subscriber;if(done){subscriber.complete();return}subscriber.next(value);if(subscriber.closed){return}state.done=true;this.schedule(state);};ScalarObservable.prototype._subscribe=function(subscriber){var value=this.value;var scheduler=this.scheduler;if(scheduler){return scheduler.schedule(ScalarObservable.dispatch,0,{done:false,value:value,subscriber:subscriber})}else{subscriber.next(value);if(!subscriber.closed){subscriber.complete();}}};return ScalarObservable}(Observable_1$11.Observable);var ScalarObservable_2=ScalarObservable;var ScalarObservable_1$1={ScalarObservable:ScalarObservable_2};

var __extends$55=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Observable_1$12=Observable_1$1;var EmptyObservable=function(_super){__extends$55(EmptyObservable,_super);function EmptyObservable(scheduler){_super.call(this);this.scheduler=scheduler;}EmptyObservable.create=function(scheduler){return new EmptyObservable(scheduler)};EmptyObservable.dispatch=function(arg){var subscriber=arg.subscriber;subscriber.complete();};EmptyObservable.prototype._subscribe=function(subscriber){var scheduler=this.scheduler;if(scheduler){return scheduler.schedule(EmptyObservable.dispatch,0,{subscriber:subscriber})}else{subscriber.complete();}};return EmptyObservable}(Observable_1$12.Observable);var EmptyObservable_2=EmptyObservable;var EmptyObservable_1$1={EmptyObservable:EmptyObservable_2};

var __extends$53=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Observable_1$10=Observable_1$1;var ScalarObservable_1=ScalarObservable_1$1;var EmptyObservable_1=EmptyObservable_1$1;var isScheduler_1$3=isScheduler_1$1;var ArrayObservable=function(_super){__extends$53(ArrayObservable,_super);function ArrayObservable(array,scheduler){_super.call(this);this.array=array;this.scheduler=scheduler;if(!scheduler&&array.length===1){this._isScalar=true;this.value=array[0];}}ArrayObservable.create=function(array,scheduler){return new ArrayObservable(array,scheduler)};ArrayObservable.of=function(){var array=[];for(var _i=0;_i<arguments.length;_i++){array[_i-0]=arguments[_i];}var scheduler=array[array.length-1];if(isScheduler_1$3.isScheduler(scheduler)){array.pop();}else{scheduler=null;}var len=array.length;if(len>1){return new ArrayObservable(array,scheduler)}else if(len===1){return new ScalarObservable_1.ScalarObservable(array[0],scheduler)}else{return new EmptyObservable_1.EmptyObservable(scheduler)}};ArrayObservable.dispatch=function(state){var array=state.array,index=state.index,count=state.count,subscriber=state.subscriber;if(index>=count){subscriber.complete();return}subscriber.next(array[index]);if(subscriber.closed){return}state.index=index+1;this.schedule(state);};ArrayObservable.prototype._subscribe=function(subscriber){var index=0;var array=this.array;var count=array.length;var scheduler=this.scheduler;if(scheduler){return scheduler.schedule(ArrayObservable.dispatch,0,{array:array,index:index,count:count,subscriber:subscriber})}else{for(var i=0;i<count&&!subscriber.closed;i++){subscriber.next(array[i]);}subscriber.complete();}};return ArrayObservable}(Observable_1$10.Observable);var ArrayObservable_2=ArrayObservable;var ArrayObservable_1$1={ArrayObservable:ArrayObservable_2};

var __extends$57=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$5=Subscriber_1$2;var OuterSubscriber=function(_super){__extends$57(OuterSubscriber,_super);function OuterSubscriber(){_super.apply(this,arguments);}OuterSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue);};OuterSubscriber.prototype.notifyError=function(error,innerSub){this.destination.error(error);};OuterSubscriber.prototype.notifyComplete=function(innerSub){this.destination.complete();};return OuterSubscriber}(Subscriber_1$5.Subscriber);var OuterSubscriber_2=OuterSubscriber;var OuterSubscriber_1$1={OuterSubscriber:OuterSubscriber_2};

function isPromise$3(value){return value&&typeof value.subscribe!=='function'&&typeof value.then==='function'}var isPromise_2=isPromise$3;var isPromise_1$1={isPromise:isPromise_2};

var root_1$7=root;function symbolIteratorPonyfill(root$$1){var _Symbol=root$$1.Symbol;if(typeof _Symbol==='function'){if(!_Symbol.iterator){_Symbol.iterator=_Symbol('iterator polyfill');}return _Symbol.iterator}else{var Set_1=root$$1.Set;if(Set_1&&typeof new Set_1()['@@iterator']==='function'){return'@@iterator'}var Map_1=root$$1.Map;if(Map_1){var keys=Object.getOwnPropertyNames(Map_1.prototype);for(var i=0;i<keys.length;++i){var key=keys[i];if(key!=='entries'&&key!=='size'&&Map_1.prototype[key]===Map_1.prototype['entries']){return key}}}return'@@iterator'}}var symbolIteratorPonyfill_1=symbolIteratorPonyfill;var $$iterator=symbolIteratorPonyfill(root_1$7.root);var iterator={symbolIteratorPonyfill:symbolIteratorPonyfill_1,$$iterator:$$iterator};

var __extends$58=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$6=Subscriber_1$2;var InnerSubscriber=function(_super){__extends$58(InnerSubscriber,_super);function InnerSubscriber(parent,outerValue,outerIndex){_super.call(this);this.parent=parent;this.outerValue=outerValue;this.outerIndex=outerIndex;this.index=0;}InnerSubscriber.prototype._next=function(value){this.parent.notifyNext(this.outerValue,value,this.outerIndex,this.index++,this);};InnerSubscriber.prototype._error=function(error){this.parent.notifyError(error,this);this.unsubscribe();};InnerSubscriber.prototype._complete=function(){this.parent.notifyComplete(this);this.unsubscribe();};return InnerSubscriber}(Subscriber_1$6.Subscriber);var InnerSubscriber_2=InnerSubscriber;var InnerSubscriber_1$1={InnerSubscriber:InnerSubscriber_2};

var root_1$6=root;var isArray_1$4=isArray;var isPromise_1=isPromise_1$1;var Observable_1$13=Observable_1$1;var iterator_1$1=iterator;var InnerSubscriber_1=InnerSubscriber_1$1;var observable_1$2=observable;function subscribeToResult(outerSubscriber,result,outerValue,outerIndex){var destination=new InnerSubscriber_1.InnerSubscriber(outerSubscriber,outerValue,outerIndex);if(destination.closed){return null}if(result instanceof Observable_1$13.Observable){if(result._isScalar){destination.next(result.value);destination.complete();return null}else{return result.subscribe(destination)}}if(isArray_1$4.isArray(result)){for(var i=0,len=result.length;i<len&&!destination.closed;i++){destination.next(result[i]);}if(!destination.closed){destination.complete();}}else if(isPromise_1.isPromise(result)){result.then(function(value){if(!destination.closed){destination.next(value);destination.complete();}},function(err){return destination.error(err)}).then(null,function(err){root_1$6.root.setTimeout(function(){throw err});});return destination}else if(typeof result[iterator_1$1.$$iterator]==='function'){var iterator$$1=result[iterator_1$1.$$iterator]();do{var item=iterator$$1.next();if(item.done){destination.complete();break}destination.next(item.value);if(destination.closed){break}}while(true)}else if(typeof result[observable_1$2.$$observable]==='function'){var obs=result[observable_1$2.$$observable]();if(typeof obs.subscribe!=='function'){destination.error(new Error('invalid observable'));}else{return obs.subscribe(new InnerSubscriber_1.InnerSubscriber(outerSubscriber,outerValue,outerIndex))}}else{destination.error(new TypeError('unknown type returned'));}return null}var subscribeToResult_2=subscribeToResult;var subscribeToResult_1$1={subscribeToResult:subscribeToResult_2};

var __extends$56=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var ArrayObservable_1$3=ArrayObservable_1$1;var isArray_1$3=isArray;var OuterSubscriber_1=OuterSubscriber_1$1;var subscribeToResult_1=subscribeToResult_1$1;var none={};function combineLatest$3(){var observables=[];for(var _i=0;_i<arguments.length;_i++){observables[_i-0]=arguments[_i];}var project=null;if(typeof observables[observables.length-1]==='function'){project=observables.pop();}if(observables.length===1&&isArray_1$3.isArray(observables[0])){observables=observables[0];}observables.unshift(this);return this.lift.call(new ArrayObservable_1$3.ArrayObservable(observables),new CombineLatestOperator(project))}var combineLatest_2$2=combineLatest$3;var CombineLatestOperator=function(){function CombineLatestOperator(project){this.project=project;}CombineLatestOperator.prototype.call=function(subscriber,source){return source._subscribe(new CombineLatestSubscriber(subscriber,this.project))};return CombineLatestOperator}();var CombineLatestOperator_1=CombineLatestOperator;var CombineLatestSubscriber=function(_super){__extends$56(CombineLatestSubscriber,_super);function CombineLatestSubscriber(destination,project){_super.call(this,destination);this.project=project;this.active=0;this.values=[];this.observables=[];}CombineLatestSubscriber.prototype._next=function(observable){this.values.push(none);this.observables.push(observable);};CombineLatestSubscriber.prototype._complete=function(){var observables=this.observables;var len=observables.length;if(len===0){this.destination.complete();}else{this.active=len;this.toRespond=len;for(var i=0;i<len;i++){var observable=observables[i];this.add(subscribeToResult_1.subscribeToResult(this,observable,observable,i));}}};CombineLatestSubscriber.prototype.notifyComplete=function(unused){if((this.active-=1)===0){this.destination.complete();}};CombineLatestSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var values=this.values;var oldVal=values[outerIndex];var toRespond=!this.toRespond?0:oldVal===none?--this.toRespond:this.toRespond;values[outerIndex]=innerValue;if(toRespond===0){if(this.project){this._tryProject(values);}else{this.destination.next(values.slice());}}};CombineLatestSubscriber.prototype._tryProject=function(values){var result;try{result=this.project.apply(this,values);}catch(err){this.destination.error(err);return}this.destination.next(result);};return CombineLatestSubscriber}(OuterSubscriber_1.OuterSubscriber);var CombineLatestSubscriber_1=CombineLatestSubscriber;var combineLatest_1$2={combineLatest:combineLatest_2$2,CombineLatestOperator:CombineLatestOperator_1,CombineLatestSubscriber:CombineLatestSubscriber_1};

var isScheduler_1=isScheduler_1$1;var isArray_1$2=isArray;var ArrayObservable_1=ArrayObservable_1$1;var combineLatest_1$1=combineLatest_1$2;function combineLatest$2(){var observables=[];for(var _i=0;_i<arguments.length;_i++){observables[_i-0]=arguments[_i];}var project=null;var scheduler=null;if(isScheduler_1.isScheduler(observables[observables.length-1])){scheduler=observables.pop();}if(typeof observables[observables.length-1]==='function'){project=observables.pop();}if(observables.length===1&&isArray_1$2.isArray(observables[0])){observables=observables[0];}return new ArrayObservable_1.ArrayObservable(observables,scheduler).lift(new combineLatest_1$1.CombineLatestOperator(project))}var combineLatest_3=combineLatest$2;var combineLatest_2={combineLatest:combineLatest_3};

var Observable_1$9=Observable_1$1;var combineLatest_1=combineLatest_2;Observable_1$9.Observable.combineLatest=combineLatest_1.combineLatest;

var __extends$59=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var OuterSubscriber_1$3=OuterSubscriber_1$1;var subscribeToResult_1$3=subscribeToResult_1$1;function mergeAll(concurrent){if(concurrent===void 0){concurrent=Number.POSITIVE_INFINITY;}return this.lift(new MergeAllOperator(concurrent))}var mergeAll_2=mergeAll;var MergeAllOperator=function(){function MergeAllOperator(concurrent){this.concurrent=concurrent;}MergeAllOperator.prototype.call=function(observer,source){return source._subscribe(new MergeAllSubscriber(observer,this.concurrent))};return MergeAllOperator}();var MergeAllOperator_1=MergeAllOperator;var MergeAllSubscriber=function(_super){__extends$59(MergeAllSubscriber,_super);function MergeAllSubscriber(destination,concurrent){_super.call(this,destination);this.concurrent=concurrent;this.hasCompleted=false;this.buffer=[];this.active=0;}MergeAllSubscriber.prototype._next=function(observable){if(this.active<this.concurrent){this.active++;this.add(subscribeToResult_1$3.subscribeToResult(this,observable));}else{this.buffer.push(observable);}};MergeAllSubscriber.prototype._complete=function(){this.hasCompleted=true;if(this.active===0&&this.buffer.length===0){this.destination.complete();}};MergeAllSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub);this.active--;if(buffer.length>0){this._next(buffer.shift());}else if(this.active===0&&this.hasCompleted){this.destination.complete();}};return MergeAllSubscriber}(OuterSubscriber_1$3.OuterSubscriber);var MergeAllSubscriber_1=MergeAllSubscriber;var mergeAll_1$1={mergeAll:mergeAll_2,MergeAllOperator:MergeAllOperator_1,MergeAllSubscriber:MergeAllSubscriber_1};

var isScheduler_1$4=isScheduler_1$1;var ArrayObservable_1$4=ArrayObservable_1$1;var mergeAll_1=mergeAll_1$1;function concat$4(){var observables=[];for(var _i=0;_i<arguments.length;_i++){observables[_i-0]=arguments[_i];}return this.lift.call(concatStatic.apply(void 0,[this].concat(observables)))}var concat_2$1=concat$4;function concatStatic(){var observables=[];for(var _i=0;_i<arguments.length;_i++){observables[_i-0]=arguments[_i];}var scheduler=null;var args=observables;if(isScheduler_1$4.isScheduler(args[observables.length-1])){scheduler=args.pop();}if(scheduler===null&&observables.length===1){return observables[0]}return new ArrayObservable_1$4.ArrayObservable(observables,scheduler).lift(new mergeAll_1.MergeAllOperator(1))}var concatStatic_1=concatStatic;var concat_1$2={concat:concat_2$1,concatStatic:concatStatic_1};

var concat_1$1=concat_1$2;var concat_2=concat_1$1.concatStatic;var concat$2={concat:concat_2};

var Observable_1$14=Observable_1$1;var concat_1=concat$2;Observable_1$14.Observable.concat=concat_1.concat;

var __extends$60=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Observable_1$16=Observable_1$1;var subscribeToResult_1$4=subscribeToResult_1$1;var OuterSubscriber_1$4=OuterSubscriber_1$1;var DeferObservable=function(_super){__extends$60(DeferObservable,_super);function DeferObservable(observableFactory){_super.call(this);this.observableFactory=observableFactory;}DeferObservable.create=function(observableFactory){return new DeferObservable(observableFactory)};DeferObservable.prototype._subscribe=function(subscriber){return new DeferSubscriber(subscriber,this.observableFactory)};return DeferObservable}(Observable_1$16.Observable);var DeferObservable_2=DeferObservable;var DeferSubscriber=function(_super){__extends$60(DeferSubscriber,_super);function DeferSubscriber(destination,factory){_super.call(this,destination);this.factory=factory;this.tryDefer();}DeferSubscriber.prototype.tryDefer=function(){try{this._callFactory();}catch(err){this._error(err);}};DeferSubscriber.prototype._callFactory=function(){var result=this.factory();if(result){this.add(subscribeToResult_1$4.subscribeToResult(this,result));}};return DeferSubscriber}(OuterSubscriber_1$4.OuterSubscriber);var DeferObservable_1$1={DeferObservable:DeferObservable_2};

var DeferObservable_1=DeferObservable_1$1;var defer_1$1=DeferObservable_1.DeferObservable.create;var defer$2={defer:defer_1$1};

var Observable_1$15=Observable_1$1;var defer_1=defer$2;Observable_1$15.Observable.defer=defer_1.defer;

var EmptyObservable_1$3=EmptyObservable_1$1;var empty_1$1=EmptyObservable_1$3.EmptyObservable.create;var empty$3={empty:empty_1$1};

var Observable_1$17=Observable_1$1;var empty_1=empty$3;Observable_1$17.Observable.empty=empty_1.empty;

var __extends$61=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Observable_1$19=Observable_1$1;var EmptyObservable_1$4=EmptyObservable_1$1;var isArray_1$5=isArray;var subscribeToResult_1$5=subscribeToResult_1$1;var OuterSubscriber_1$5=OuterSubscriber_1$1;var ForkJoinObservable=function(_super){__extends$61(ForkJoinObservable,_super);function ForkJoinObservable(sources,resultSelector){_super.call(this);this.sources=sources;this.resultSelector=resultSelector;}ForkJoinObservable.create=function(){var sources=[];for(var _i=0;_i<arguments.length;_i++){sources[_i-0]=arguments[_i];}if(sources===null||arguments.length===0){return new EmptyObservable_1$4.EmptyObservable}var resultSelector=null;if(typeof sources[sources.length-1]==='function'){resultSelector=sources.pop();}if(sources.length===1&&isArray_1$5.isArray(sources[0])){sources=sources[0];}if(sources.length===0){return new EmptyObservable_1$4.EmptyObservable}return new ForkJoinObservable(sources,resultSelector)};ForkJoinObservable.prototype._subscribe=function(subscriber){return new ForkJoinSubscriber(subscriber,this.sources,this.resultSelector)};return ForkJoinObservable}(Observable_1$19.Observable);var ForkJoinObservable_2=ForkJoinObservable;var ForkJoinSubscriber=function(_super){__extends$61(ForkJoinSubscriber,_super);function ForkJoinSubscriber(destination,sources,resultSelector){_super.call(this,destination);this.sources=sources;this.resultSelector=resultSelector;this.completed=0;this.haveValues=0;var len=sources.length;this.total=len;this.values=new Array(len);for(var i=0;i<len;i++){var source=sources[i];var innerSubscription=subscribeToResult_1$5.subscribeToResult(this,source,null,i);if(innerSubscription){innerSubscription.outerIndex=i;this.add(innerSubscription);}}}ForkJoinSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.values[outerIndex]=innerValue;if(!innerSub._hasValue){innerSub._hasValue=true;this.haveValues++;}};ForkJoinSubscriber.prototype.notifyComplete=function(innerSub){var destination=this.destination;var _a=this,haveValues=_a.haveValues,resultSelector=_a.resultSelector,values=_a.values;var len=values.length;if(!innerSub._hasValue){destination.complete();return}this.completed++;if(this.completed!==len){return}if(haveValues===len){var value=resultSelector?resultSelector.apply(this,values):values;destination.next(value);}destination.complete();};return ForkJoinSubscriber}(OuterSubscriber_1$5.OuterSubscriber);var ForkJoinObservable_1$1={ForkJoinObservable:ForkJoinObservable_2};

var ForkJoinObservable_1=ForkJoinObservable_1$1;var forkJoin_1$1=ForkJoinObservable_1.ForkJoinObservable.create;var forkJoin$2={forkJoin:forkJoin_1$1};

var Observable_1$18=Observable_1$1;var forkJoin_1=forkJoin$2;Observable_1$18.Observable.forkJoin=forkJoin_1.forkJoin;

var __extends$63=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var root_1$8=root;var Observable_1$22=Observable_1$1;var iterator_1$3=iterator;var IteratorObservable=function(_super){__extends$63(IteratorObservable,_super);function IteratorObservable(iterator$$1,scheduler){_super.call(this);this.scheduler=scheduler;if(iterator$$1==null){throw new Error('iterator cannot be null.')}this.iterator=getIterator(iterator$$1);}IteratorObservable.create=function(iterator$$1,scheduler){return new IteratorObservable(iterator$$1,scheduler)};IteratorObservable.dispatch=function(state){var index=state.index,hasError=state.hasError,iterator$$1=state.iterator,subscriber=state.subscriber;if(hasError){subscriber.error(state.error);return}var result=iterator$$1.next();if(result.done){subscriber.complete();return}subscriber.next(result.value);state.index=index+1;if(subscriber.closed){if(typeof iterator$$1.return==='function'){iterator$$1.return();}return}this.schedule(state);};IteratorObservable.prototype._subscribe=function(subscriber){var index=0;var _a=this,iterator$$1=_a.iterator,scheduler=_a.scheduler;if(scheduler){return scheduler.schedule(IteratorObservable.dispatch,0,{index:index,iterator:iterator$$1,subscriber:subscriber})}else{do{var result=iterator$$1.next();if(result.done){subscriber.complete();break}else{subscriber.next(result.value);}if(subscriber.closed){if(typeof iterator$$1.return==='function'){iterator$$1.return();}break}}while(true)}};return IteratorObservable}(Observable_1$22.Observable);var IteratorObservable_2=IteratorObservable;var StringIterator=function(){function StringIterator(str,idx,len){if(idx===void 0){idx=0;}if(len===void 0){len=str.length;}this.str=str;this.idx=idx;this.len=len;}StringIterator.prototype[iterator_1$3.$$iterator]=function(){return this};StringIterator.prototype.next=function(){return this.idx<this.len?{done:false,value:this.str.charAt(this.idx++)}:{done:true,value:undefined}};return StringIterator}();var ArrayIterator=function(){function ArrayIterator(arr,idx,len){if(idx===void 0){idx=0;}if(len===void 0){len=toLength(arr);}this.arr=arr;this.idx=idx;this.len=len;}ArrayIterator.prototype[iterator_1$3.$$iterator]=function(){return this};ArrayIterator.prototype.next=function(){return this.idx<this.len?{done:false,value:this.arr[this.idx++]}:{done:true,value:undefined}};return ArrayIterator}();function getIterator(obj){var i=obj[iterator_1$3.$$iterator];if(!i&&typeof obj==='string'){return new StringIterator(obj)}if(!i&&obj.length!==undefined){return new ArrayIterator(obj)}if(!i){throw new TypeError('object is not iterable')}return obj[iterator_1$3.$$iterator]()}var maxSafeInteger=Math.pow(2,53)-1;function toLength(o){var len=+o.length;if(isNaN(len)){return 0}if(len===0||!numberIsFinite(len)){return len}len=sign(len)*Math.floor(Math.abs(len));if(len<=0){return 0}if(len>maxSafeInteger){return maxSafeInteger}return len}function numberIsFinite(value){return typeof value==='number'&&root_1$8.root.isFinite(value)}function sign(value){var valueAsNumber=+value;if(valueAsNumber===0){return valueAsNumber}if(isNaN(valueAsNumber)){return valueAsNumber}return valueAsNumber<0?-1:1}var IteratorObservable_1$1={IteratorObservable:IteratorObservable_2};

var __extends$64=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Observable_1$23=Observable_1$1;var ScalarObservable_1$3=ScalarObservable_1$1;var EmptyObservable_1$5=EmptyObservable_1$1;var ArrayLikeObservable=function(_super){__extends$64(ArrayLikeObservable,_super);function ArrayLikeObservable(arrayLike,scheduler){_super.call(this);this.arrayLike=arrayLike;this.scheduler=scheduler;if(!scheduler&&arrayLike.length===1){this._isScalar=true;this.value=arrayLike[0];}}ArrayLikeObservable.create=function(arrayLike,scheduler){var length=arrayLike.length;if(length===0){return new EmptyObservable_1$5.EmptyObservable}else if(length===1){return new ScalarObservable_1$3.ScalarObservable(arrayLike[0],scheduler)}else{return new ArrayLikeObservable(arrayLike,scheduler)}};ArrayLikeObservable.dispatch=function(state){var arrayLike=state.arrayLike,index=state.index,length=state.length,subscriber=state.subscriber;if(subscriber.closed){return}if(index>=length){subscriber.complete();return}subscriber.next(arrayLike[index]);state.index=index+1;this.schedule(state);};ArrayLikeObservable.prototype._subscribe=function(subscriber){var index=0;var _a=this,arrayLike=_a.arrayLike,scheduler=_a.scheduler;var length=arrayLike.length;if(scheduler){return scheduler.schedule(ArrayLikeObservable.dispatch,0,{arrayLike:arrayLike,index:index,length:length,subscriber:subscriber})}else{for(var i=0;i<length&&!subscriber.closed;i++){subscriber.next(arrayLike[i]);}subscriber.complete();}};return ArrayLikeObservable}(Observable_1$23.Observable);var ArrayLikeObservable_2=ArrayLikeObservable;var ArrayLikeObservable_1$1={ArrayLikeObservable:ArrayLikeObservable_2};

var Observable_1$24=Observable_1$1;var Notification$1=function(){function Notification(kind,value,error){this.kind=kind;this.value=value;this.error=error;this.hasValue=kind==='N';}Notification.prototype.observe=function(observer){switch(this.kind){case'N':return observer.next&&observer.next(this.value);case'E':return observer.error&&observer.error(this.error);case'C':return observer.complete&&observer.complete();}};Notification.prototype.do=function(next,error,complete){var kind=this.kind;switch(kind){case'N':return next&&next(this.value);case'E':return error&&error(this.error);case'C':return complete&&complete();}};Notification.prototype.accept=function(nextOrObserver,error,complete){if(nextOrObserver&&typeof nextOrObserver.next==='function'){return this.observe(nextOrObserver)}else{return this.do(nextOrObserver,error,complete)}};Notification.prototype.toObservable=function(){var kind=this.kind;switch(kind){case'N':return Observable_1$24.Observable.of(this.value);case'E':return Observable_1$24.Observable.throw(this.error);case'C':return Observable_1$24.Observable.empty();}throw new Error('unexpected notification kind value')};Notification.createNext=function(value){if(typeof value!=='undefined'){return new Notification('N',value)}return this.undefinedValueNotification};Notification.createError=function(err){return new Notification('E',undefined,err)};Notification.createComplete=function(){return this.completeNotification};Notification.completeNotification=new Notification('C');Notification.undefinedValueNotification=new Notification('N',undefined);return Notification}();var Notification_2=Notification$1;var Notification_1$2={Notification:Notification_2};

var __extends$65=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$7=Subscriber_1$2;var Notification_1$1=Notification_1$2;function observeOn(scheduler,delay){if(delay===void 0){delay=0;}return this.lift(new ObserveOnOperator(scheduler,delay))}var observeOn_2=observeOn;var ObserveOnOperator=function(){function ObserveOnOperator(scheduler,delay){if(delay===void 0){delay=0;}this.scheduler=scheduler;this.delay=delay;}ObserveOnOperator.prototype.call=function(subscriber,source){return source._subscribe(new ObserveOnSubscriber(subscriber,this.scheduler,this.delay))};return ObserveOnOperator}();var ObserveOnOperator_1=ObserveOnOperator;var ObserveOnSubscriber=function(_super){__extends$65(ObserveOnSubscriber,_super);function ObserveOnSubscriber(destination,scheduler,delay){if(delay===void 0){delay=0;}_super.call(this,destination);this.scheduler=scheduler;this.delay=delay;}ObserveOnSubscriber.dispatch=function(arg){var notification=arg.notification,destination=arg.destination;notification.observe(destination);};ObserveOnSubscriber.prototype.scheduleMessage=function(notification){this.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch,this.delay,new ObserveOnMessage(notification,this.destination)));};ObserveOnSubscriber.prototype._next=function(value){this.scheduleMessage(Notification_1$1.Notification.createNext(value));};ObserveOnSubscriber.prototype._error=function(err){this.scheduleMessage(Notification_1$1.Notification.createError(err));};ObserveOnSubscriber.prototype._complete=function(){this.scheduleMessage(Notification_1$1.Notification.createComplete());};return ObserveOnSubscriber}(Subscriber_1$7.Subscriber);var ObserveOnSubscriber_1=ObserveOnSubscriber;var ObserveOnMessage=function(){function ObserveOnMessage(notification,destination){this.notification=notification;this.destination=destination;}return ObserveOnMessage}();var ObserveOnMessage_1=ObserveOnMessage;var observeOn_1$1={observeOn:observeOn_2,ObserveOnOperator:ObserveOnOperator_1,ObserveOnSubscriber:ObserveOnSubscriber_1,ObserveOnMessage:ObserveOnMessage_1};

var __extends$62=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var isArray_1$6=isArray;var isPromise_1$3=isPromise_1$1;var PromiseObservable_1$3=PromiseObservable_1$1;var IteratorObservable_1=IteratorObservable_1$1;var ArrayObservable_1$5=ArrayObservable_1$1;var ArrayLikeObservable_1=ArrayLikeObservable_1$1;var iterator_1$2=iterator;var Observable_1$21=Observable_1$1;var observeOn_1=observeOn_1$1;var observable_1$3=observable;var isArrayLike=function isArrayLike(x){return x&&typeof x.length==='number'};var FromObservable=function(_super){__extends$62(FromObservable,_super);function FromObservable(ish,scheduler){_super.call(this,null);this.ish=ish;this.scheduler=scheduler;}FromObservable.create=function(ish,scheduler){if(ish!=null){if(typeof ish[observable_1$3.$$observable]==='function'){if(ish instanceof Observable_1$21.Observable&&!scheduler){return ish}return new FromObservable(ish,scheduler)}else if(isArray_1$6.isArray(ish)){return new ArrayObservable_1$5.ArrayObservable(ish,scheduler)}else if(isPromise_1$3.isPromise(ish)){return new PromiseObservable_1$3.PromiseObservable(ish,scheduler)}else if(typeof ish[iterator_1$2.$$iterator]==='function'||typeof ish==='string'){return new IteratorObservable_1.IteratorObservable(ish,scheduler)}else if(isArrayLike(ish)){return new ArrayLikeObservable_1.ArrayLikeObservable(ish,scheduler)}}throw new TypeError((ish!==null&&(typeof ish==='undefined'?'undefined':_typeof(ish))||ish)+' is not observable')};FromObservable.prototype._subscribe=function(subscriber){var ish=this.ish;var scheduler=this.scheduler;if(scheduler==null){return ish[observable_1$3.$$observable]().subscribe(subscriber)}else{return ish[observable_1$3.$$observable]().subscribe(new observeOn_1.ObserveOnSubscriber(subscriber,scheduler,0))}};return FromObservable}(Observable_1$21.Observable);var FromObservable_2=FromObservable;var FromObservable_1$1={FromObservable:FromObservable_2};

var FromObservable_1=FromObservable_1$1;var from_1$1=FromObservable_1.FromObservable.create;var from$2={from:from_1$1};

var Observable_1$20=Observable_1$1;var from_1=from$2;Observable_1$20.Observable.from=from_1.from;

var __extends$66=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Observable_1$26=Observable_1$1;var tryCatch_1$5=tryCatch_1$1;var isFunction_1$4=isFunction_1$1;var errorObject_1$5=errorObject;var Subscription_1$7=Subscription_1$2;function isNodeStyleEventEmmitter(sourceObj){return!!sourceObj&&typeof sourceObj.addListener==='function'&&typeof sourceObj.removeListener==='function'}function isJQueryStyleEventEmitter(sourceObj){return!!sourceObj&&typeof sourceObj.on==='function'&&typeof sourceObj.off==='function'}function isNodeList(sourceObj){return!!sourceObj&&sourceObj.toString()==='[object NodeList]'}function isHTMLCollection(sourceObj){return!!sourceObj&&sourceObj.toString()==='[object HTMLCollection]'}function isEventTarget(sourceObj){return!!sourceObj&&typeof sourceObj.addEventListener==='function'&&typeof sourceObj.removeEventListener==='function'}var FromEventObservable=function(_super){__extends$66(FromEventObservable,_super);function FromEventObservable(sourceObj,eventName,selector,options){_super.call(this);this.sourceObj=sourceObj;this.eventName=eventName;this.selector=selector;this.options=options;}FromEventObservable.create=function(target,eventName,options,selector){if(isFunction_1$4.isFunction(options)){selector=options;options=undefined;}return new FromEventObservable(target,eventName,selector,options)};FromEventObservable.setupSubscription=function(sourceObj,eventName,handler,subscriber,options){var unsubscribe;if(isNodeList(sourceObj)||isHTMLCollection(sourceObj)){for(var i=0,len=sourceObj.length;i<len;i++){FromEventObservable.setupSubscription(sourceObj[i],eventName,handler,subscriber,options);}}else if(isEventTarget(sourceObj)){var source_1=sourceObj;sourceObj.addEventListener(eventName,handler,options);unsubscribe=function unsubscribe(){return source_1.removeEventListener(eventName,handler)};}else if(isJQueryStyleEventEmitter(sourceObj)){var source_2=sourceObj;sourceObj.on(eventName,handler);unsubscribe=function unsubscribe(){return source_2.off(eventName,handler)};}else if(isNodeStyleEventEmmitter(sourceObj)){var source_3=sourceObj;sourceObj.addListener(eventName,handler);unsubscribe=function unsubscribe(){return source_3.removeListener(eventName,handler)};}else{throw new TypeError('Invalid event target')}subscriber.add(new Subscription_1$7.Subscription(unsubscribe));};FromEventObservable.prototype._subscribe=function(subscriber){var sourceObj=this.sourceObj;var eventName=this.eventName;var options=this.options;var selector=this.selector;var handler=selector?function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i-0]=arguments[_i];}var result=tryCatch_1$5.tryCatch(selector).apply(void 0,args);if(result===errorObject_1$5.errorObject){subscriber.error(errorObject_1$5.errorObject.e);}else{subscriber.next(result);}}:function(e){return subscriber.next(e)};FromEventObservable.setupSubscription(sourceObj,eventName,handler,subscriber,options);};return FromEventObservable}(Observable_1$26.Observable);var FromEventObservable_2=FromEventObservable;var FromEventObservable_1$1={FromEventObservable:FromEventObservable_2};

var FromEventObservable_1=FromEventObservable_1$1;var fromEvent_1$1=FromEventObservable_1.FromEventObservable.create;var fromEvent$2={fromEvent:fromEvent_1$1};

var Observable_1$25=Observable_1$1;var fromEvent_1=fromEvent$2;Observable_1$25.Observable.fromEvent=fromEvent_1.fromEvent;

var __extends$67=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Observable_1$28=Observable_1$1;var Subscription_1$8=Subscription_1$2;var FromEventPatternObservable=function(_super){__extends$67(FromEventPatternObservable,_super);function FromEventPatternObservable(addHandler,removeHandler,selector){_super.call(this);this.addHandler=addHandler;this.removeHandler=removeHandler;this.selector=selector;}FromEventPatternObservable.create=function(addHandler,removeHandler,selector){return new FromEventPatternObservable(addHandler,removeHandler,selector)};FromEventPatternObservable.prototype._subscribe=function(subscriber){var _this=this;var removeHandler=this.removeHandler;var handler=!!this.selector?function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i-0]=arguments[_i];}_this._callSelector(subscriber,args);}:function(e){subscriber.next(e);};this._callAddHandler(handler,subscriber);subscriber.add(new Subscription_1$8.Subscription(function(){removeHandler(handler);}));};FromEventPatternObservable.prototype._callSelector=function(subscriber,args){try{var result=this.selector.apply(this,args);subscriber.next(result);}catch(e){subscriber.error(e);}};FromEventPatternObservable.prototype._callAddHandler=function(handler,errorSubscriber){try{this.addHandler(handler);}catch(e){errorSubscriber.error(e);}};return FromEventPatternObservable}(Observable_1$28.Observable);var FromEventPatternObservable_2=FromEventPatternObservable;var FromEventPatternObservable_1$1={FromEventPatternObservable:FromEventPatternObservable_2};

var FromEventPatternObservable_1=FromEventPatternObservable_1$1;var fromEventPattern_1$1=FromEventPatternObservable_1.FromEventPatternObservable.create;var fromEventPattern$2={fromEventPattern:fromEventPattern_1$1};

var Observable_1$27=Observable_1$1;var fromEventPattern_1=fromEventPattern$2;Observable_1$27.Observable.fromEventPattern=fromEventPattern_1.fromEventPattern;

var Observable_1$29=Observable_1$1;var fromPromise_1$1=fromPromise;Observable_1$29.Observable.fromPromise=fromPromise_1$1.fromPromise;

var __extends$68=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Observable_1$31=Observable_1$1;var isScheduler_1$5=isScheduler_1$1;var selfSelector=function selfSelector(value){return value};var GenerateObservable=function(_super){__extends$68(GenerateObservable,_super);function GenerateObservable(initialState,condition,iterate,resultSelector,scheduler){_super.call(this);this.initialState=initialState;this.condition=condition;this.iterate=iterate;this.resultSelector=resultSelector;this.scheduler=scheduler;}GenerateObservable.create=function(initialStateOrOptions,condition,iterate,resultSelectorOrObservable,scheduler){if(arguments.length==1){return new GenerateObservable(initialStateOrOptions.initialState,initialStateOrOptions.condition,initialStateOrOptions.iterate,initialStateOrOptions.resultSelector||selfSelector,initialStateOrOptions.scheduler)}if(resultSelectorOrObservable===undefined||isScheduler_1$5.isScheduler(resultSelectorOrObservable)){return new GenerateObservable(initialStateOrOptions,condition,iterate,selfSelector,resultSelectorOrObservable)}return new GenerateObservable(initialStateOrOptions,condition,iterate,resultSelectorOrObservable,scheduler)};GenerateObservable.prototype._subscribe=function(subscriber){var state=this.initialState;if(this.scheduler){return this.scheduler.schedule(GenerateObservable.dispatch,0,{subscriber:subscriber,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:state})}var _a=this,condition=_a.condition,resultSelector=_a.resultSelector,iterate=_a.iterate;do{if(condition){var conditionResult=void 0;try{conditionResult=condition(state);}catch(err){subscriber.error(err);return}if(!conditionResult){subscriber.complete();break}}var value=void 0;try{value=resultSelector(state);}catch(err){subscriber.error(err);return}subscriber.next(value);if(subscriber.closed){break}try{state=iterate(state);}catch(err){subscriber.error(err);return}}while(true)};GenerateObservable.dispatch=function(state){var subscriber=state.subscriber,condition=state.condition;if(subscriber.closed){return}if(state.needIterate){try{state.state=state.iterate(state.state);}catch(err){subscriber.error(err);return}}else{state.needIterate=true;}if(condition){var conditionResult=void 0;try{conditionResult=condition(state.state);}catch(err){subscriber.error(err);return}if(!conditionResult){subscriber.complete();return}if(subscriber.closed){return}}var value;try{value=state.resultSelector(state.state);}catch(err){subscriber.error(err);return}if(subscriber.closed){return}subscriber.next(value);if(subscriber.closed){return}return this.schedule(state)};return GenerateObservable}(Observable_1$31.Observable);var GenerateObservable_2=GenerateObservable;var GenerateObservable_1$1={GenerateObservable:GenerateObservable_2};

var Observable_1$30=Observable_1$1;var GenerateObservable_1=GenerateObservable_1$1;Observable_1$30.Observable.generate=GenerateObservable_1.GenerateObservable.create;

var __extends$69=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Observable_1$33=Observable_1$1;var subscribeToResult_1$6=subscribeToResult_1$1;var OuterSubscriber_1$6=OuterSubscriber_1$1;var IfObservable=function(_super){__extends$69(IfObservable,_super);function IfObservable(condition,thenSource,elseSource){_super.call(this);this.condition=condition;this.thenSource=thenSource;this.elseSource=elseSource;}IfObservable.create=function(condition,thenSource,elseSource){return new IfObservable(condition,thenSource,elseSource)};IfObservable.prototype._subscribe=function(subscriber){var _a=this,condition=_a.condition,thenSource=_a.thenSource,elseSource=_a.elseSource;return new IfSubscriber(subscriber,condition,thenSource,elseSource)};return IfObservable}(Observable_1$33.Observable);var IfObservable_2=IfObservable;var IfSubscriber=function(_super){__extends$69(IfSubscriber,_super);function IfSubscriber(destination,condition,thenSource,elseSource){_super.call(this,destination);this.condition=condition;this.thenSource=thenSource;this.elseSource=elseSource;this.tryIf();}IfSubscriber.prototype.tryIf=function(){var _a=this,condition=_a.condition,thenSource=_a.thenSource,elseSource=_a.elseSource;var result;try{result=condition();var source=result?thenSource:elseSource;if(source){this.add(subscribeToResult_1$6.subscribeToResult(this,source));}else{this._complete();}}catch(err){this._error(err);}};return IfSubscriber}(OuterSubscriber_1$6.OuterSubscriber);var IfObservable_1$1={IfObservable:IfObservable_2};

var IfObservable_1=IfObservable_1$1;var _if_1=IfObservable_1.IfObservable.create;var _if$2={_if:_if_1};

var Observable_1$32=Observable_1$1;var if_1=_if$2;Observable_1$32.Observable.if=if_1._if;

var isArray_1$7=isArray;function isNumeric(val){return!isArray_1$7.isArray(val)&&val-parseFloat(val)+1>=0}var isNumeric_2=isNumeric;var isNumeric_1$1={isNumeric:isNumeric_2};

var __extends$72=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscription_1$9=Subscription_1$2;var Action=function(_super){__extends$72(Action,_super);function Action(scheduler,work){_super.call(this);}Action.prototype.schedule=function(state,delay){if(delay===void 0){delay=0;}return this};return Action}(Subscription_1$9.Subscription);var Action_2=Action;var Action_1$1={Action:Action_2};

var __extends$71=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var root_1$9=root;var Action_1=Action_1$1;var AsyncAction=function(_super){__extends$71(AsyncAction,_super);function AsyncAction(scheduler,work){_super.call(this,scheduler,work);this.scheduler=scheduler;this.work=work;this.pending=false;}AsyncAction.prototype.schedule=function(state,delay){if(delay===void 0){delay=0;}if(this.closed){return this}this.state=state;this.pending=true;var id=this.id;var scheduler=this.scheduler;if(id!=null){this.id=this.recycleAsyncId(scheduler,id,delay);}this.delay=delay;this.id=this.id||this.requestAsyncId(scheduler,this.id,delay);return this};AsyncAction.prototype.requestAsyncId=function(scheduler,id,delay){if(delay===void 0){delay=0;}return root_1$9.root.setInterval(scheduler.flush.bind(scheduler,this),delay)};AsyncAction.prototype.recycleAsyncId=function(scheduler,id,delay){if(delay===void 0){delay=0;}if(delay!==null&&this.delay===delay){return id}return root_1$9.root.clearInterval(id)&&undefined||undefined};AsyncAction.prototype.execute=function(state,delay){if(this.closed){return new Error('executing a cancelled action')}this.pending=false;var error=this._execute(state,delay);if(error){return error}else if(this.pending===false&&this.id!=null){this.id=this.recycleAsyncId(this.scheduler,this.id,null);}};AsyncAction.prototype._execute=function(state,delay){var errored=false;var errorValue=undefined;try{this.work(state);}catch(e){errored=true;errorValue=!!e&&e||new Error(e);}if(errored){this.unsubscribe();return errorValue}};AsyncAction.prototype._unsubscribe=function(){var id=this.id;var scheduler=this.scheduler;var actions=scheduler.actions;var index=actions.indexOf(this);this.work=null;this.delay=null;this.state=null;this.pending=false;this.scheduler=null;if(index!==-1){actions.splice(index,1);}if(id!=null){this.id=this.recycleAsyncId(scheduler,id,null);}};return AsyncAction}(Action_1.Action);var AsyncAction_2=AsyncAction;var AsyncAction_1$1={AsyncAction:AsyncAction_2};

var Scheduler$1=function(){function Scheduler(SchedulerAction,now){if(now===void 0){now=Scheduler.now;}this.SchedulerAction=SchedulerAction;this.now=now;}Scheduler.prototype.schedule=function(work,delay,state){if(delay===void 0){delay=0;}return new this.SchedulerAction(this,work).schedule(state,delay)};Scheduler.now=Date.now?Date.now:function(){return+new Date};return Scheduler}();var Scheduler_2=Scheduler$1;var Scheduler_1$2={Scheduler:Scheduler_2};

var __extends$73=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Scheduler_1$1=Scheduler_1$2;var AsyncScheduler=function(_super){__extends$73(AsyncScheduler,_super);function AsyncScheduler(){_super.apply(this,arguments);this.actions=[];this.active=false;this.scheduled=undefined;}AsyncScheduler.prototype.flush=function(action){var actions=this.actions;if(this.active){actions.push(action);return}var error;this.active=true;do{if(error=action.execute(action.state,action.delay)){break}}while(action=actions.shift());this.active=false;if(error){while(action=actions.shift()){action.unsubscribe();}throw error}};return AsyncScheduler}(Scheduler_1$1.Scheduler);var AsyncScheduler_2=AsyncScheduler;var AsyncScheduler_1$1={AsyncScheduler:AsyncScheduler_2};

var AsyncAction_1=AsyncAction_1$1;var AsyncScheduler_1=AsyncScheduler_1$1;var async_1$2=new AsyncScheduler_1.AsyncScheduler(AsyncAction_1.AsyncAction);var async={async:async_1$2};

var __extends$70=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var isNumeric_1=isNumeric_1$1;var Observable_1$35=Observable_1$1;var async_1$1=async;var IntervalObservable=function(_super){__extends$70(IntervalObservable,_super);function IntervalObservable(period,scheduler){if(period===void 0){period=0;}if(scheduler===void 0){scheduler=async_1$1.async;}_super.call(this);this.period=period;this.scheduler=scheduler;if(!isNumeric_1.isNumeric(period)||period<0){this.period=0;}if(!scheduler||typeof scheduler.schedule!=='function'){this.scheduler=async_1$1.async;}}IntervalObservable.create=function(period,scheduler){if(period===void 0){period=0;}if(scheduler===void 0){scheduler=async_1$1.async;}return new IntervalObservable(period,scheduler)};IntervalObservable.dispatch=function(state){var index=state.index,subscriber=state.subscriber,period=state.period;subscriber.next(index);if(subscriber.closed){return}state.index+=1;this.schedule(state,period);};IntervalObservable.prototype._subscribe=function(subscriber){var index=0;var period=this.period;var scheduler=this.scheduler;subscriber.add(scheduler.schedule(IntervalObservable.dispatch,period,{index:index,subscriber:subscriber,period:period}));};return IntervalObservable}(Observable_1$35.Observable);var IntervalObservable_2=IntervalObservable;var IntervalObservable_1$1={IntervalObservable:IntervalObservable_2};

var IntervalObservable_1=IntervalObservable_1$1;var interval_1$1=IntervalObservable_1.IntervalObservable.create;var interval$2={interval:interval_1$1};

var Observable_1$34=Observable_1$1;var interval_1=interval$2;Observable_1$34.Observable.interval=interval_1.interval;

var ArrayObservable_1$6=ArrayObservable_1$1;var mergeAll_1$3=mergeAll_1$1;var isScheduler_1$6=isScheduler_1$1;function merge$5(){var observables=[];for(var _i=0;_i<arguments.length;_i++){observables[_i-0]=arguments[_i];}return this.lift.call(mergeStatic.apply(void 0,[this].concat(observables)))}var merge_2$1=merge$5;function mergeStatic(){var observables=[];for(var _i=0;_i<arguments.length;_i++){observables[_i-0]=arguments[_i];}var concurrent=Number.POSITIVE_INFINITY;var scheduler=null;var last=observables[observables.length-1];if(isScheduler_1$6.isScheduler(last)){scheduler=observables.pop();if(observables.length>1&&typeof observables[observables.length-1]==='number'){concurrent=observables.pop();}}else if(typeof last==='number'){concurrent=observables.pop();}if(scheduler===null&&observables.length===1){return observables[0]}return new ArrayObservable_1$6.ArrayObservable(observables,scheduler).lift(new mergeAll_1$3.MergeAllOperator(concurrent))}var mergeStatic_1=mergeStatic;var merge_1$2={merge:merge_2$1,mergeStatic:mergeStatic_1};

var merge_1$1=merge_1$2;var merge_2=merge_1$1.mergeStatic;var merge$3={merge:merge_2};

var Observable_1$36=Observable_1$1;var merge_1=merge$3;Observable_1$36.Observable.merge=merge_1.merge;

var __extends$74=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var isArray_1$8=isArray;var ArrayObservable_1$7=ArrayObservable_1$1;var OuterSubscriber_1$7=OuterSubscriber_1$1;var subscribeToResult_1$7=subscribeToResult_1$1;function race$2(){var observables=[];for(var _i=0;_i<arguments.length;_i++){observables[_i-0]=arguments[_i];}if(observables.length===1&&isArray_1$8.isArray(observables[0])){observables=observables[0];}return this.lift.call(raceStatic.apply(void 0,[this].concat(observables)))}var race_2=race$2;function raceStatic(){var observables=[];for(var _i=0;_i<arguments.length;_i++){observables[_i-0]=arguments[_i];}if(observables.length===1){if(isArray_1$8.isArray(observables[0])){observables=observables[0];}else{return observables[0]}}return new ArrayObservable_1$7.ArrayObservable(observables).lift(new RaceOperator)}var raceStatic_1=raceStatic;var RaceOperator=function(){function RaceOperator(){}RaceOperator.prototype.call=function(subscriber,source){return source._subscribe(new RaceSubscriber(subscriber))};return RaceOperator}();var RaceOperator_1=RaceOperator;var RaceSubscriber=function(_super){__extends$74(RaceSubscriber,_super);function RaceSubscriber(destination){_super.call(this,destination);this.hasFirst=false;this.observables=[];this.subscriptions=[];}RaceSubscriber.prototype._next=function(observable){this.observables.push(observable);};RaceSubscriber.prototype._complete=function(){var observables=this.observables;var len=observables.length;if(len===0){this.destination.complete();}else{for(var i=0;i<len;i++){var observable=observables[i];var subscription=subscribeToResult_1$7.subscribeToResult(this,observable,observable,i);if(this.subscriptions){this.subscriptions.push(subscription);this.add(subscription);}}this.observables=null;}};RaceSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){if(!this.hasFirst){this.hasFirst=true;for(var i=0;i<this.subscriptions.length;i++){if(i!==outerIndex){var subscription=this.subscriptions[i];subscription.unsubscribe();this.remove(subscription);}}this.subscriptions=null;}this.destination.next(innerValue);};return RaceSubscriber}(OuterSubscriber_1$7.OuterSubscriber);var RaceSubscriber_1=RaceSubscriber;var race_1$1={race:race_2,raceStatic:raceStatic_1,RaceOperator:RaceOperator_1,RaceSubscriber:RaceSubscriber_1};

var Observable_1$37=Observable_1$1;var race_1=race_1$1;Observable_1$37.Observable.race=race_1.raceStatic;

function noop$1(){}var noop_2=noop$1;var noop_1$1={noop:noop_2};

var __extends$75=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Observable_1$39=Observable_1$1;var noop_1=noop_1$1;var NeverObservable=function(_super){__extends$75(NeverObservable,_super);function NeverObservable(){_super.call(this);}NeverObservable.create=function(){return new NeverObservable};NeverObservable.prototype._subscribe=function(subscriber){noop_1.noop();};return NeverObservable}(Observable_1$39.Observable);var NeverObservable_2=NeverObservable;var NeverObservable_1$1={NeverObservable:NeverObservable_2};

var NeverObservable_1=NeverObservable_1$1;var never_1$1=NeverObservable_1.NeverObservable.create;var never$2={never:never_1$1};

var Observable_1$38=Observable_1$1;var never_1=never$2;Observable_1$38.Observable.never=never_1.never;

var ArrayObservable_1$8=ArrayObservable_1$1;var of_1$1=ArrayObservable_1$8.ArrayObservable.of;var of$2={of:of_1$1};

var Observable_1$40=Observable_1$1;var of_1=of$2;Observable_1$40.Observable.of=of_1.of;

var __extends$76=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var FromObservable_1$3=FromObservable_1$1;var isArray_1$9=isArray;var OuterSubscriber_1$8=OuterSubscriber_1$1;var subscribeToResult_1$8=subscribeToResult_1$1;function onErrorResumeNext$2(){var nextSources=[];for(var _i=0;_i<arguments.length;_i++){nextSources[_i-0]=arguments[_i];}if(nextSources.length===1&&isArray_1$9.isArray(nextSources[0])){nextSources=nextSources[0];}return this.lift(new OnErrorResumeNextOperator(nextSources))}var onErrorResumeNext_2=onErrorResumeNext$2;function onErrorResumeNextStatic(){var nextSources=[];for(var _i=0;_i<arguments.length;_i++){nextSources[_i-0]=arguments[_i];}var source=null;if(nextSources.length===1&&isArray_1$9.isArray(nextSources[0])){nextSources=nextSources[0];}source=nextSources.shift();return new FromObservable_1$3.FromObservable(source,null).lift(new OnErrorResumeNextOperator(nextSources))}var onErrorResumeNextStatic_1=onErrorResumeNextStatic;var OnErrorResumeNextOperator=function(){function OnErrorResumeNextOperator(nextSources){this.nextSources=nextSources;}OnErrorResumeNextOperator.prototype.call=function(subscriber,source){return source._subscribe(new OnErrorResumeNextSubscriber(subscriber,this.nextSources))};return OnErrorResumeNextOperator}();var OnErrorResumeNextSubscriber=function(_super){__extends$76(OnErrorResumeNextSubscriber,_super);function OnErrorResumeNextSubscriber(destination,nextSources){_super.call(this,destination);this.destination=destination;this.nextSources=nextSources;}OnErrorResumeNextSubscriber.prototype.notifyError=function(error,innerSub){this.subscribeToNextSource();};OnErrorResumeNextSubscriber.prototype.notifyComplete=function(innerSub){this.subscribeToNextSource();};OnErrorResumeNextSubscriber.prototype._error=function(err){this.subscribeToNextSource();};OnErrorResumeNextSubscriber.prototype._complete=function(){this.subscribeToNextSource();};OnErrorResumeNextSubscriber.prototype.subscribeToNextSource=function(){var next=this.nextSources.shift();if(next){this.add(subscribeToResult_1$8.subscribeToResult(this,next));}else{this.destination.complete();}};return OnErrorResumeNextSubscriber}(OuterSubscriber_1$8.OuterSubscriber);var onErrorResumeNext_1$1={onErrorResumeNext:onErrorResumeNext_2,onErrorResumeNextStatic:onErrorResumeNextStatic_1};

var Observable_1$41=Observable_1$1;var onErrorResumeNext_1=onErrorResumeNext_1$1;Observable_1$41.Observable.onErrorResumeNext=onErrorResumeNext_1.onErrorResumeNextStatic;

var __extends$77=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Observable_1$43=Observable_1$1;function dispatch$1(state){var obj=state.obj,keys=state.keys,length=state.length,index=state.index,subscriber=state.subscriber;if(index===length){subscriber.complete();return}var key=keys[index];subscriber.next([key,obj[key]]);state.index=index+1;this.schedule(state);}var PairsObservable=function(_super){__extends$77(PairsObservable,_super);function PairsObservable(obj,scheduler){_super.call(this);this.obj=obj;this.scheduler=scheduler;this.keys=Object.keys(obj);}PairsObservable.create=function(obj,scheduler){return new PairsObservable(obj,scheduler)};PairsObservable.prototype._subscribe=function(subscriber){var _a=this,keys=_a.keys,scheduler=_a.scheduler;var length=keys.length;if(scheduler){return scheduler.schedule(dispatch$1,0,{obj:this.obj,keys:keys,length:length,index:0,subscriber:subscriber})}else{for(var idx=0;idx<length;idx++){var key=keys[idx];subscriber.next([key,this.obj[key]]);}subscriber.complete();}};return PairsObservable}(Observable_1$43.Observable);var PairsObservable_2=PairsObservable;var PairsObservable_1$1={PairsObservable:PairsObservable_2};

var PairsObservable_1=PairsObservable_1$1;var pairs_1$1=PairsObservable_1.PairsObservable.create;var pairs$2={pairs:pairs_1$1};

var Observable_1$42=Observable_1$1;var pairs_1=pairs$2;Observable_1$42.Observable.pairs=pairs_1.pairs;

var __extends$78=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Observable_1$45=Observable_1$1;var RangeObservable=function(_super){__extends$78(RangeObservable,_super);function RangeObservable(start,count,scheduler){_super.call(this);this.start=start;this._count=count;this.scheduler=scheduler;}RangeObservable.create=function(start,count,scheduler){if(start===void 0){start=0;}if(count===void 0){count=0;}return new RangeObservable(start,count,scheduler)};RangeObservable.dispatch=function(state){var start=state.start,index=state.index,count=state.count,subscriber=state.subscriber;if(index>=count){subscriber.complete();return}subscriber.next(start);if(subscriber.closed){return}state.index=index+1;state.start=start+1;this.schedule(state);};RangeObservable.prototype._subscribe=function(subscriber){var index=0;var start=this.start;var count=this._count;var scheduler=this.scheduler;if(scheduler){return scheduler.schedule(RangeObservable.dispatch,0,{index:index,count:count,start:start,subscriber:subscriber})}else{do{if(index++>=count){subscriber.complete();break}subscriber.next(start++);if(subscriber.closed){break}}while(true)}};return RangeObservable}(Observable_1$45.Observable);var RangeObservable_2=RangeObservable;var RangeObservable_1$1={RangeObservable:RangeObservable_2};

var RangeObservable_1=RangeObservable_1$1;var range_1$1=RangeObservable_1.RangeObservable.create;var range$2={range:range_1$1};

var Observable_1$44=Observable_1$1;var range_1=range$2;Observable_1$44.Observable.range=range_1.range;

var __extends$79=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Observable_1$47=Observable_1$1;var subscribeToResult_1$9=subscribeToResult_1$1;var OuterSubscriber_1$9=OuterSubscriber_1$1;var UsingObservable=function(_super){__extends$79(UsingObservable,_super);function UsingObservable(resourceFactory,observableFactory){_super.call(this);this.resourceFactory=resourceFactory;this.observableFactory=observableFactory;}UsingObservable.create=function(resourceFactory,observableFactory){return new UsingObservable(resourceFactory,observableFactory)};UsingObservable.prototype._subscribe=function(subscriber){var _a=this,resourceFactory=_a.resourceFactory,observableFactory=_a.observableFactory;var resource;try{resource=resourceFactory();return new UsingSubscriber(subscriber,resource,observableFactory)}catch(err){subscriber.error(err);}};return UsingObservable}(Observable_1$47.Observable);var UsingObservable_2=UsingObservable;var UsingSubscriber=function(_super){__extends$79(UsingSubscriber,_super);function UsingSubscriber(destination,resource,observableFactory){_super.call(this,destination);this.resource=resource;this.observableFactory=observableFactory;destination.add(resource);this.tryUse();}UsingSubscriber.prototype.tryUse=function(){try{var source=this.observableFactory.call(this,this.resource);if(source){this.add(subscribeToResult_1$9.subscribeToResult(this,source));}}catch(err){this._error(err);}};return UsingSubscriber}(OuterSubscriber_1$9.OuterSubscriber);var UsingObservable_1$1={UsingObservable:UsingObservable_2};

var UsingObservable_1=UsingObservable_1$1;var using_1$1=UsingObservable_1.UsingObservable.create;var using$2={using:using_1$1};

var Observable_1$46=Observable_1$1;var using_1=using$2;Observable_1$46.Observable.using=using_1.using;

var __extends$80=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Observable_1$49=Observable_1$1;var ErrorObservable=function(_super){__extends$80(ErrorObservable,_super);function ErrorObservable(error,scheduler){_super.call(this);this.error=error;this.scheduler=scheduler;}ErrorObservable.create=function(error,scheduler){return new ErrorObservable(error,scheduler)};ErrorObservable.dispatch=function(arg){var error=arg.error,subscriber=arg.subscriber;subscriber.error(error);};ErrorObservable.prototype._subscribe=function(subscriber){var error=this.error;var scheduler=this.scheduler;if(scheduler){return scheduler.schedule(ErrorObservable.dispatch,0,{error:error,subscriber:subscriber})}else{subscriber.error(error);}};return ErrorObservable}(Observable_1$49.Observable);var ErrorObservable_2=ErrorObservable;var ErrorObservable_1$1={ErrorObservable:ErrorObservable_2};

var ErrorObservable_1=ErrorObservable_1$1;var _throw_1=ErrorObservable_1.ErrorObservable.create;var _throw$2={_throw:_throw_1};

var Observable_1$48=Observable_1$1;var throw_1=_throw$2;Observable_1$48.Observable.throw=throw_1._throw;

function isDate$4(value){return value instanceof Date&&!isNaN(+value)}var isDate_2=isDate$4;var isDate_1$1={isDate:isDate_2};

var __extends$81=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var isNumeric_1$3=isNumeric_1$1;var Observable_1$51=Observable_1$1;var async_1$3=async;var isScheduler_1$7=isScheduler_1$1;var isDate_1=isDate_1$1;var TimerObservable=function(_super){__extends$81(TimerObservable,_super);function TimerObservable(dueTime,period,scheduler){if(dueTime===void 0){dueTime=0;}_super.call(this);this.period=-1;this.dueTime=0;if(isNumeric_1$3.isNumeric(period)){this.period=Number(period)<1&&1||Number(period);}else if(isScheduler_1$7.isScheduler(period)){scheduler=period;}if(!isScheduler_1$7.isScheduler(scheduler)){scheduler=async_1$3.async;}this.scheduler=scheduler;this.dueTime=isDate_1.isDate(dueTime)?+dueTime-this.scheduler.now():dueTime;}TimerObservable.create=function(initialDelay,period,scheduler){if(initialDelay===void 0){initialDelay=0;}return new TimerObservable(initialDelay,period,scheduler)};TimerObservable.dispatch=function(state){var index=state.index,period=state.period,subscriber=state.subscriber;var action=this;subscriber.next(index);if(subscriber.closed){return}else if(period===-1){return subscriber.complete()}state.index=index+1;action.schedule(state,period);};TimerObservable.prototype._subscribe=function(subscriber){var index=0;var _a=this,period=_a.period,dueTime=_a.dueTime,scheduler=_a.scheduler;return scheduler.schedule(TimerObservable.dispatch,dueTime,{index:index,period:period,subscriber:subscriber})};return TimerObservable}(Observable_1$51.Observable);var TimerObservable_2=TimerObservable;var TimerObservable_1$1={TimerObservable:TimerObservable_2};

var TimerObservable_1=TimerObservable_1$1;var timer_1$1=TimerObservable_1.TimerObservable.create;var timer$2={timer:timer_1$1};

var Observable_1$50=Observable_1$1;var timer_1=timer$2;Observable_1$50.Observable.timer=timer_1.timer;

var __extends$82=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var ArrayObservable_1$9=ArrayObservable_1$1;var isArray_1$10=isArray;var Subscriber_1$8=Subscriber_1$2;var OuterSubscriber_1$10=OuterSubscriber_1$1;var subscribeToResult_1$10=subscribeToResult_1$1;var iterator_1$4=iterator;function zipProto(){var observables=[];for(var _i=0;_i<arguments.length;_i++){observables[_i-0]=arguments[_i];}return this.lift.call(zipStatic.apply(void 0,[this].concat(observables)))}var zipProto_1=zipProto;function zipStatic(){var observables=[];for(var _i=0;_i<arguments.length;_i++){observables[_i-0]=arguments[_i];}var project=observables[observables.length-1];if(typeof project==='function'){observables.pop();}return new ArrayObservable_1$9.ArrayObservable(observables).lift(new ZipOperator(project))}var zipStatic_1=zipStatic;var ZipOperator=function(){function ZipOperator(project){this.project=project;}ZipOperator.prototype.call=function(subscriber,source){return source._subscribe(new ZipSubscriber(subscriber,this.project))};return ZipOperator}();var ZipOperator_1=ZipOperator;var ZipSubscriber=function(_super){__extends$82(ZipSubscriber,_super);function ZipSubscriber(destination,project,values){if(values===void 0){values=Object.create(null);}_super.call(this,destination);this.iterators=[];this.active=0;this.project=typeof project==='function'?project:null;this.values=values;}ZipSubscriber.prototype._next=function(value){var iterators=this.iterators;if(isArray_1$10.isArray(value)){iterators.push(new StaticArrayIterator(value));}else if(typeof value[iterator_1$4.$$iterator]==='function'){iterators.push(new StaticIterator(value[iterator_1$4.$$iterator]()));}else{iterators.push(new ZipBufferIterator(this.destination,this,value));}};ZipSubscriber.prototype._complete=function(){var iterators=this.iterators;var len=iterators.length;this.active=len;for(var i=0;i<len;i++){var iterator$$1=iterators[i];if(iterator$$1.stillUnsubscribed){this.add(iterator$$1.subscribe(iterator$$1,i));}else{this.active--;}}};ZipSubscriber.prototype.notifyInactive=function(){this.active--;if(this.active===0){this.destination.complete();}};ZipSubscriber.prototype.checkIterators=function(){var iterators=this.iterators;var len=iterators.length;var destination=this.destination;for(var i=0;i<len;i++){var iterator$$1=iterators[i];if(typeof iterator$$1.hasValue==='function'&&!iterator$$1.hasValue()){return}}var shouldComplete=false;var args=[];for(var i=0;i<len;i++){var iterator$$1=iterators[i];var result=iterator$$1.next();if(iterator$$1.hasCompleted()){shouldComplete=true;}if(result.done){destination.complete();return}args.push(result.value);}if(this.project){this._tryProject(args);}else{destination.next(args);}if(shouldComplete){destination.complete();}};ZipSubscriber.prototype._tryProject=function(args){var result;try{result=this.project.apply(this,args);}catch(err){this.destination.error(err);return}this.destination.next(result);};return ZipSubscriber}(Subscriber_1$8.Subscriber);var ZipSubscriber_1=ZipSubscriber;var StaticIterator=function(){function StaticIterator(iterator$$1){this.iterator=iterator$$1;this.nextResult=iterator$$1.next();}StaticIterator.prototype.hasValue=function(){return true};StaticIterator.prototype.next=function(){var result=this.nextResult;this.nextResult=this.iterator.next();return result};StaticIterator.prototype.hasCompleted=function(){var nextResult=this.nextResult;return nextResult&&nextResult.done};return StaticIterator}();var StaticArrayIterator=function(){function StaticArrayIterator(array){this.array=array;this.index=0;this.length=0;this.length=array.length;}StaticArrayIterator.prototype[iterator_1$4.$$iterator]=function(){return this};StaticArrayIterator.prototype.next=function(value){var i=this.index++;var array=this.array;return i<this.length?{value:array[i],done:false}:{value:null,done:true}};StaticArrayIterator.prototype.hasValue=function(){return this.array.length>this.index};StaticArrayIterator.prototype.hasCompleted=function(){return this.array.length===this.index};return StaticArrayIterator}();var ZipBufferIterator=function(_super){__extends$82(ZipBufferIterator,_super);function ZipBufferIterator(destination,parent,observable){_super.call(this,destination);this.parent=parent;this.observable=observable;this.stillUnsubscribed=true;this.buffer=[];this.isComplete=false;}ZipBufferIterator.prototype[iterator_1$4.$$iterator]=function(){return this};ZipBufferIterator.prototype.next=function(){var buffer=this.buffer;if(buffer.length===0&&this.isComplete){return{value:null,done:true}}else{return{value:buffer.shift(),done:false}}};ZipBufferIterator.prototype.hasValue=function(){return this.buffer.length>0};ZipBufferIterator.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete};ZipBufferIterator.prototype.notifyComplete=function(){if(this.buffer.length>0){this.isComplete=true;this.parent.notifyInactive();}else{this.destination.complete();}};ZipBufferIterator.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.buffer.push(innerValue);this.parent.checkIterators();};ZipBufferIterator.prototype.subscribe=function(value,index){return subscribeToResult_1$10.subscribeToResult(this,this.observable,this,index)};return ZipBufferIterator}(OuterSubscriber_1$10.OuterSubscriber);var zip$4={zipProto:zipProto_1,zipStatic:zipStatic_1,ZipOperator:ZipOperator_1,ZipSubscriber:ZipSubscriber_1};

var zip_1$1=zip$4;var zip_2=zip_1$1.zipStatic;var zip$2={zip:zip_2};

var Observable_1$52=Observable_1$1;var zip_1=zip$2;Observable_1$52.Observable.zip=zip_1.zip;

var __extends$84=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$10=Subscriber_1$2;function map(project,thisArg){if(typeof project!=='function'){throw new TypeError('argument is not a function. Are you looking for `mapTo()`?')}return this.lift(new MapOperator(project,thisArg))}var map_2=map;var MapOperator=function(){function MapOperator(project,thisArg){this.project=project;this.thisArg=thisArg;}MapOperator.prototype.call=function(subscriber,source){return source._subscribe(new MapSubscriber(subscriber,this.project,this.thisArg))};return MapOperator}();var MapOperator_1=MapOperator;var MapSubscriber=function(_super){__extends$84(MapSubscriber,_super);function MapSubscriber(destination,project,thisArg){_super.call(this,destination);this.project=project;this.count=0;this.thisArg=thisArg||this;}MapSubscriber.prototype._next=function(value){var result;try{result=this.project.call(this.thisArg,value,this.count++);}catch(err){this.destination.error(err);return}this.destination.next(result);};return MapSubscriber}(Subscriber_1$10.Subscriber);var map_1$1={map:map_2,MapOperator:MapOperator_1};

var __extends$83=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var root_1$10=root;var tryCatch_1$6=tryCatch_1$1;var errorObject_1$6=errorObject;var Observable_1$54=Observable_1$1;var Subscriber_1$9=Subscriber_1$2;var map_1=map_1$1;function getCORSRequest(){if(root_1$10.root.XMLHttpRequest){var xhr=new root_1$10.root.XMLHttpRequest;if('withCredentials'in xhr){xhr.withCredentials=!!this.withCredentials;}return xhr}else if(!!root_1$10.root.XDomainRequest){return new root_1$10.root.XDomainRequest}else{throw new Error('CORS is not supported by your browser')}}function getXMLHttpRequest(){if(root_1$10.root.XMLHttpRequest){return new root_1$10.root.XMLHttpRequest}else{var progId=void 0;try{var progIds=['Msxml2.XMLHTTP','Microsoft.XMLHTTP','Msxml2.XMLHTTP.4.0'];for(var i=0;i<3;i++){try{progId=progIds[i];if(new root_1$10.root.ActiveXObject(progId)){break}}catch(e){}}return new root_1$10.root.ActiveXObject(progId)}catch(e){throw new Error('XMLHttpRequest is not supported by your browser')}}}function ajaxGet(url,headers){if(headers===void 0){headers=null;}return new AjaxObservable({method:'GET',url:url,headers:headers})}var ajaxGet_1=ajaxGet;function ajaxPost(url,body,headers){return new AjaxObservable({method:'POST',url:url,body:body,headers:headers})}var ajaxPost_1=ajaxPost;function ajaxDelete(url,headers){return new AjaxObservable({method:'DELETE',url:url,headers:headers})}var ajaxDelete_1=ajaxDelete;function ajaxPut(url,body,headers){return new AjaxObservable({method:'PUT',url:url,body:body,headers:headers})}var ajaxPut_1=ajaxPut;function ajaxGetJSON(url,headers){return new AjaxObservable({method:'GET',url:url,responseType:'json',headers:headers}).lift(new map_1.MapOperator(function(x,index){return x.response},null))}var ajaxGetJSON_1=ajaxGetJSON;var AjaxObservable=function(_super){__extends$83(AjaxObservable,_super);function AjaxObservable(urlOrRequest){_super.call(this);var request={async:true,createXHR:function createXHR(){return this.crossDomain?getCORSRequest.call(this):getXMLHttpRequest()},crossDomain:false,withCredentials:false,headers:{},method:'GET',responseType:'json',timeout:0};if(typeof urlOrRequest==='string'){request.url=urlOrRequest;}else{for(var prop in urlOrRequest){if(urlOrRequest.hasOwnProperty(prop)){request[prop]=urlOrRequest[prop];}}}this.request=request;}AjaxObservable.prototype._subscribe=function(subscriber){return new AjaxSubscriber(subscriber,this.request)};AjaxObservable.create=function(){var create=function create(urlOrRequest){return new AjaxObservable(urlOrRequest)};create.get=ajaxGet;create.post=ajaxPost;create.delete=ajaxDelete;create.put=ajaxPut;create.getJSON=ajaxGetJSON;return create}();return AjaxObservable}(Observable_1$54.Observable);var AjaxObservable_2=AjaxObservable;var AjaxSubscriber=function(_super){__extends$83(AjaxSubscriber,_super);function AjaxSubscriber(destination,request){_super.call(this,destination);this.request=request;this.done=false;var headers=request.headers=request.headers||{};if(!request.crossDomain&&!headers['X-Requested-With']){headers['X-Requested-With']='XMLHttpRequest';}if(!('Content-Type'in headers)&&!(root_1$10.root.FormData&&request.body instanceof root_1$10.root.FormData)&&typeof request.body!=='undefined'){headers['Content-Type']='application/x-www-form-urlencoded; charset=UTF-8';}request.body=this.serializeBody(request.body,request.headers['Content-Type']);this.send();}AjaxSubscriber.prototype.next=function(e){this.done=true;var _a=this,xhr=_a.xhr,request=_a.request,destination=_a.destination;var response=new AjaxResponse$1(e,xhr,request);destination.next(response);};AjaxSubscriber.prototype.send=function(){var _a=this,request=_a.request,_b=_a.request,user=_b.user,method=_b.method,url=_b.url,async=_b.async,password=_b.password,headers=_b.headers,body=_b.body;var createXHR=request.createXHR;var xhr=tryCatch_1$6.tryCatch(createXHR).call(request);if(xhr===errorObject_1$6.errorObject){this.error(errorObject_1$6.errorObject.e);}else{this.xhr=xhr;var result=void 0;if(user){result=tryCatch_1$6.tryCatch(xhr.open).call(xhr,method,url,async,user,password);}else{result=tryCatch_1$6.tryCatch(xhr.open).call(xhr,method,url,async);}if(result===errorObject_1$6.errorObject){this.error(errorObject_1$6.errorObject.e);return null}xhr.timeout=request.timeout;xhr.responseType=request.responseType;this.setHeaders(xhr,headers);this.setupEvents(xhr,request);if(body){xhr.send(body);}else{xhr.send();}}return xhr};AjaxSubscriber.prototype.serializeBody=function(body,contentType){if(!body||typeof body==='string'){return body}else if(root_1$10.root.FormData&&body instanceof root_1$10.root.FormData){return body}if(contentType){var splitIndex=contentType.indexOf(';');if(splitIndex!==-1){contentType=contentType.substring(0,splitIndex);}}switch(contentType){case'application/x-www-form-urlencoded':return Object.keys(body).map(function(key){return encodeURI(key)+'='+encodeURI(body[key])}).join('&');case'application/json':return JSON.stringify(body);default:return body;}};AjaxSubscriber.prototype.setHeaders=function(xhr,headers){for(var key in headers){if(headers.hasOwnProperty(key)){xhr.setRequestHeader(key,headers[key]);}}};AjaxSubscriber.prototype.setupEvents=function(xhr,request){var progressSubscriber=request.progressSubscriber;function xhrTimeout(e){var _a=xhrTimeout,subscriber=_a.subscriber,progressSubscriber=_a.progressSubscriber,request=_a.request;if(progressSubscriber){progressSubscriber.error(e);}subscriber.error(new AjaxTimeoutError$1(this,request));}xhr.ontimeout=xhrTimeout;xhrTimeout.request=request;xhrTimeout.subscriber=this;xhrTimeout.progressSubscriber=progressSubscriber;if(xhr.upload&&'withCredentials'in xhr&&root_1$10.root.XDomainRequest){if(progressSubscriber){var _xhrProgress_;_xhrProgress_=function xhrProgress_1(e){var progressSubscriber=_xhrProgress_.progressSubscriber;progressSubscriber.next(e);};xhr.onprogress=_xhrProgress_;_xhrProgress_.progressSubscriber=progressSubscriber;}var _xhrError_;_xhrError_=function xhrError_1(e){var _a=_xhrError_,progressSubscriber=_a.progressSubscriber,subscriber=_a.subscriber,request=_a.request;if(progressSubscriber){progressSubscriber.error(e);}subscriber.error(new AjaxError$1('ajax error',this,request));};xhr.onerror=_xhrError_;_xhrError_.request=request;_xhrError_.subscriber=this;_xhrError_.progressSubscriber=progressSubscriber;}function xhrReadyStateChange(e){var _a=xhrReadyStateChange,subscriber=_a.subscriber,progressSubscriber=_a.progressSubscriber,request=_a.request;if(this.readyState===4){var status_1=this.status===1223?204:this.status;var response=this.responseType==='text'?this.response||this.responseText:this.response;if(status_1===0){status_1=response?200:0;}if(200<=status_1&&status_1<300){if(progressSubscriber){progressSubscriber.complete();}subscriber.next(e);subscriber.complete();}else{if(progressSubscriber){progressSubscriber.error(e);}subscriber.error(new AjaxError$1('ajax error '+status_1,this,request));}}}xhr.onreadystatechange=xhrReadyStateChange;xhrReadyStateChange.subscriber=this;xhrReadyStateChange.progressSubscriber=progressSubscriber;xhrReadyStateChange.request=request;};AjaxSubscriber.prototype.unsubscribe=function(){var _a=this,done=_a.done,xhr=_a.xhr;if(!done&&xhr&&xhr.readyState!==4&&typeof xhr.abort==='function'){xhr.abort();}_super.prototype.unsubscribe.call(this);};return AjaxSubscriber}(Subscriber_1$9.Subscriber);var AjaxSubscriber_1=AjaxSubscriber;var AjaxResponse$1=function(){function AjaxResponse(originalEvent,xhr,request){this.originalEvent=originalEvent;this.xhr=xhr;this.request=request;this.status=xhr.status;this.responseType=xhr.responseType||request.responseType;switch(this.responseType){case'json':if('response'in xhr){this.response=xhr.responseType?xhr.response:JSON.parse(xhr.response||xhr.responseText||'null');}else{this.response=JSON.parse(xhr.responseText||'null');}break;case'xml':this.response=xhr.responseXML;break;case'text':default:this.response='response'in xhr?xhr.response:xhr.responseText;break;}}return AjaxResponse}();var AjaxResponse_1=AjaxResponse$1;var AjaxError$1=function(_super){__extends$83(AjaxError,_super);function AjaxError(message,xhr,request){_super.call(this,message);this.message=message;this.xhr=xhr;this.request=request;this.status=xhr.status;}return AjaxError}(Error);var AjaxError_1=AjaxError$1;var AjaxTimeoutError$1=function(_super){__extends$83(AjaxTimeoutError,_super);function AjaxTimeoutError(xhr,request){_super.call(this,'ajax timeout',xhr,request);}return AjaxTimeoutError}(AjaxError$1);var AjaxTimeoutError_1=AjaxTimeoutError$1;var AjaxObservable_1$2={ajaxGet:ajaxGet_1,ajaxPost:ajaxPost_1,ajaxDelete:ajaxDelete_1,ajaxPut:ajaxPut_1,ajaxGetJSON:ajaxGetJSON_1,AjaxObservable:AjaxObservable_2,AjaxSubscriber:AjaxSubscriber_1,AjaxResponse:AjaxResponse_1,AjaxError:AjaxError_1,AjaxTimeoutError:AjaxTimeoutError_1};

var AjaxObservable_1$1=AjaxObservable_1$2;var ajax_1$1=AjaxObservable_1$1.AjaxObservable.create;var ajax$2={ajax:ajax_1$1};

var Observable_1$53=Observable_1$1;var ajax_1=ajax$2;Observable_1$53.Observable.ajax=ajax_1.ajax;

var __extends$87=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var AsyncAction_1$3=AsyncAction_1$1;var QueueAction=function(_super){__extends$87(QueueAction,_super);function QueueAction(scheduler,work){_super.call(this,scheduler,work);this.scheduler=scheduler;this.work=work;}QueueAction.prototype.schedule=function(state,delay){if(delay===void 0){delay=0;}if(delay>0){return _super.prototype.schedule.call(this,state,delay)}this.delay=delay;this.state=state;this.scheduler.flush(this);return this};QueueAction.prototype.execute=function(state,delay){return delay>0||this.closed?_super.prototype.execute.call(this,state,delay):this._execute(state,delay)};QueueAction.prototype.requestAsyncId=function(scheduler,id,delay){if(delay===void 0){delay=0;}if(delay!==null&&delay>0||delay===null&&this.delay>0){return _super.prototype.requestAsyncId.call(this,scheduler,id,delay)}return scheduler.flush(this)};return QueueAction}(AsyncAction_1$3.AsyncAction);var QueueAction_2=QueueAction;var QueueAction_1$1={QueueAction:QueueAction_2};

var __extends$88=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var AsyncScheduler_1$3=AsyncScheduler_1$1;var QueueScheduler=function(_super){__extends$88(QueueScheduler,_super);function QueueScheduler(){_super.apply(this,arguments);}return QueueScheduler}(AsyncScheduler_1$3.AsyncScheduler);var QueueScheduler_2=QueueScheduler;var QueueScheduler_1$1={QueueScheduler:QueueScheduler_2};

var QueueAction_1=QueueAction_1$1;var QueueScheduler_1=QueueScheduler_1$1;var queue_1$2=new QueueScheduler_1.QueueScheduler(QueueAction_1.QueueAction);var queue={queue:queue_1$2};

var __extends$86=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subject_1$5=Subject_1;var queue_1$1=queue;var Subscription_1$11=Subscription_1$2;var observeOn_1$3=observeOn_1$1;var ObjectUnsubscribedError_1$4=ObjectUnsubscribedError_1$1;var SubjectSubscription_1$3=SubjectSubscription_1$1;var ReplaySubject$1=function(_super){__extends$86(ReplaySubject,_super);function ReplaySubject(bufferSize,windowTime,scheduler){if(bufferSize===void 0){bufferSize=Number.POSITIVE_INFINITY;}if(windowTime===void 0){windowTime=Number.POSITIVE_INFINITY;}_super.call(this);this.scheduler=scheduler;this._events=[];this._bufferSize=bufferSize<1?1:bufferSize;this._windowTime=windowTime<1?1:windowTime;}ReplaySubject.prototype.next=function(value){var now=this._getNow();this._events.push(new ReplayEvent(now,value));this._trimBufferThenGetEvents();_super.prototype.next.call(this,value);};ReplaySubject.prototype._subscribe=function(subscriber){var _events=this._trimBufferThenGetEvents();var scheduler=this.scheduler;var subscription;if(this.closed){throw new ObjectUnsubscribedError_1$4.ObjectUnsubscribedError}else if(this.hasError){subscription=Subscription_1$11.Subscription.EMPTY;}else if(this.isStopped){subscription=Subscription_1$11.Subscription.EMPTY;}else{this.observers.push(subscriber);subscription=new SubjectSubscription_1$3.SubjectSubscription(this,subscriber);}if(scheduler){subscriber.add(subscriber=new observeOn_1$3.ObserveOnSubscriber(subscriber,scheduler));}var len=_events.length;for(var i=0;i<len&&!subscriber.closed;i++){subscriber.next(_events[i].value);}if(this.hasError){subscriber.error(this.thrownError);}else if(this.isStopped){subscriber.complete();}return subscription};ReplaySubject.prototype._getNow=function(){return(this.scheduler||queue_1$1.queue).now()};ReplaySubject.prototype._trimBufferThenGetEvents=function(){var now=this._getNow();var _bufferSize=this._bufferSize;var _windowTime=this._windowTime;var _events=this._events;var eventsCount=_events.length;var spliceCount=0;while(spliceCount<eventsCount){if(now-_events[spliceCount].time<_windowTime){break}spliceCount++;}if(eventsCount>_bufferSize){spliceCount=Math.max(spliceCount,eventsCount-_bufferSize);}if(spliceCount>0){_events.splice(0,spliceCount);}return _events};return ReplaySubject}(Subject_1$5.Subject);var ReplaySubject_2=ReplaySubject$1;var ReplayEvent=function(){function ReplayEvent(time,value){this.time=time;this.value=value;}return ReplayEvent}();var ReplaySubject_1$2={ReplaySubject:ReplaySubject_2};

var root_1$12=root;function assignImpl(target){var sources=[];for(var _i=1;_i<arguments.length;_i++){sources[_i-1]=arguments[_i];}var len=sources.length;for(var i=0;i<len;i++){var source=sources[i];for(var k in source){if(source.hasOwnProperty(k)){target[k]=source[k];}}}return target}var assignImpl_1=assignImpl;function getAssign(root$$1){return root$$1.Object.assign||assignImpl}var getAssign_1=getAssign;var assign_1$1=getAssign(root_1$12.root);var assign={assignImpl:assignImpl_1,getAssign:getAssign_1,assign:assign_1$1};

var __extends$85=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subject_1$4=Subject_1;var Subscriber_1$11=Subscriber_1$2;var Observable_1$56=Observable_1$1;var Subscription_1$10=Subscription_1$2;var root_1$11=root;var ReplaySubject_1$1=ReplaySubject_1$2;var tryCatch_1$7=tryCatch_1$1;var errorObject_1$7=errorObject;var assign_1=assign;var WebSocketSubject=function(_super){__extends$85(WebSocketSubject,_super);function WebSocketSubject(urlConfigOrSource,destination){if(urlConfigOrSource instanceof Observable_1$56.Observable){_super.call(this,destination,urlConfigOrSource);}else{_super.call(this);this.WebSocketCtor=root_1$11.root.WebSocket;this._output=new Subject_1$4.Subject;if(typeof urlConfigOrSource==='string'){this.url=urlConfigOrSource;}else{assign_1.assign(this,urlConfigOrSource);}if(!this.WebSocketCtor){throw new Error('no WebSocket constructor can be found')}this.destination=new ReplaySubject_1$1.ReplaySubject;}}WebSocketSubject.prototype.resultSelector=function(e){return JSON.parse(e.data)};WebSocketSubject.create=function(urlConfigOrSource){return new WebSocketSubject(urlConfigOrSource)};WebSocketSubject.prototype.lift=function(operator){var sock=new WebSocketSubject(this,this.destination);sock.operator=operator;return sock};WebSocketSubject.prototype._resetState=function(){this.socket=null;if(!this.source){this.destination=new ReplaySubject_1$1.ReplaySubject;}this._output=new Subject_1$4.Subject;};WebSocketSubject.prototype.multiplex=function(subMsg,unsubMsg,messageFilter){var self=this;return new Observable_1$56.Observable(function(observer){var result=tryCatch_1$7.tryCatch(subMsg)();if(result===errorObject_1$7.errorObject){observer.error(errorObject_1$7.errorObject.e);}else{self.next(result);}var subscription=self.subscribe(function(x){var result=tryCatch_1$7.tryCatch(messageFilter)(x);if(result===errorObject_1$7.errorObject){observer.error(errorObject_1$7.errorObject.e);}else if(result){observer.next(x);}},function(err){return observer.error(err)},function(){return observer.complete()});return function(){var result=tryCatch_1$7.tryCatch(unsubMsg)();if(result===errorObject_1$7.errorObject){observer.error(errorObject_1$7.errorObject.e);}else{self.next(result);}subscription.unsubscribe();}})};WebSocketSubject.prototype._connectSocket=function(){var _this=this;var WebSocketCtor=this.WebSocketCtor;var observer=this._output;var socket=null;try{socket=this.protocol?new WebSocketCtor(this.url,this.protocol):new WebSocketCtor(this.url);this.socket=socket;}catch(e){observer.error(e);return}var subscription=new Subscription_1$10.Subscription(function(){_this.socket=null;if(socket&&socket.readyState===1){socket.close();}});socket.onopen=function(e){var openObserver=_this.openObserver;if(openObserver){openObserver.next(e);}var queue=_this.destination;_this.destination=Subscriber_1$11.Subscriber.create(function(x){return socket.readyState===1&&socket.send(x)},function(e){var closingObserver=_this.closingObserver;if(closingObserver){closingObserver.next(undefined);}if(e&&e.code){socket.close(e.code,e.reason);}else{observer.error(new TypeError('WebSocketSubject.error must be called with an object with an error code, '+'and an optional reason: { code: number, reason: string }'));}_this._resetState();},function(){var closingObserver=_this.closingObserver;if(closingObserver){closingObserver.next(undefined);}socket.close();_this._resetState();});if(queue&&queue instanceof ReplaySubject_1$1.ReplaySubject){subscription.add(queue.subscribe(_this.destination));}};socket.onerror=function(e){_this._resetState();observer.error(e);};socket.onclose=function(e){_this._resetState();var closeObserver=_this.closeObserver;if(closeObserver){closeObserver.next(e);}if(e.wasClean){observer.complete();}else{observer.error(e);}};socket.onmessage=function(e){var result=tryCatch_1$7.tryCatch(_this.resultSelector)(e);if(result===errorObject_1$7.errorObject){observer.error(errorObject_1$7.errorObject.e);}else{observer.next(result);}};};WebSocketSubject.prototype._subscribe=function(subscriber){var _this=this;var source=this.source;if(source){return source.subscribe(subscriber)}if(!this.socket){this._connectSocket();}var subscription=new Subscription_1$10.Subscription;subscription.add(this._output.subscribe(subscriber));subscription.add(function(){var socket=_this.socket;if(_this._output.observers.length===0){if(socket&&socket.readyState===1){socket.close();}_this._resetState();}});return subscription};WebSocketSubject.prototype.unsubscribe=function(){var _a=this,source=_a.source,socket=_a.socket;if(socket&&socket.readyState===1){socket.close();this._resetState();}_super.prototype.unsubscribe.call(this);if(!source){this.destination=new ReplaySubject_1$1.ReplaySubject;}};return WebSocketSubject}(Subject_1$4.AnonymousSubject);var WebSocketSubject_2=WebSocketSubject;var WebSocketSubject_1$1={WebSocketSubject:WebSocketSubject_2};

var WebSocketSubject_1=WebSocketSubject_1$1;var webSocket_1$1=WebSocketSubject_1.WebSocketSubject.create;var webSocket$2={webSocket:webSocket_1$1};

var Observable_1$55=Observable_1$1;var webSocket_1=webSocket$2;Observable_1$55.Observable.webSocket=webSocket_1.webSocket;

var __extends$89=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var OuterSubscriber_1$11=OuterSubscriber_1$1;var subscribeToResult_1$11=subscribeToResult_1$1;function buffer$2(closingNotifier){return this.lift(new BufferOperator(closingNotifier))}var buffer_2=buffer$2;var BufferOperator=function(){function BufferOperator(closingNotifier){this.closingNotifier=closingNotifier;}BufferOperator.prototype.call=function(subscriber,source){return source._subscribe(new BufferSubscriber(subscriber,this.closingNotifier))};return BufferOperator}();var BufferSubscriber=function(_super){__extends$89(BufferSubscriber,_super);function BufferSubscriber(destination,closingNotifier){_super.call(this,destination);this.buffer=[];this.add(subscribeToResult_1$11.subscribeToResult(this,closingNotifier));}BufferSubscriber.prototype._next=function(value){this.buffer.push(value);};BufferSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var buffer=this.buffer;this.buffer=[];this.destination.next(buffer);};return BufferSubscriber}(OuterSubscriber_1$11.OuterSubscriber);var buffer_1$1={buffer:buffer_2};

var Observable_1$57=Observable_1$1;var buffer_1=buffer_1$1;Observable_1$57.Observable.prototype.buffer=buffer_1.buffer;

var __extends$90=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$12=Subscriber_1$2;function bufferCount$2(bufferSize,startBufferEvery){if(startBufferEvery===void 0){startBufferEvery=null;}return this.lift(new BufferCountOperator(bufferSize,startBufferEvery))}var bufferCount_2=bufferCount$2;var BufferCountOperator=function(){function BufferCountOperator(bufferSize,startBufferEvery){this.bufferSize=bufferSize;this.startBufferEvery=startBufferEvery;}BufferCountOperator.prototype.call=function(subscriber,source){return source._subscribe(new BufferCountSubscriber(subscriber,this.bufferSize,this.startBufferEvery))};return BufferCountOperator}();var BufferCountSubscriber=function(_super){__extends$90(BufferCountSubscriber,_super);function BufferCountSubscriber(destination,bufferSize,startBufferEvery){_super.call(this,destination);this.bufferSize=bufferSize;this.startBufferEvery=startBufferEvery;this.buffers=[];this.count=0;}BufferCountSubscriber.prototype._next=function(value){var count=this.count++;var _a=this,destination=_a.destination,bufferSize=_a.bufferSize,startBufferEvery=_a.startBufferEvery,buffers=_a.buffers;var startOn=startBufferEvery==null?bufferSize:startBufferEvery;if(count%startOn===0){buffers.push([]);}for(var i=buffers.length;i--;){var buffer=buffers[i];buffer.push(value);if(buffer.length===bufferSize){buffers.splice(i,1);destination.next(buffer);}}};BufferCountSubscriber.prototype._complete=function(){var destination=this.destination;var buffers=this.buffers;while(buffers.length>0){var buffer=buffers.shift();if(buffer.length>0){destination.next(buffer);}}_super.prototype._complete.call(this);};return BufferCountSubscriber}(Subscriber_1$12.Subscriber);var bufferCount_1$1={bufferCount:bufferCount_2};

var Observable_1$58=Observable_1$1;var bufferCount_1=bufferCount_1$1;Observable_1$58.Observable.prototype.bufferCount=bufferCount_1.bufferCount;

var __extends$91=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var async_1$4=async;var Subscriber_1$13=Subscriber_1$2;var isScheduler_1$8=isScheduler_1$1;function bufferTime$2(bufferTimeSpan){var length=arguments.length;var scheduler=async_1$4.async;if(isScheduler_1$8.isScheduler(arguments[arguments.length-1])){scheduler=arguments[arguments.length-1];length--;}var bufferCreationInterval=null;if(length>=2){bufferCreationInterval=arguments[1];}var maxBufferSize=Number.POSITIVE_INFINITY;if(length>=3){maxBufferSize=arguments[2];}return this.lift(new BufferTimeOperator(bufferTimeSpan,bufferCreationInterval,maxBufferSize,scheduler))}var bufferTime_2=bufferTime$2;var BufferTimeOperator=function(){function BufferTimeOperator(bufferTimeSpan,bufferCreationInterval,maxBufferSize,scheduler){this.bufferTimeSpan=bufferTimeSpan;this.bufferCreationInterval=bufferCreationInterval;this.maxBufferSize=maxBufferSize;this.scheduler=scheduler;}BufferTimeOperator.prototype.call=function(subscriber,source){return source._subscribe(new BufferTimeSubscriber(subscriber,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))};return BufferTimeOperator}();var Context=function(){function Context(){this.buffer=[];}return Context}();var BufferTimeSubscriber=function(_super){__extends$91(BufferTimeSubscriber,_super);function BufferTimeSubscriber(destination,bufferTimeSpan,bufferCreationInterval,maxBufferSize,scheduler){_super.call(this,destination);this.bufferTimeSpan=bufferTimeSpan;this.bufferCreationInterval=bufferCreationInterval;this.maxBufferSize=maxBufferSize;this.scheduler=scheduler;this.contexts=[];var context=this.openContext();this.timespanOnly=bufferCreationInterval==null||bufferCreationInterval<0;if(this.timespanOnly){var timeSpanOnlyState={subscriber:this,context:context,bufferTimeSpan:bufferTimeSpan};this.add(context.closeAction=scheduler.schedule(dispatchBufferTimeSpanOnly,bufferTimeSpan,timeSpanOnlyState));}else{var closeState={subscriber:this,context:context};var creationState={bufferTimeSpan:bufferTimeSpan,bufferCreationInterval:bufferCreationInterval,subscriber:this,scheduler:scheduler};this.add(context.closeAction=scheduler.schedule(dispatchBufferClose,bufferTimeSpan,closeState));this.add(scheduler.schedule(dispatchBufferCreation,bufferCreationInterval,creationState));}}BufferTimeSubscriber.prototype._next=function(value){var contexts=this.contexts;var len=contexts.length;var filledBufferContext;for(var i=0;i<len;i++){var context=contexts[i];var buffer=context.buffer;buffer.push(value);if(buffer.length==this.maxBufferSize){filledBufferContext=context;}}if(filledBufferContext){this.onBufferFull(filledBufferContext);}};BufferTimeSubscriber.prototype._error=function(err){this.contexts.length=0;_super.prototype._error.call(this,err);};BufferTimeSubscriber.prototype._complete=function(){var _a=this,contexts=_a.contexts,destination=_a.destination;while(contexts.length>0){var context=contexts.shift();destination.next(context.buffer);}_super.prototype._complete.call(this);};BufferTimeSubscriber.prototype._unsubscribe=function(){this.contexts=null;};BufferTimeSubscriber.prototype.onBufferFull=function(context){this.closeContext(context);var closeAction=context.closeAction;closeAction.unsubscribe();this.remove(closeAction);if(!this.closed&&this.timespanOnly){context=this.openContext();var bufferTimeSpan=this.bufferTimeSpan;var timeSpanOnlyState={subscriber:this,context:context,bufferTimeSpan:bufferTimeSpan};this.add(context.closeAction=this.scheduler.schedule(dispatchBufferTimeSpanOnly,bufferTimeSpan,timeSpanOnlyState));}};BufferTimeSubscriber.prototype.openContext=function(){var context=new Context;this.contexts.push(context);return context};BufferTimeSubscriber.prototype.closeContext=function(context){this.destination.next(context.buffer);var contexts=this.contexts;var spliceIndex=contexts?contexts.indexOf(context):-1;if(spliceIndex>=0){contexts.splice(contexts.indexOf(context),1);}};return BufferTimeSubscriber}(Subscriber_1$13.Subscriber);function dispatchBufferTimeSpanOnly(state){var subscriber=state.subscriber;var prevContext=state.context;if(prevContext){subscriber.closeContext(prevContext);}if(!subscriber.closed){state.context=subscriber.openContext();state.context.closeAction=this.schedule(state,state.bufferTimeSpan);}}function dispatchBufferCreation(state){var bufferCreationInterval=state.bufferCreationInterval,bufferTimeSpan=state.bufferTimeSpan,subscriber=state.subscriber,scheduler=state.scheduler;var context=subscriber.openContext();var action=this;if(!subscriber.closed){subscriber.add(context.closeAction=scheduler.schedule(dispatchBufferClose,bufferTimeSpan,{subscriber:subscriber,context:context}));action.schedule(state,bufferCreationInterval);}}function dispatchBufferClose(arg){var subscriber=arg.subscriber,context=arg.context;subscriber.closeContext(context);}var bufferTime_1$1={bufferTime:bufferTime_2};

var Observable_1$59=Observable_1$1;var bufferTime_1=bufferTime_1$1;Observable_1$59.Observable.prototype.bufferTime=bufferTime_1.bufferTime;

var __extends$92=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscription_1$12=Subscription_1$2;var subscribeToResult_1$12=subscribeToResult_1$1;var OuterSubscriber_1$12=OuterSubscriber_1$1;function bufferToggle$2(openings,closingSelector){return this.lift(new BufferToggleOperator(openings,closingSelector))}var bufferToggle_2=bufferToggle$2;var BufferToggleOperator=function(){function BufferToggleOperator(openings,closingSelector){this.openings=openings;this.closingSelector=closingSelector;}BufferToggleOperator.prototype.call=function(subscriber,source){return source._subscribe(new BufferToggleSubscriber(subscriber,this.openings,this.closingSelector))};return BufferToggleOperator}();var BufferToggleSubscriber=function(_super){__extends$92(BufferToggleSubscriber,_super);function BufferToggleSubscriber(destination,openings,closingSelector){_super.call(this,destination);this.openings=openings;this.closingSelector=closingSelector;this.contexts=[];this.add(subscribeToResult_1$12.subscribeToResult(this,openings));}BufferToggleSubscriber.prototype._next=function(value){var contexts=this.contexts;var len=contexts.length;for(var i=0;i<len;i++){contexts[i].buffer.push(value);}};BufferToggleSubscriber.prototype._error=function(err){var contexts=this.contexts;while(contexts.length>0){var context=contexts.shift();context.subscription.unsubscribe();context.buffer=null;context.subscription=null;}this.contexts=null;_super.prototype._error.call(this,err);};BufferToggleSubscriber.prototype._complete=function(){var contexts=this.contexts;while(contexts.length>0){var context=contexts.shift();this.destination.next(context.buffer);context.subscription.unsubscribe();context.buffer=null;context.subscription=null;}this.contexts=null;_super.prototype._complete.call(this);};BufferToggleSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){outerValue?this.closeBuffer(outerValue):this.openBuffer(innerValue);};BufferToggleSubscriber.prototype.notifyComplete=function(innerSub){this.closeBuffer(innerSub.context);};BufferToggleSubscriber.prototype.openBuffer=function(value){try{var closingSelector=this.closingSelector;var closingNotifier=closingSelector.call(this,value);if(closingNotifier){this.trySubscribe(closingNotifier);}}catch(err){this._error(err);}};BufferToggleSubscriber.prototype.closeBuffer=function(context){var contexts=this.contexts;if(contexts&&context){var buffer=context.buffer,subscription=context.subscription;this.destination.next(buffer);contexts.splice(contexts.indexOf(context),1);this.remove(subscription);subscription.unsubscribe();}};BufferToggleSubscriber.prototype.trySubscribe=function(closingNotifier){var contexts=this.contexts;var buffer=[];var subscription=new Subscription_1$12.Subscription;var context={buffer:buffer,subscription:subscription};contexts.push(context);var innerSubscription=subscribeToResult_1$12.subscribeToResult(this,closingNotifier,context);if(!innerSubscription||innerSubscription.closed){this.closeBuffer(context);}else{innerSubscription.context=context;this.add(innerSubscription);subscription.add(innerSubscription);}};return BufferToggleSubscriber}(OuterSubscriber_1$12.OuterSubscriber);var bufferToggle_1$1={bufferToggle:bufferToggle_2};

var Observable_1$60=Observable_1$1;var bufferToggle_1=bufferToggle_1$1;Observable_1$60.Observable.prototype.bufferToggle=bufferToggle_1.bufferToggle;

var __extends$93=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscription_1$13=Subscription_1$2;var tryCatch_1$8=tryCatch_1$1;var errorObject_1$8=errorObject;var OuterSubscriber_1$13=OuterSubscriber_1$1;var subscribeToResult_1$13=subscribeToResult_1$1;function bufferWhen$2(closingSelector){return this.lift(new BufferWhenOperator(closingSelector))}var bufferWhen_2=bufferWhen$2;var BufferWhenOperator=function(){function BufferWhenOperator(closingSelector){this.closingSelector=closingSelector;}BufferWhenOperator.prototype.call=function(subscriber,source){return source._subscribe(new BufferWhenSubscriber(subscriber,this.closingSelector))};return BufferWhenOperator}();var BufferWhenSubscriber=function(_super){__extends$93(BufferWhenSubscriber,_super);function BufferWhenSubscriber(destination,closingSelector){_super.call(this,destination);this.closingSelector=closingSelector;this.subscribing=false;this.openBuffer();}BufferWhenSubscriber.prototype._next=function(value){this.buffer.push(value);};BufferWhenSubscriber.prototype._complete=function(){var buffer=this.buffer;if(buffer){this.destination.next(buffer);}_super.prototype._complete.call(this);};BufferWhenSubscriber.prototype._unsubscribe=function(){this.buffer=null;this.subscribing=false;};BufferWhenSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.openBuffer();};BufferWhenSubscriber.prototype.notifyComplete=function(){if(this.subscribing){this.complete();}else{this.openBuffer();}};BufferWhenSubscriber.prototype.openBuffer=function(){var closingSubscription=this.closingSubscription;if(closingSubscription){this.remove(closingSubscription);closingSubscription.unsubscribe();}var buffer=this.buffer;if(this.buffer){this.destination.next(buffer);}this.buffer=[];var closingNotifier=tryCatch_1$8.tryCatch(this.closingSelector)();if(closingNotifier===errorObject_1$8.errorObject){this.error(errorObject_1$8.errorObject.e);}else{closingSubscription=new Subscription_1$13.Subscription;this.closingSubscription=closingSubscription;this.add(closingSubscription);this.subscribing=true;closingSubscription.add(subscribeToResult_1$13.subscribeToResult(this,closingNotifier));this.subscribing=false;}};return BufferWhenSubscriber}(OuterSubscriber_1$13.OuterSubscriber);var bufferWhen_1$1={bufferWhen:bufferWhen_2};

var Observable_1$61=Observable_1$1;var bufferWhen_1=bufferWhen_1$1;Observable_1$61.Observable.prototype.bufferWhen=bufferWhen_1.bufferWhen;

var __extends$94=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var OuterSubscriber_1$14=OuterSubscriber_1$1;var subscribeToResult_1$14=subscribeToResult_1$1;function _catch$2(selector){var operator=new CatchOperator(selector);var caught=this.lift(operator);return operator.caught=caught}var _catch_2=_catch$2;var CatchOperator=function(){function CatchOperator(selector){this.selector=selector;}CatchOperator.prototype.call=function(subscriber,source){return source._subscribe(new CatchSubscriber(subscriber,this.selector,this.caught))};return CatchOperator}();var CatchSubscriber=function(_super){__extends$94(CatchSubscriber,_super);function CatchSubscriber(destination,selector,caught){_super.call(this,destination);this.selector=selector;this.caught=caught;}CatchSubscriber.prototype.error=function(err){if(!this.isStopped){var result=void 0;try{result=this.selector(err,this.caught);}catch(err){this.destination.error(err);return}this.unsubscribe();this.destination.remove(this);subscribeToResult_1$14.subscribeToResult(this,result);}};return CatchSubscriber}(OuterSubscriber_1$14.OuterSubscriber);var _catch_1={_catch:_catch_2};

var Observable_1$62=Observable_1$1;var catch_1=_catch_1;Observable_1$62.Observable.prototype.catch=catch_1._catch;Observable_1$62.Observable.prototype._catch=catch_1._catch;

var combineLatest_1$4=combineLatest_1$2;function combineAll$2(project){return this.lift(new combineLatest_1$4.CombineLatestOperator(project))}var combineAll_2=combineAll$2;var combineAll_1$1={combineAll:combineAll_2};

var Observable_1$63=Observable_1$1;var combineAll_1=combineAll_1$1;Observable_1$63.Observable.prototype.combineAll=combineAll_1.combineAll;

var Observable_1$64=Observable_1$1;var combineLatest_1$5=combineLatest_1$2;Observable_1$64.Observable.prototype.combineLatest=combineLatest_1$5.combineLatest;

var Observable_1$65=Observable_1$1;var concat_1$4=concat_1$2;Observable_1$65.Observable.prototype.concat=concat_1$4.concat;

var mergeAll_1$4=mergeAll_1$1;function concatAll$2(){return this.lift(new mergeAll_1$4.MergeAllOperator(1))}var concatAll_2=concatAll$2;var concatAll_1$1={concatAll:concatAll_2};

var Observable_1$66=Observable_1$1;var concatAll_1=concatAll_1$1;Observable_1$66.Observable.prototype.concatAll=concatAll_1.concatAll;

var __extends$95=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var subscribeToResult_1$15=subscribeToResult_1$1;var OuterSubscriber_1$15=OuterSubscriber_1$1;function mergeMap(project,resultSelector,concurrent){if(concurrent===void 0){concurrent=Number.POSITIVE_INFINITY;}if(typeof resultSelector==='number'){concurrent=resultSelector;resultSelector=null;}return this.lift(new MergeMapOperator(project,resultSelector,concurrent))}var mergeMap_2=mergeMap;var MergeMapOperator=function(){function MergeMapOperator(project,resultSelector,concurrent){if(concurrent===void 0){concurrent=Number.POSITIVE_INFINITY;}this.project=project;this.resultSelector=resultSelector;this.concurrent=concurrent;}MergeMapOperator.prototype.call=function(observer,source){return source._subscribe(new MergeMapSubscriber(observer,this.project,this.resultSelector,this.concurrent))};return MergeMapOperator}();var MergeMapOperator_1=MergeMapOperator;var MergeMapSubscriber=function(_super){__extends$95(MergeMapSubscriber,_super);function MergeMapSubscriber(destination,project,resultSelector,concurrent){if(concurrent===void 0){concurrent=Number.POSITIVE_INFINITY;}_super.call(this,destination);this.project=project;this.resultSelector=resultSelector;this.concurrent=concurrent;this.hasCompleted=false;this.buffer=[];this.active=0;this.index=0;}MergeMapSubscriber.prototype._next=function(value){if(this.active<this.concurrent){this._tryNext(value);}else{this.buffer.push(value);}};MergeMapSubscriber.prototype._tryNext=function(value){var result;var index=this.index++;try{result=this.project(value,index);}catch(err){this.destination.error(err);return}this.active++;this._innerSub(result,value,index);};MergeMapSubscriber.prototype._innerSub=function(ish,value,index){this.add(subscribeToResult_1$15.subscribeToResult(this,ish,value,index));};MergeMapSubscriber.prototype._complete=function(){this.hasCompleted=true;if(this.active===0&&this.buffer.length===0){this.destination.complete();}};MergeMapSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){if(this.resultSelector){this._notifyResultSelector(outerValue,innerValue,outerIndex,innerIndex);}else{this.destination.next(innerValue);}};MergeMapSubscriber.prototype._notifyResultSelector=function(outerValue,innerValue,outerIndex,innerIndex){var result;try{result=this.resultSelector(outerValue,innerValue,outerIndex,innerIndex);}catch(err){this.destination.error(err);return}this.destination.next(result);};MergeMapSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub);this.active--;if(buffer.length>0){this._next(buffer.shift());}else if(this.active===0&&this.hasCompleted){this.destination.complete();}};return MergeMapSubscriber}(OuterSubscriber_1$15.OuterSubscriber);var MergeMapSubscriber_1=MergeMapSubscriber;var mergeMap_1$1={mergeMap:mergeMap_2,MergeMapOperator:MergeMapOperator_1,MergeMapSubscriber:MergeMapSubscriber_1};

var mergeMap_1=mergeMap_1$1;function concatMap$2(project,resultSelector){return this.lift(new mergeMap_1.MergeMapOperator(project,resultSelector,1))}var concatMap_2=concatMap$2;var concatMap_1$1={concatMap:concatMap_2};

var Observable_1$67=Observable_1$1;var concatMap_1=concatMap_1$1;Observable_1$67.Observable.prototype.concatMap=concatMap_1.concatMap;

var __extends$96=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var OuterSubscriber_1$16=OuterSubscriber_1$1;var subscribeToResult_1$16=subscribeToResult_1$1;function mergeMapTo(innerObservable,resultSelector,concurrent){if(concurrent===void 0){concurrent=Number.POSITIVE_INFINITY;}if(typeof resultSelector==='number'){concurrent=resultSelector;resultSelector=null;}return this.lift(new MergeMapToOperator(innerObservable,resultSelector,concurrent))}var mergeMapTo_2=mergeMapTo;var MergeMapToOperator=function(){function MergeMapToOperator(ish,resultSelector,concurrent){if(concurrent===void 0){concurrent=Number.POSITIVE_INFINITY;}this.ish=ish;this.resultSelector=resultSelector;this.concurrent=concurrent;}MergeMapToOperator.prototype.call=function(observer,source){return source._subscribe(new MergeMapToSubscriber(observer,this.ish,this.resultSelector,this.concurrent))};return MergeMapToOperator}();var MergeMapToOperator_1=MergeMapToOperator;var MergeMapToSubscriber=function(_super){__extends$96(MergeMapToSubscriber,_super);function MergeMapToSubscriber(destination,ish,resultSelector,concurrent){if(concurrent===void 0){concurrent=Number.POSITIVE_INFINITY;}_super.call(this,destination);this.ish=ish;this.resultSelector=resultSelector;this.concurrent=concurrent;this.hasCompleted=false;this.buffer=[];this.active=0;this.index=0;}MergeMapToSubscriber.prototype._next=function(value){if(this.active<this.concurrent){var resultSelector=this.resultSelector;var index=this.index++;var ish=this.ish;var destination=this.destination;this.active++;this._innerSub(ish,destination,resultSelector,value,index);}else{this.buffer.push(value);}};MergeMapToSubscriber.prototype._innerSub=function(ish,destination,resultSelector,value,index){this.add(subscribeToResult_1$16.subscribeToResult(this,ish,value,index));};MergeMapToSubscriber.prototype._complete=function(){this.hasCompleted=true;if(this.active===0&&this.buffer.length===0){this.destination.complete();}};MergeMapToSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var _a=this,resultSelector=_a.resultSelector,destination=_a.destination;if(resultSelector){this.trySelectResult(outerValue,innerValue,outerIndex,innerIndex);}else{destination.next(innerValue);}};MergeMapToSubscriber.prototype.trySelectResult=function(outerValue,innerValue,outerIndex,innerIndex){var _a=this,resultSelector=_a.resultSelector,destination=_a.destination;var result;try{result=resultSelector(outerValue,innerValue,outerIndex,innerIndex);}catch(err){destination.error(err);return}destination.next(result);};MergeMapToSubscriber.prototype.notifyError=function(err){this.destination.error(err);};MergeMapToSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub);this.active--;if(buffer.length>0){this._next(buffer.shift());}else if(this.active===0&&this.hasCompleted){this.destination.complete();}};return MergeMapToSubscriber}(OuterSubscriber_1$16.OuterSubscriber);var MergeMapToSubscriber_1=MergeMapToSubscriber;var mergeMapTo_1$1={mergeMapTo:mergeMapTo_2,MergeMapToOperator:MergeMapToOperator_1,MergeMapToSubscriber:MergeMapToSubscriber_1};

var mergeMapTo_1=mergeMapTo_1$1;function concatMapTo$2(innerObservable,resultSelector){return this.lift(new mergeMapTo_1.MergeMapToOperator(innerObservable,resultSelector,1))}var concatMapTo_2=concatMapTo$2;var concatMapTo_1$1={concatMapTo:concatMapTo_2};

var Observable_1$68=Observable_1$1;var concatMapTo_1=concatMapTo_1$1;Observable_1$68.Observable.prototype.concatMapTo=concatMapTo_1.concatMapTo;

var __extends$97=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$14=Subscriber_1$2;function count$2(predicate){return this.lift(new CountOperator(predicate,this))}var count_2=count$2;var CountOperator=function(){function CountOperator(predicate,source){this.predicate=predicate;this.source=source;}CountOperator.prototype.call=function(subscriber,source){return source._subscribe(new CountSubscriber(subscriber,this.predicate,this.source))};return CountOperator}();var CountSubscriber=function(_super){__extends$97(CountSubscriber,_super);function CountSubscriber(destination,predicate,source){_super.call(this,destination);this.predicate=predicate;this.source=source;this.count=0;this.index=0;}CountSubscriber.prototype._next=function(value){if(this.predicate){this._tryPredicate(value);}else{this.count++;}};CountSubscriber.prototype._tryPredicate=function(value){var result;try{result=this.predicate(value,this.index++,this.source);}catch(err){this.destination.error(err);return}if(result){this.count++;}};CountSubscriber.prototype._complete=function(){this.destination.next(this.count);this.destination.complete();};return CountSubscriber}(Subscriber_1$14.Subscriber);var count_1$1={count:count_2};

var Observable_1$69=Observable_1$1;var count_1=count_1$1;Observable_1$69.Observable.prototype.count=count_1.count;

var __extends$98=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$15=Subscriber_1$2;function dematerialize$2(){return this.lift(new DeMaterializeOperator)}var dematerialize_2=dematerialize$2;var DeMaterializeOperator=function(){function DeMaterializeOperator(){}DeMaterializeOperator.prototype.call=function(subscriber,source){return source._subscribe(new DeMaterializeSubscriber(subscriber))};return DeMaterializeOperator}();var DeMaterializeSubscriber=function(_super){__extends$98(DeMaterializeSubscriber,_super);function DeMaterializeSubscriber(destination){_super.call(this,destination);}DeMaterializeSubscriber.prototype._next=function(value){value.observe(this.destination);};return DeMaterializeSubscriber}(Subscriber_1$15.Subscriber);var dematerialize_1$1={dematerialize:dematerialize_2};

var Observable_1$70=Observable_1$1;var dematerialize_1=dematerialize_1$1;Observable_1$70.Observable.prototype.dematerialize=dematerialize_1.dematerialize;

var __extends$99=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var OuterSubscriber_1$17=OuterSubscriber_1$1;var subscribeToResult_1$17=subscribeToResult_1$1;function debounce$2(durationSelector){return this.lift(new DebounceOperator(durationSelector))}var debounce_2=debounce$2;var DebounceOperator=function(){function DebounceOperator(durationSelector){this.durationSelector=durationSelector;}DebounceOperator.prototype.call=function(subscriber,source){return source._subscribe(new DebounceSubscriber(subscriber,this.durationSelector))};return DebounceOperator}();var DebounceSubscriber=function(_super){__extends$99(DebounceSubscriber,_super);function DebounceSubscriber(destination,durationSelector){_super.call(this,destination);this.durationSelector=durationSelector;this.hasValue=false;this.durationSubscription=null;}DebounceSubscriber.prototype._next=function(value){try{var result=this.durationSelector.call(this,value);if(result){this._tryNext(value,result);}}catch(err){this.destination.error(err);}};DebounceSubscriber.prototype._complete=function(){this.emitValue();this.destination.complete();};DebounceSubscriber.prototype._tryNext=function(value,duration){var subscription=this.durationSubscription;this.value=value;this.hasValue=true;if(subscription){subscription.unsubscribe();this.remove(subscription);}subscription=subscribeToResult_1$17.subscribeToResult(this,duration);if(!subscription.closed){this.add(this.durationSubscription=subscription);}};DebounceSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.emitValue();};DebounceSubscriber.prototype.notifyComplete=function(){this.emitValue();};DebounceSubscriber.prototype.emitValue=function(){if(this.hasValue){var value=this.value;var subscription=this.durationSubscription;if(subscription){this.durationSubscription=null;subscription.unsubscribe();this.remove(subscription);}this.value=null;this.hasValue=false;_super.prototype._next.call(this,value);}};return DebounceSubscriber}(OuterSubscriber_1$17.OuterSubscriber);var debounce_1$1={debounce:debounce_2};

var Observable_1$71=Observable_1$1;var debounce_1=debounce_1$1;Observable_1$71.Observable.prototype.debounce=debounce_1.debounce;

var __extends$100=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$16=Subscriber_1$2;var async_1$5=async;function debounceTime$2(dueTime,scheduler){if(scheduler===void 0){scheduler=async_1$5.async;}return this.lift(new DebounceTimeOperator(dueTime,scheduler))}var debounceTime_2=debounceTime$2;var DebounceTimeOperator=function(){function DebounceTimeOperator(dueTime,scheduler){this.dueTime=dueTime;this.scheduler=scheduler;}DebounceTimeOperator.prototype.call=function(subscriber,source){return source._subscribe(new DebounceTimeSubscriber(subscriber,this.dueTime,this.scheduler))};return DebounceTimeOperator}();var DebounceTimeSubscriber=function(_super){__extends$100(DebounceTimeSubscriber,_super);function DebounceTimeSubscriber(destination,dueTime,scheduler){_super.call(this,destination);this.dueTime=dueTime;this.scheduler=scheduler;this.debouncedSubscription=null;this.lastValue=null;this.hasValue=false;}DebounceTimeSubscriber.prototype._next=function(value){this.clearDebounce();this.lastValue=value;this.hasValue=true;this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext$3,this.dueTime,this));};DebounceTimeSubscriber.prototype._complete=function(){this.debouncedNext();this.destination.complete();};DebounceTimeSubscriber.prototype.debouncedNext=function(){this.clearDebounce();if(this.hasValue){this.destination.next(this.lastValue);this.lastValue=null;this.hasValue=false;}};DebounceTimeSubscriber.prototype.clearDebounce=function(){var debouncedSubscription=this.debouncedSubscription;if(debouncedSubscription!==null){this.remove(debouncedSubscription);debouncedSubscription.unsubscribe();this.debouncedSubscription=null;}};return DebounceTimeSubscriber}(Subscriber_1$16.Subscriber);function dispatchNext$3(subscriber){subscriber.debouncedNext();}var debounceTime_1$1={debounceTime:debounceTime_2};

var Observable_1$72=Observable_1$1;var debounceTime_1=debounceTime_1$1;Observable_1$72.Observable.prototype.debounceTime=debounceTime_1.debounceTime;

var __extends$101=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$17=Subscriber_1$2;function defaultIfEmpty$2(defaultValue){if(defaultValue===void 0){defaultValue=null;}return this.lift(new DefaultIfEmptyOperator(defaultValue))}var defaultIfEmpty_2=defaultIfEmpty$2;var DefaultIfEmptyOperator=function(){function DefaultIfEmptyOperator(defaultValue){this.defaultValue=defaultValue;}DefaultIfEmptyOperator.prototype.call=function(subscriber,source){return source._subscribe(new DefaultIfEmptySubscriber(subscriber,this.defaultValue))};return DefaultIfEmptyOperator}();var DefaultIfEmptySubscriber=function(_super){__extends$101(DefaultIfEmptySubscriber,_super);function DefaultIfEmptySubscriber(destination,defaultValue){_super.call(this,destination);this.defaultValue=defaultValue;this.isEmpty=true;}DefaultIfEmptySubscriber.prototype._next=function(value){this.isEmpty=false;this.destination.next(value);};DefaultIfEmptySubscriber.prototype._complete=function(){if(this.isEmpty){this.destination.next(this.defaultValue);}this.destination.complete();};return DefaultIfEmptySubscriber}(Subscriber_1$17.Subscriber);var defaultIfEmpty_1$1={defaultIfEmpty:defaultIfEmpty_2};

var Observable_1$73=Observable_1$1;var defaultIfEmpty_1=defaultIfEmpty_1$1;Observable_1$73.Observable.prototype.defaultIfEmpty=defaultIfEmpty_1.defaultIfEmpty;

var __extends$102=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var async_1$6=async;var isDate_1$3=isDate_1$1;var Subscriber_1$18=Subscriber_1$2;var Notification_1$4=Notification_1$2;function delay$2(delay,scheduler){if(scheduler===void 0){scheduler=async_1$6.async;}var absoluteDelay=isDate_1$3.isDate(delay);var delayFor=absoluteDelay?+delay-scheduler.now():Math.abs(delay);return this.lift(new DelayOperator(delayFor,scheduler))}var delay_2=delay$2;var DelayOperator=function(){function DelayOperator(delay,scheduler){this.delay=delay;this.scheduler=scheduler;}DelayOperator.prototype.call=function(subscriber,source){return source._subscribe(new DelaySubscriber(subscriber,this.delay,this.scheduler))};return DelayOperator}();var DelaySubscriber=function(_super){__extends$102(DelaySubscriber,_super);function DelaySubscriber(destination,delay,scheduler){_super.call(this,destination);this.delay=delay;this.scheduler=scheduler;this.queue=[];this.active=false;this.errored=false;}DelaySubscriber.dispatch=function(state){var source=state.source;var queue=source.queue;var scheduler=state.scheduler;var destination=state.destination;while(queue.length>0&&queue[0].time-scheduler.now()<=0){queue.shift().notification.observe(destination);}if(queue.length>0){var delay_1=Math.max(0,queue[0].time-scheduler.now());this.schedule(state,delay_1);}else{source.active=false;}};DelaySubscriber.prototype._schedule=function(scheduler){this.active=true;this.add(scheduler.schedule(DelaySubscriber.dispatch,this.delay,{source:this,destination:this.destination,scheduler:scheduler}));};DelaySubscriber.prototype.scheduleNotification=function(notification){if(this.errored===true){return}var scheduler=this.scheduler;var message=new DelayMessage(scheduler.now()+this.delay,notification);this.queue.push(message);if(this.active===false){this._schedule(scheduler);}};DelaySubscriber.prototype._next=function(value){this.scheduleNotification(Notification_1$4.Notification.createNext(value));};DelaySubscriber.prototype._error=function(err){this.errored=true;this.queue=[];this.destination.error(err);};DelaySubscriber.prototype._complete=function(){this.scheduleNotification(Notification_1$4.Notification.createComplete());};return DelaySubscriber}(Subscriber_1$18.Subscriber);var DelayMessage=function(){function DelayMessage(time,notification){this.time=time;this.notification=notification;}return DelayMessage}();var delay_1$1={delay:delay_2};

var Observable_1$74=Observable_1$1;var delay_1=delay_1$1;Observable_1$74.Observable.prototype.delay=delay_1.delay;

var __extends$103=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$19=Subscriber_1$2;var Observable_1$76=Observable_1$1;var OuterSubscriber_1$18=OuterSubscriber_1$1;var subscribeToResult_1$18=subscribeToResult_1$1;function delayWhen$2(delayDurationSelector,subscriptionDelay){if(subscriptionDelay){return new SubscriptionDelayObservable(this,subscriptionDelay).lift(new DelayWhenOperator(delayDurationSelector))}return this.lift(new DelayWhenOperator(delayDurationSelector))}var delayWhen_2=delayWhen$2;var DelayWhenOperator=function(){function DelayWhenOperator(delayDurationSelector){this.delayDurationSelector=delayDurationSelector;}DelayWhenOperator.prototype.call=function(subscriber,source){return source._subscribe(new DelayWhenSubscriber(subscriber,this.delayDurationSelector))};return DelayWhenOperator}();var DelayWhenSubscriber=function(_super){__extends$103(DelayWhenSubscriber,_super);function DelayWhenSubscriber(destination,delayDurationSelector){_super.call(this,destination);this.delayDurationSelector=delayDurationSelector;this.completed=false;this.delayNotifierSubscriptions=[];this.values=[];}DelayWhenSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(outerValue);this.removeSubscription(innerSub);this.tryComplete();};DelayWhenSubscriber.prototype.notifyError=function(error,innerSub){this._error(error);};DelayWhenSubscriber.prototype.notifyComplete=function(innerSub){var value=this.removeSubscription(innerSub);if(value){this.destination.next(value);}this.tryComplete();};DelayWhenSubscriber.prototype._next=function(value){try{var delayNotifier=this.delayDurationSelector(value);if(delayNotifier){this.tryDelay(delayNotifier,value);}}catch(err){this.destination.error(err);}};DelayWhenSubscriber.prototype._complete=function(){this.completed=true;this.tryComplete();};DelayWhenSubscriber.prototype.removeSubscription=function(subscription){subscription.unsubscribe();var subscriptionIdx=this.delayNotifierSubscriptions.indexOf(subscription);var value=null;if(subscriptionIdx!==-1){value=this.values[subscriptionIdx];this.delayNotifierSubscriptions.splice(subscriptionIdx,1);this.values.splice(subscriptionIdx,1);}return value};DelayWhenSubscriber.prototype.tryDelay=function(delayNotifier,value){var notifierSubscription=subscribeToResult_1$18.subscribeToResult(this,delayNotifier,value);this.add(notifierSubscription);this.delayNotifierSubscriptions.push(notifierSubscription);this.values.push(value);};DelayWhenSubscriber.prototype.tryComplete=function(){if(this.completed&&this.delayNotifierSubscriptions.length===0){this.destination.complete();}};return DelayWhenSubscriber}(OuterSubscriber_1$18.OuterSubscriber);var SubscriptionDelayObservable=function(_super){__extends$103(SubscriptionDelayObservable,_super);function SubscriptionDelayObservable(source,subscriptionDelay){_super.call(this);this.source=source;this.subscriptionDelay=subscriptionDelay;}SubscriptionDelayObservable.prototype._subscribe=function(subscriber){this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(subscriber,this.source));};return SubscriptionDelayObservable}(Observable_1$76.Observable);var SubscriptionDelaySubscriber=function(_super){__extends$103(SubscriptionDelaySubscriber,_super);function SubscriptionDelaySubscriber(parent,source){_super.call(this);this.parent=parent;this.source=source;this.sourceSubscribed=false;}SubscriptionDelaySubscriber.prototype._next=function(unused){this.subscribeToSource();};SubscriptionDelaySubscriber.prototype._error=function(err){this.unsubscribe();this.parent.error(err);};SubscriptionDelaySubscriber.prototype._complete=function(){this.subscribeToSource();};SubscriptionDelaySubscriber.prototype.subscribeToSource=function(){if(!this.sourceSubscribed){this.sourceSubscribed=true;this.unsubscribe();this.source.subscribe(this.parent);}};return SubscriptionDelaySubscriber}(Subscriber_1$19.Subscriber);var delayWhen_1$1={delayWhen:delayWhen_2};

var Observable_1$75=Observable_1$1;var delayWhen_1=delayWhen_1$1;Observable_1$75.Observable.prototype.delayWhen=delayWhen_1.delayWhen;

var root_1$13=root;function minimalSetImpl(){return function(){function MinimalSet(){this._values=[];}MinimalSet.prototype.add=function(value){if(!this.has(value)){this._values.push(value);}};MinimalSet.prototype.has=function(value){return this._values.indexOf(value)!==-1};Object.defineProperty(MinimalSet.prototype,'size',{get:function get(){return this._values.length},enumerable:true,configurable:true});MinimalSet.prototype.clear=function(){this._values.length=0;};return MinimalSet}()}var minimalSetImpl_1=minimalSetImpl;var Set$1=root_1$13.root.Set||minimalSetImpl();var _Set={minimalSetImpl:minimalSetImpl_1,Set:Set$1};

var __extends$104=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var OuterSubscriber_1$19=OuterSubscriber_1$1;var subscribeToResult_1$19=subscribeToResult_1$1;var Set_1=_Set;function distinct$2(keySelector,flushes){return this.lift(new DistinctOperator(keySelector,flushes))}var distinct_2=distinct$2;var DistinctOperator=function(){function DistinctOperator(keySelector,flushes){this.keySelector=keySelector;this.flushes=flushes;}DistinctOperator.prototype.call=function(subscriber,source){return source._subscribe(new DistinctSubscriber(subscriber,this.keySelector,this.flushes))};return DistinctOperator}();var DistinctSubscriber=function(_super){__extends$104(DistinctSubscriber,_super);function DistinctSubscriber(destination,keySelector,flushes){_super.call(this,destination);this.keySelector=keySelector;this.values=new Set_1.Set;if(flushes){this.add(subscribeToResult_1$19.subscribeToResult(this,flushes));}}DistinctSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.values.clear();};DistinctSubscriber.prototype.notifyError=function(error,innerSub){this._error(error);};DistinctSubscriber.prototype._next=function(value){if(this.keySelector){this._useKeySelector(value);}else{this._finalizeNext(value,value);}};DistinctSubscriber.prototype._useKeySelector=function(value){var key;var destination=this.destination;try{key=this.keySelector(value);}catch(err){destination.error(err);return}this._finalizeNext(key,value);};DistinctSubscriber.prototype._finalizeNext=function(key,value){var values=this.values;if(!values.has(key)){values.add(key);this.destination.next(value);}};return DistinctSubscriber}(OuterSubscriber_1$19.OuterSubscriber);var DistinctSubscriber_1=DistinctSubscriber;var distinct_1$1={distinct:distinct_2,DistinctSubscriber:DistinctSubscriber_1};

var Observable_1$77=Observable_1$1;var distinct_1=distinct_1$1;Observable_1$77.Observable.prototype.distinct=distinct_1.distinct;

var __extends$105=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$20=Subscriber_1$2;var tryCatch_1$9=tryCatch_1$1;var errorObject_1$9=errorObject;function distinctUntilChanged$2(compare,keySelector){return this.lift(new DistinctUntilChangedOperator(compare,keySelector))}var distinctUntilChanged_2=distinctUntilChanged$2;var DistinctUntilChangedOperator=function(){function DistinctUntilChangedOperator(compare,keySelector){this.compare=compare;this.keySelector=keySelector;}DistinctUntilChangedOperator.prototype.call=function(subscriber,source){return source._subscribe(new DistinctUntilChangedSubscriber(subscriber,this.compare,this.keySelector))};return DistinctUntilChangedOperator}();var DistinctUntilChangedSubscriber=function(_super){__extends$105(DistinctUntilChangedSubscriber,_super);function DistinctUntilChangedSubscriber(destination,compare,keySelector){_super.call(this,destination);this.keySelector=keySelector;this.hasKey=false;if(typeof compare==='function'){this.compare=compare;}}DistinctUntilChangedSubscriber.prototype.compare=function(x,y){return x===y};DistinctUntilChangedSubscriber.prototype._next=function(value){var keySelector=this.keySelector;var key=value;if(keySelector){key=tryCatch_1$9.tryCatch(this.keySelector)(value);if(key===errorObject_1$9.errorObject){return this.destination.error(errorObject_1$9.errorObject.e)}}var result=false;if(this.hasKey){result=tryCatch_1$9.tryCatch(this.compare)(this.key,key);if(result===errorObject_1$9.errorObject){return this.destination.error(errorObject_1$9.errorObject.e)}}else{this.hasKey=true;}if(Boolean(result)===false){this.key=key;this.destination.next(value);}};return DistinctUntilChangedSubscriber}(Subscriber_1$20.Subscriber);var distinctUntilChanged_1$1={distinctUntilChanged:distinctUntilChanged_2};

var Observable_1$78=Observable_1$1;var distinctUntilChanged_1=distinctUntilChanged_1$1;Observable_1$78.Observable.prototype.distinctUntilChanged=distinctUntilChanged_1.distinctUntilChanged;

var distinctUntilChanged_1$3=distinctUntilChanged_1$1;function distinctUntilKeyChanged$2(key,compare){return distinctUntilChanged_1$3.distinctUntilChanged.call(this,function(x,y){if(compare){return compare(x[key],y[key])}return x[key]===y[key]})}var distinctUntilKeyChanged_2=distinctUntilKeyChanged$2;var distinctUntilKeyChanged_1$1={distinctUntilKeyChanged:distinctUntilKeyChanged_2};

var Observable_1$79=Observable_1$1;var distinctUntilKeyChanged_1=distinctUntilKeyChanged_1$1;Observable_1$79.Observable.prototype.distinctUntilKeyChanged=distinctUntilKeyChanged_1.distinctUntilKeyChanged;

var __extends$106=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$21=Subscriber_1$2;function _do$2(nextOrObserver,error,complete){return this.lift(new DoOperator(nextOrObserver,error,complete))}var _do_2=_do$2;var DoOperator=function(){function DoOperator(nextOrObserver,error,complete){this.nextOrObserver=nextOrObserver;this.error=error;this.complete=complete;}DoOperator.prototype.call=function(subscriber,source){return source._subscribe(new DoSubscriber(subscriber,this.nextOrObserver,this.error,this.complete))};return DoOperator}();var DoSubscriber=function(_super){__extends$106(DoSubscriber,_super);function DoSubscriber(destination,nextOrObserver,error,complete){_super.call(this,destination);var safeSubscriber=new Subscriber_1$21.Subscriber(nextOrObserver,error,complete);safeSubscriber.syncErrorThrowable=true;this.add(safeSubscriber);this.safeSubscriber=safeSubscriber;}DoSubscriber.prototype._next=function(value){var safeSubscriber=this.safeSubscriber;safeSubscriber.next(value);if(safeSubscriber.syncErrorThrown){this.destination.error(safeSubscriber.syncErrorValue);}else{this.destination.next(value);}};DoSubscriber.prototype._error=function(err){var safeSubscriber=this.safeSubscriber;safeSubscriber.error(err);if(safeSubscriber.syncErrorThrown){this.destination.error(safeSubscriber.syncErrorValue);}else{this.destination.error(err);}};DoSubscriber.prototype._complete=function(){var safeSubscriber=this.safeSubscriber;safeSubscriber.complete();if(safeSubscriber.syncErrorThrown){this.destination.error(safeSubscriber.syncErrorValue);}else{this.destination.complete();}};return DoSubscriber}(Subscriber_1$21.Subscriber);var _do_1={_do:_do_2};

var Observable_1$80=Observable_1$1;var do_1=_do_1;Observable_1$80.Observable.prototype.do=do_1._do;Observable_1$80.Observable.prototype._do=do_1._do;

var __extends$107=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var OuterSubscriber_1$20=OuterSubscriber_1$1;var subscribeToResult_1$20=subscribeToResult_1$1;function exhaust$2(){return this.lift(new SwitchFirstOperator)}var exhaust_2=exhaust$2;var SwitchFirstOperator=function(){function SwitchFirstOperator(){}SwitchFirstOperator.prototype.call=function(subscriber,source){return source._subscribe(new SwitchFirstSubscriber(subscriber))};return SwitchFirstOperator}();var SwitchFirstSubscriber=function(_super){__extends$107(SwitchFirstSubscriber,_super);function SwitchFirstSubscriber(destination){_super.call(this,destination);this.hasCompleted=false;this.hasSubscription=false;}SwitchFirstSubscriber.prototype._next=function(value){if(!this.hasSubscription){this.hasSubscription=true;this.add(subscribeToResult_1$20.subscribeToResult(this,value));}};SwitchFirstSubscriber.prototype._complete=function(){this.hasCompleted=true;if(!this.hasSubscription){this.destination.complete();}};SwitchFirstSubscriber.prototype.notifyComplete=function(innerSub){this.remove(innerSub);this.hasSubscription=false;if(this.hasCompleted){this.destination.complete();}};return SwitchFirstSubscriber}(OuterSubscriber_1$20.OuterSubscriber);var exhaust_1$1={exhaust:exhaust_2};

var Observable_1$81=Observable_1$1;var exhaust_1=exhaust_1$1;Observable_1$81.Observable.prototype.exhaust=exhaust_1.exhaust;

var __extends$108=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var OuterSubscriber_1$21=OuterSubscriber_1$1;var subscribeToResult_1$21=subscribeToResult_1$1;function exhaustMap$2(project,resultSelector){return this.lift(new SwitchFirstMapOperator(project,resultSelector))}var exhaustMap_2=exhaustMap$2;var SwitchFirstMapOperator=function(){function SwitchFirstMapOperator(project,resultSelector){this.project=project;this.resultSelector=resultSelector;}SwitchFirstMapOperator.prototype.call=function(subscriber,source){return source._subscribe(new SwitchFirstMapSubscriber(subscriber,this.project,this.resultSelector))};return SwitchFirstMapOperator}();var SwitchFirstMapSubscriber=function(_super){__extends$108(SwitchFirstMapSubscriber,_super);function SwitchFirstMapSubscriber(destination,project,resultSelector){_super.call(this,destination);this.project=project;this.resultSelector=resultSelector;this.hasSubscription=false;this.hasCompleted=false;this.index=0;}SwitchFirstMapSubscriber.prototype._next=function(value){if(!this.hasSubscription){this.tryNext(value);}};SwitchFirstMapSubscriber.prototype.tryNext=function(value){var index=this.index++;var destination=this.destination;try{var result=this.project(value,index);this.hasSubscription=true;this.add(subscribeToResult_1$21.subscribeToResult(this,result,value,index));}catch(err){destination.error(err);}};SwitchFirstMapSubscriber.prototype._complete=function(){this.hasCompleted=true;if(!this.hasSubscription){this.destination.complete();}};SwitchFirstMapSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var _a=this,resultSelector=_a.resultSelector,destination=_a.destination;if(resultSelector){this.trySelectResult(outerValue,innerValue,outerIndex,innerIndex);}else{destination.next(innerValue);}};SwitchFirstMapSubscriber.prototype.trySelectResult=function(outerValue,innerValue,outerIndex,innerIndex){var _a=this,resultSelector=_a.resultSelector,destination=_a.destination;try{var result=resultSelector(outerValue,innerValue,outerIndex,innerIndex);destination.next(result);}catch(err){destination.error(err);}};SwitchFirstMapSubscriber.prototype.notifyError=function(err){this.destination.error(err);};SwitchFirstMapSubscriber.prototype.notifyComplete=function(innerSub){this.remove(innerSub);this.hasSubscription=false;if(this.hasCompleted){this.destination.complete();}};return SwitchFirstMapSubscriber}(OuterSubscriber_1$21.OuterSubscriber);var exhaustMap_1$1={exhaustMap:exhaustMap_2};

var Observable_1$82=Observable_1$1;var exhaustMap_1=exhaustMap_1$1;Observable_1$82.Observable.prototype.exhaustMap=exhaustMap_1.exhaustMap;

var __extends$109=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var tryCatch_1$10=tryCatch_1$1;var errorObject_1$10=errorObject;var OuterSubscriber_1$22=OuterSubscriber_1$1;var subscribeToResult_1$22=subscribeToResult_1$1;function expand$2(project,concurrent,scheduler){if(concurrent===void 0){concurrent=Number.POSITIVE_INFINITY;}if(scheduler===void 0){scheduler=undefined;}concurrent=(concurrent||0)<1?Number.POSITIVE_INFINITY:concurrent;return this.lift(new ExpandOperator(project,concurrent,scheduler))}var expand_2=expand$2;var ExpandOperator=function(){function ExpandOperator(project,concurrent,scheduler){this.project=project;this.concurrent=concurrent;this.scheduler=scheduler;}ExpandOperator.prototype.call=function(subscriber,source){return source._subscribe(new ExpandSubscriber(subscriber,this.project,this.concurrent,this.scheduler))};return ExpandOperator}();var ExpandOperator_1=ExpandOperator;var ExpandSubscriber=function(_super){__extends$109(ExpandSubscriber,_super);function ExpandSubscriber(destination,project,concurrent,scheduler){_super.call(this,destination);this.project=project;this.concurrent=concurrent;this.scheduler=scheduler;this.index=0;this.active=0;this.hasCompleted=false;if(concurrent<Number.POSITIVE_INFINITY){this.buffer=[];}}ExpandSubscriber.dispatch=function(arg){var subscriber=arg.subscriber,result=arg.result,value=arg.value,index=arg.index;subscriber.subscribeToProjection(result,value,index);};ExpandSubscriber.prototype._next=function(value){var destination=this.destination;if(destination.closed){this._complete();return}var index=this.index++;if(this.active<this.concurrent){destination.next(value);var result=tryCatch_1$10.tryCatch(this.project)(value,index);if(result===errorObject_1$10.errorObject){destination.error(errorObject_1$10.errorObject.e);}else if(!this.scheduler){this.subscribeToProjection(result,value,index);}else{var state={subscriber:this,result:result,value:value,index:index};this.add(this.scheduler.schedule(ExpandSubscriber.dispatch,0,state));}}else{this.buffer.push(value);}};ExpandSubscriber.prototype.subscribeToProjection=function(result,value,index){this.active++;this.add(subscribeToResult_1$22.subscribeToResult(this,result,value,index));};ExpandSubscriber.prototype._complete=function(){this.hasCompleted=true;if(this.hasCompleted&&this.active===0){this.destination.complete();}};ExpandSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this._next(innerValue);};ExpandSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub);this.active--;if(buffer&&buffer.length>0){this._next(buffer.shift());}if(this.hasCompleted&&this.active===0){this.destination.complete();}};return ExpandSubscriber}(OuterSubscriber_1$22.OuterSubscriber);var ExpandSubscriber_1=ExpandSubscriber;var expand_1$1={expand:expand_2,ExpandOperator:ExpandOperator_1,ExpandSubscriber:ExpandSubscriber_1};

var Observable_1$83=Observable_1$1;var expand_1=expand_1$1;Observable_1$83.Observable.prototype.expand=expand_1.expand;

var __extends$111=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var ArgumentOutOfRangeError$1=function(_super){__extends$111(ArgumentOutOfRangeError,_super);function ArgumentOutOfRangeError(){var err=_super.call(this,'argument out of range');this.name=err.name='ArgumentOutOfRangeError';this.stack=err.stack;this.message=err.message;}return ArgumentOutOfRangeError}(Error);var ArgumentOutOfRangeError_2=ArgumentOutOfRangeError$1;var ArgumentOutOfRangeError_1$2={ArgumentOutOfRangeError:ArgumentOutOfRangeError_2};

var __extends$110=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$22=Subscriber_1$2;var ArgumentOutOfRangeError_1$1=ArgumentOutOfRangeError_1$2;function elementAt$2(index,defaultValue){return this.lift(new ElementAtOperator(index,defaultValue))}var elementAt_2=elementAt$2;var ElementAtOperator=function(){function ElementAtOperator(index,defaultValue){this.index=index;this.defaultValue=defaultValue;if(index<0){throw new ArgumentOutOfRangeError_1$1.ArgumentOutOfRangeError}}ElementAtOperator.prototype.call=function(subscriber,source){return source._subscribe(new ElementAtSubscriber(subscriber,this.index,this.defaultValue))};return ElementAtOperator}();var ElementAtSubscriber=function(_super){__extends$110(ElementAtSubscriber,_super);function ElementAtSubscriber(destination,index,defaultValue){_super.call(this,destination);this.index=index;this.defaultValue=defaultValue;}ElementAtSubscriber.prototype._next=function(x){if(this.index--===0){this.destination.next(x);this.destination.complete();}};ElementAtSubscriber.prototype._complete=function(){var destination=this.destination;if(this.index>=0){if(typeof this.defaultValue!=='undefined'){destination.next(this.defaultValue);}else{destination.error(new ArgumentOutOfRangeError_1$1.ArgumentOutOfRangeError);}}destination.complete();};return ElementAtSubscriber}(Subscriber_1$22.Subscriber);var elementAt_1$1={elementAt:elementAt_2};

var Observable_1$84=Observable_1$1;var elementAt_1=elementAt_1$1;Observable_1$84.Observable.prototype.elementAt=elementAt_1.elementAt;

var __extends$112=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$23=Subscriber_1$2;function filter$2(predicate,thisArg){return this.lift(new FilterOperator(predicate,thisArg))}var filter_2=filter$2;var FilterOperator=function(){function FilterOperator(predicate,thisArg){this.predicate=predicate;this.thisArg=thisArg;}FilterOperator.prototype.call=function(subscriber,source){return source._subscribe(new FilterSubscriber(subscriber,this.predicate,this.thisArg))};return FilterOperator}();var FilterSubscriber=function(_super){__extends$112(FilterSubscriber,_super);function FilterSubscriber(destination,predicate,thisArg){_super.call(this,destination);this.predicate=predicate;this.thisArg=thisArg;this.count=0;this.predicate=predicate;}FilterSubscriber.prototype._next=function(value){var result;try{result=this.predicate.call(this.thisArg,value,this.count++);}catch(err){this.destination.error(err);return}if(result){this.destination.next(value);}};return FilterSubscriber}(Subscriber_1$23.Subscriber);var filter_1$1={filter:filter_2};

var Observable_1$85=Observable_1$1;var filter_1=filter_1$1;Observable_1$85.Observable.prototype.filter=filter_1.filter;

var __extends$113=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$24=Subscriber_1$2;var Subscription_1$14=Subscription_1$2;function _finally$2(callback){return this.lift(new FinallyOperator(callback))}var _finally_2=_finally$2;var FinallyOperator=function(){function FinallyOperator(callback){this.callback=callback;}FinallyOperator.prototype.call=function(subscriber,source){return source._subscribe(new FinallySubscriber(subscriber,this.callback))};return FinallyOperator}();var FinallySubscriber=function(_super){__extends$113(FinallySubscriber,_super);function FinallySubscriber(destination,callback){_super.call(this,destination);this.add(new Subscription_1$14.Subscription(callback));}return FinallySubscriber}(Subscriber_1$24.Subscriber);var _finally_1={_finally:_finally_2};

var Observable_1$86=Observable_1$1;var finally_1=_finally_1;Observable_1$86.Observable.prototype.finally=finally_1._finally;Observable_1$86.Observable.prototype._finally=finally_1._finally;

var __extends$114=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$25=Subscriber_1$2;function find$2(predicate,thisArg){if(typeof predicate!=='function'){throw new TypeError('predicate is not a function')}return this.lift(new FindValueOperator(predicate,this,false,thisArg))}var find_2=find$2;var FindValueOperator=function(){function FindValueOperator(predicate,source,yieldIndex,thisArg){this.predicate=predicate;this.source=source;this.yieldIndex=yieldIndex;this.thisArg=thisArg;}FindValueOperator.prototype.call=function(observer,source){return source._subscribe(new FindValueSubscriber(observer,this.predicate,this.source,this.yieldIndex,this.thisArg))};return FindValueOperator}();var FindValueOperator_1=FindValueOperator;var FindValueSubscriber=function(_super){__extends$114(FindValueSubscriber,_super);function FindValueSubscriber(destination,predicate,source,yieldIndex,thisArg){_super.call(this,destination);this.predicate=predicate;this.source=source;this.yieldIndex=yieldIndex;this.thisArg=thisArg;this.index=0;}FindValueSubscriber.prototype.notifyComplete=function(value){var destination=this.destination;destination.next(value);destination.complete();};FindValueSubscriber.prototype._next=function(value){var _a=this,predicate=_a.predicate,thisArg=_a.thisArg;var index=this.index++;try{var result=predicate.call(thisArg||this,value,index,this.source);if(result){this.notifyComplete(this.yieldIndex?index:value);}}catch(err){this.destination.error(err);}};FindValueSubscriber.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:undefined);};return FindValueSubscriber}(Subscriber_1$25.Subscriber);var FindValueSubscriber_1=FindValueSubscriber;var find_1$1={find:find_2,FindValueOperator:FindValueOperator_1,FindValueSubscriber:FindValueSubscriber_1};

var Observable_1$87=Observable_1$1;var find_1=find_1$1;Observable_1$87.Observable.prototype.find=find_1.find;

var find_1$3=find_1$1;function findIndex$2(predicate,thisArg){return this.lift(new find_1$3.FindValueOperator(predicate,this,true,thisArg))}var findIndex_2=findIndex$2;var findIndex_1$1={findIndex:findIndex_2};

var Observable_1$88=Observable_1$1;var findIndex_1=findIndex_1$1;Observable_1$88.Observable.prototype.findIndex=findIndex_1.findIndex;

var __extends$116=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var EmptyError$1=function(_super){__extends$116(EmptyError,_super);function EmptyError(){var err=_super.call(this,'no elements in sequence');this.name=err.name='EmptyError';this.stack=err.stack;this.message=err.message;}return EmptyError}(Error);var EmptyError_2=EmptyError$1;var EmptyError_1$2={EmptyError:EmptyError_2};

var __extends$115=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$26=Subscriber_1$2;var EmptyError_1$1=EmptyError_1$2;function first$2(predicate,resultSelector,defaultValue){return this.lift(new FirstOperator(predicate,resultSelector,defaultValue,this))}var first_2=first$2;var FirstOperator=function(){function FirstOperator(predicate,resultSelector,defaultValue,source){this.predicate=predicate;this.resultSelector=resultSelector;this.defaultValue=defaultValue;this.source=source;}FirstOperator.prototype.call=function(observer,source){return source._subscribe(new FirstSubscriber(observer,this.predicate,this.resultSelector,this.defaultValue,this.source))};return FirstOperator}();var FirstSubscriber=function(_super){__extends$115(FirstSubscriber,_super);function FirstSubscriber(destination,predicate,resultSelector,defaultValue,source){_super.call(this,destination);this.predicate=predicate;this.resultSelector=resultSelector;this.defaultValue=defaultValue;this.source=source;this.index=0;this.hasCompleted=false;this._emitted=false;}FirstSubscriber.prototype._next=function(value){var index=this.index++;if(this.predicate){this._tryPredicate(value,index);}else{this._emit(value,index);}};FirstSubscriber.prototype._tryPredicate=function(value,index){var result;try{result=this.predicate(value,index,this.source);}catch(err){this.destination.error(err);return}if(result){this._emit(value,index);}};FirstSubscriber.prototype._emit=function(value,index){if(this.resultSelector){this._tryResultSelector(value,index);return}this._emitFinal(value);};FirstSubscriber.prototype._tryResultSelector=function(value,index){var result;try{result=this.resultSelector(value,index);}catch(err){this.destination.error(err);return}this._emitFinal(result);};FirstSubscriber.prototype._emitFinal=function(value){var destination=this.destination;if(!this._emitted){this._emitted=true;destination.next(value);destination.complete();this.hasCompleted=true;}};FirstSubscriber.prototype._complete=function(){var destination=this.destination;if(!this.hasCompleted&&typeof this.defaultValue!=='undefined'){destination.next(this.defaultValue);destination.complete();}else if(!this.hasCompleted){destination.error(new EmptyError_1$1.EmptyError);}};return FirstSubscriber}(Subscriber_1$26.Subscriber);var first_1$1={first:first_2};

var Observable_1$89=Observable_1$1;var first_1=first_1$1;Observable_1$89.Observable.prototype.first=first_1.first;

var MapPolyfill=function(){function MapPolyfill(){this.size=0;this._values=[];this._keys=[];}MapPolyfill.prototype.get=function(key){var i=this._keys.indexOf(key);return i===-1?undefined:this._values[i]};MapPolyfill.prototype.set=function(key,value){var i=this._keys.indexOf(key);if(i===-1){this._keys.push(key);this._values.push(value);this.size++;}else{this._values[i]=value;}return this};MapPolyfill.prototype.delete=function(key){var i=this._keys.indexOf(key);if(i===-1){return false}this._values.splice(i,1);this._keys.splice(i,1);this.size--;return true};MapPolyfill.prototype.clear=function(){this._keys.length=0;this._values.length=0;this.size=0;};MapPolyfill.prototype.forEach=function(cb,thisArg){for(var i=0;i<this.size;i++){cb.call(thisArg,this._values[i],this._keys[i]);}};return MapPolyfill}();var MapPolyfill_2=MapPolyfill;var MapPolyfill_1$1={MapPolyfill:MapPolyfill_2};

var root_1$14=root;var MapPolyfill_1=MapPolyfill_1$1;var Map$1=root_1$14.root.Map||function(){return MapPolyfill_1.MapPolyfill}();var _Map={Map:Map$1};

var FastMap=function(){function FastMap(){this.values={};}FastMap.prototype.delete=function(key){this.values[key]=null;return true};FastMap.prototype.set=function(key,value){this.values[key]=value;return this};FastMap.prototype.get=function(key){return this.values[key]};FastMap.prototype.forEach=function(cb,thisArg){var values=this.values;for(var key in values){if(values.hasOwnProperty(key)&&values[key]!==null){cb.call(thisArg,values[key],key);}}};FastMap.prototype.clear=function(){this.values={};};return FastMap}();var FastMap_2=FastMap;var FastMap_1$1={FastMap:FastMap_2};

var __extends$117=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$27=Subscriber_1$2;var Subscription_1$15=Subscription_1$2;var Observable_1$91=Observable_1$1;var Subject_1$6=Subject_1;var Map_1=_Map;var FastMap_1=FastMap_1$1;function groupBy$2(keySelector,elementSelector,durationSelector,subjectSelector){return this.lift(new GroupByOperator(keySelector,elementSelector,durationSelector,subjectSelector))}var groupBy_2=groupBy$2;var GroupByOperator=function(){function GroupByOperator(keySelector,elementSelector,durationSelector,subjectSelector){this.keySelector=keySelector;this.elementSelector=elementSelector;this.durationSelector=durationSelector;this.subjectSelector=subjectSelector;}GroupByOperator.prototype.call=function(subscriber,source){return source._subscribe(new GroupBySubscriber(subscriber,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))};return GroupByOperator}();var GroupBySubscriber=function(_super){__extends$117(GroupBySubscriber,_super);function GroupBySubscriber(destination,keySelector,elementSelector,durationSelector,subjectSelector){_super.call(this,destination);this.keySelector=keySelector;this.elementSelector=elementSelector;this.durationSelector=durationSelector;this.subjectSelector=subjectSelector;this.groups=null;this.attemptedToUnsubscribe=false;this.count=0;}GroupBySubscriber.prototype._next=function(value){var key;try{key=this.keySelector(value);}catch(err){this.error(err);return}this._group(value,key);};GroupBySubscriber.prototype._group=function(value,key){var groups=this.groups;if(!groups){groups=this.groups=typeof key==='string'?new FastMap_1.FastMap:new Map_1.Map;}var group=groups.get(key);var element;if(this.elementSelector){try{element=this.elementSelector(value);}catch(err){this.error(err);}}else{element=value;}if(!group){group=this.subjectSelector?this.subjectSelector():new Subject_1$6.Subject;groups.set(key,group);var groupedObservable=new GroupedObservable(key,group,this);this.destination.next(groupedObservable);if(this.durationSelector){var duration=void 0;try{duration=this.durationSelector(new GroupedObservable(key,group));}catch(err){this.error(err);return}this.add(duration.subscribe(new GroupDurationSubscriber(key,group,this)));}}if(!group.closed){group.next(element);}};GroupBySubscriber.prototype._error=function(err){var groups=this.groups;if(groups){groups.forEach(function(group,key){group.error(err);});groups.clear();}this.destination.error(err);};GroupBySubscriber.prototype._complete=function(){var groups=this.groups;if(groups){groups.forEach(function(group,key){group.complete();});groups.clear();}this.destination.complete();};GroupBySubscriber.prototype.removeGroup=function(key){this.groups.delete(key);};GroupBySubscriber.prototype.unsubscribe=function(){if(!this.closed&&!this.attemptedToUnsubscribe){this.attemptedToUnsubscribe=true;if(this.count===0){_super.prototype.unsubscribe.call(this);}}};return GroupBySubscriber}(Subscriber_1$27.Subscriber);var GroupDurationSubscriber=function(_super){__extends$117(GroupDurationSubscriber,_super);function GroupDurationSubscriber(key,group,parent){_super.call(this);this.key=key;this.group=group;this.parent=parent;}GroupDurationSubscriber.prototype._next=function(value){this._complete();};GroupDurationSubscriber.prototype._error=function(err){var group=this.group;if(!group.closed){group.error(err);}this.parent.removeGroup(this.key);};GroupDurationSubscriber.prototype._complete=function(){var group=this.group;if(!group.closed){group.complete();}this.parent.removeGroup(this.key);};return GroupDurationSubscriber}(Subscriber_1$27.Subscriber);var GroupedObservable=function(_super){__extends$117(GroupedObservable,_super);function GroupedObservable(key,groupSubject,refCountSubscription){_super.call(this);this.key=key;this.groupSubject=groupSubject;this.refCountSubscription=refCountSubscription;}GroupedObservable.prototype._subscribe=function(subscriber){var subscription=new Subscription_1$15.Subscription;var _a=this,refCountSubscription=_a.refCountSubscription,groupSubject=_a.groupSubject;if(refCountSubscription&&!refCountSubscription.closed){subscription.add(new InnerRefCountSubscription(refCountSubscription));}subscription.add(groupSubject.subscribe(subscriber));return subscription};return GroupedObservable}(Observable_1$91.Observable);var GroupedObservable_1=GroupedObservable;var InnerRefCountSubscription=function(_super){__extends$117(InnerRefCountSubscription,_super);function InnerRefCountSubscription(parent){_super.call(this);this.parent=parent;parent.count++;}InnerRefCountSubscription.prototype.unsubscribe=function(){var parent=this.parent;if(!parent.closed&&!this.closed){_super.prototype.unsubscribe.call(this);parent.count-=1;if(parent.count===0&&parent.attemptedToUnsubscribe){parent.unsubscribe();}}};return InnerRefCountSubscription}(Subscription_1$15.Subscription);var groupBy_1$1={groupBy:groupBy_2,GroupedObservable:GroupedObservable_1};

var Observable_1$90=Observable_1$1;var groupBy_1=groupBy_1$1;Observable_1$90.Observable.prototype.groupBy=groupBy_1.groupBy;

var __extends$118=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$28=Subscriber_1$2;var noop_1$3=noop_1$1;function ignoreElements$2(){return this.lift(new IgnoreElementsOperator)}var ignoreElements_2=ignoreElements$2;var IgnoreElementsOperator=function(){function IgnoreElementsOperator(){}IgnoreElementsOperator.prototype.call=function(subscriber,source){return source._subscribe(new IgnoreElementsSubscriber(subscriber))};return IgnoreElementsOperator}();var IgnoreElementsSubscriber=function(_super){__extends$118(IgnoreElementsSubscriber,_super);function IgnoreElementsSubscriber(){_super.apply(this,arguments);}IgnoreElementsSubscriber.prototype._next=function(unused){noop_1$3.noop();};return IgnoreElementsSubscriber}(Subscriber_1$28.Subscriber);var ignoreElements_1$1={ignoreElements:ignoreElements_2};

var Observable_1$92=Observable_1$1;var ignoreElements_1=ignoreElements_1$1;Observable_1$92.Observable.prototype.ignoreElements=ignoreElements_1.ignoreElements;

var __extends$119=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$29=Subscriber_1$2;function isEmpty$2(){return this.lift(new IsEmptyOperator)}var isEmpty_2=isEmpty$2;var IsEmptyOperator=function(){function IsEmptyOperator(){}IsEmptyOperator.prototype.call=function(observer,source){return source._subscribe(new IsEmptySubscriber(observer))};return IsEmptyOperator}();var IsEmptySubscriber=function(_super){__extends$119(IsEmptySubscriber,_super);function IsEmptySubscriber(destination){_super.call(this,destination);}IsEmptySubscriber.prototype.notifyComplete=function(isEmpty){var destination=this.destination;destination.next(isEmpty);destination.complete();};IsEmptySubscriber.prototype._next=function(value){this.notifyComplete(false);};IsEmptySubscriber.prototype._complete=function(){this.notifyComplete(true);};return IsEmptySubscriber}(Subscriber_1$29.Subscriber);var isEmpty_1$1={isEmpty:isEmpty_2};

var Observable_1$93=Observable_1$1;var isEmpty_1=isEmpty_1$1;Observable_1$93.Observable.prototype.isEmpty=isEmpty_1.isEmpty;

var __extends$120=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var tryCatch_1$11=tryCatch_1$1;var errorObject_1$11=errorObject;var OuterSubscriber_1$23=OuterSubscriber_1$1;var subscribeToResult_1$23=subscribeToResult_1$1;function audit$2(durationSelector){return this.lift(new AuditOperator(durationSelector))}var audit_2=audit$2;var AuditOperator=function(){function AuditOperator(durationSelector){this.durationSelector=durationSelector;}AuditOperator.prototype.call=function(subscriber,source){return source._subscribe(new AuditSubscriber(subscriber,this.durationSelector))};return AuditOperator}();var AuditSubscriber=function(_super){__extends$120(AuditSubscriber,_super);function AuditSubscriber(destination,durationSelector){_super.call(this,destination);this.durationSelector=durationSelector;this.hasValue=false;}AuditSubscriber.prototype._next=function(value){this.value=value;this.hasValue=true;if(!this.throttled){var duration=tryCatch_1$11.tryCatch(this.durationSelector)(value);if(duration===errorObject_1$11.errorObject){this.destination.error(errorObject_1$11.errorObject.e);}else{this.add(this.throttled=subscribeToResult_1$23.subscribeToResult(this,duration));}}};AuditSubscriber.prototype.clearThrottle=function(){var _a=this,value=_a.value,hasValue=_a.hasValue,throttled=_a.throttled;if(throttled){this.remove(throttled);this.throttled=null;throttled.unsubscribe();}if(hasValue){this.value=null;this.hasValue=false;this.destination.next(value);}};AuditSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex){this.clearThrottle();};AuditSubscriber.prototype.notifyComplete=function(){this.clearThrottle();};return AuditSubscriber}(OuterSubscriber_1$23.OuterSubscriber);var audit_1$1={audit:audit_2};

var Observable_1$94=Observable_1$1;var audit_1=audit_1$1;Observable_1$94.Observable.prototype.audit=audit_1.audit;

var __extends$121=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var async_1$7=async;var Subscriber_1$30=Subscriber_1$2;function auditTime$2(duration,scheduler){if(scheduler===void 0){scheduler=async_1$7.async;}return this.lift(new AuditTimeOperator(duration,scheduler))}var auditTime_2=auditTime$2;var AuditTimeOperator=function(){function AuditTimeOperator(duration,scheduler){this.duration=duration;this.scheduler=scheduler;}AuditTimeOperator.prototype.call=function(subscriber,source){return source._subscribe(new AuditTimeSubscriber(subscriber,this.duration,this.scheduler))};return AuditTimeOperator}();var AuditTimeSubscriber=function(_super){__extends$121(AuditTimeSubscriber,_super);function AuditTimeSubscriber(destination,duration,scheduler){_super.call(this,destination);this.duration=duration;this.scheduler=scheduler;this.hasValue=false;}AuditTimeSubscriber.prototype._next=function(value){this.value=value;this.hasValue=true;if(!this.throttled){this.add(this.throttled=this.scheduler.schedule(dispatchNext$4,this.duration,this));}};AuditTimeSubscriber.prototype.clearThrottle=function(){var _a=this,value=_a.value,hasValue=_a.hasValue,throttled=_a.throttled;if(throttled){this.remove(throttled);this.throttled=null;throttled.unsubscribe();}if(hasValue){this.value=null;this.hasValue=false;this.destination.next(value);}};return AuditTimeSubscriber}(Subscriber_1$30.Subscriber);function dispatchNext$4(subscriber){subscriber.clearThrottle();}var auditTime_1$1={auditTime:auditTime_2};

var Observable_1$95=Observable_1$1;var auditTime_1=auditTime_1$1;Observable_1$95.Observable.prototype.auditTime=auditTime_1.auditTime;

var __extends$122=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$31=Subscriber_1$2;var EmptyError_1$4=EmptyError_1$2;function last$2(predicate,resultSelector,defaultValue){return this.lift(new LastOperator(predicate,resultSelector,defaultValue,this))}var last_2=last$2;var LastOperator=function(){function LastOperator(predicate,resultSelector,defaultValue,source){this.predicate=predicate;this.resultSelector=resultSelector;this.defaultValue=defaultValue;this.source=source;}LastOperator.prototype.call=function(observer,source){return source._subscribe(new LastSubscriber(observer,this.predicate,this.resultSelector,this.defaultValue,this.source))};return LastOperator}();var LastSubscriber=function(_super){__extends$122(LastSubscriber,_super);function LastSubscriber(destination,predicate,resultSelector,defaultValue,source){_super.call(this,destination);this.predicate=predicate;this.resultSelector=resultSelector;this.defaultValue=defaultValue;this.source=source;this.hasValue=false;this.index=0;if(typeof defaultValue!=='undefined'){this.lastValue=defaultValue;this.hasValue=true;}}LastSubscriber.prototype._next=function(value){var index=this.index++;if(this.predicate){this._tryPredicate(value,index);}else{if(this.resultSelector){this._tryResultSelector(value,index);return}this.lastValue=value;this.hasValue=true;}};LastSubscriber.prototype._tryPredicate=function(value,index){var result;try{result=this.predicate(value,index,this.source);}catch(err){this.destination.error(err);return}if(result){if(this.resultSelector){this._tryResultSelector(value,index);return}this.lastValue=value;this.hasValue=true;}};LastSubscriber.prototype._tryResultSelector=function(value,index){var result;try{result=this.resultSelector(value,index);}catch(err){this.destination.error(err);return}this.lastValue=result;this.hasValue=true;};LastSubscriber.prototype._complete=function(){var destination=this.destination;if(this.hasValue){destination.next(this.lastValue);destination.complete();}else{destination.error(new EmptyError_1$4.EmptyError);}};return LastSubscriber}(Subscriber_1$31.Subscriber);var last_1$1={last:last_2};

var Observable_1$96=Observable_1$1;var last_1=last_1$1;Observable_1$96.Observable.prototype.last=last_1.last;

function letProto(func){return func(this)}var letProto_1=letProto;var _let$2={letProto:letProto_1};

var Observable_1$97=Observable_1$1;var let_1=_let$2;Observable_1$97.Observable.prototype.let=let_1.letProto;Observable_1$97.Observable.prototype.letBind=let_1.letProto;

var __extends$123=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$32=Subscriber_1$2;function every$2(predicate,thisArg){return this.lift(new EveryOperator(predicate,thisArg,this))}var every_2=every$2;var EveryOperator=function(){function EveryOperator(predicate,thisArg,source){this.predicate=predicate;this.thisArg=thisArg;this.source=source;}EveryOperator.prototype.call=function(observer,source){return source._subscribe(new EverySubscriber(observer,this.predicate,this.thisArg,this.source))};return EveryOperator}();var EverySubscriber=function(_super){__extends$123(EverySubscriber,_super);function EverySubscriber(destination,predicate,thisArg,source){_super.call(this,destination);this.predicate=predicate;this.thisArg=thisArg;this.source=source;this.index=0;this.thisArg=thisArg||this;}EverySubscriber.prototype.notifyComplete=function(everyValueMatch){this.destination.next(everyValueMatch);this.destination.complete();};EverySubscriber.prototype._next=function(value){var result=false;try{result=this.predicate.call(this.thisArg,value,this.index++,this.source);}catch(err){this.destination.error(err);return}if(!result){this.notifyComplete(false);}};EverySubscriber.prototype._complete=function(){this.notifyComplete(true);};return EverySubscriber}(Subscriber_1$32.Subscriber);var every_1$1={every:every_2};

var Observable_1$98=Observable_1$1;var every_1=every_1$1;Observable_1$98.Observable.prototype.every=every_1.every;

var Observable_1$99=Observable_1$1;var map_1$3=map_1$1;Observable_1$99.Observable.prototype.map=map_1$3.map;

var __extends$124=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$33=Subscriber_1$2;function mapTo$2(value){return this.lift(new MapToOperator(value))}var mapTo_2=mapTo$2;var MapToOperator=function(){function MapToOperator(value){this.value=value;}MapToOperator.prototype.call=function(subscriber,source){return source._subscribe(new MapToSubscriber(subscriber,this.value))};return MapToOperator}();var MapToSubscriber=function(_super){__extends$124(MapToSubscriber,_super);function MapToSubscriber(destination,value){_super.call(this,destination);this.value=value;}MapToSubscriber.prototype._next=function(x){this.destination.next(this.value);};return MapToSubscriber}(Subscriber_1$33.Subscriber);var mapTo_1$1={mapTo:mapTo_2};

var Observable_1$100=Observable_1$1;var mapTo_1=mapTo_1$1;Observable_1$100.Observable.prototype.mapTo=mapTo_1.mapTo;

var __extends$125=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$34=Subscriber_1$2;var Notification_1$5=Notification_1$2;function materialize$2(){return this.lift(new MaterializeOperator)}var materialize_2=materialize$2;var MaterializeOperator=function(){function MaterializeOperator(){}MaterializeOperator.prototype.call=function(subscriber,source){return source._subscribe(new MaterializeSubscriber(subscriber))};return MaterializeOperator}();var MaterializeSubscriber=function(_super){__extends$125(MaterializeSubscriber,_super);function MaterializeSubscriber(destination){_super.call(this,destination);}MaterializeSubscriber.prototype._next=function(value){this.destination.next(Notification_1$5.Notification.createNext(value));};MaterializeSubscriber.prototype._error=function(err){var destination=this.destination;destination.next(Notification_1$5.Notification.createError(err));destination.complete();};MaterializeSubscriber.prototype._complete=function(){var destination=this.destination;destination.next(Notification_1$5.Notification.createComplete());destination.complete();};return MaterializeSubscriber}(Subscriber_1$34.Subscriber);var materialize_1$1={materialize:materialize_2};

var Observable_1$101=Observable_1$1;var materialize_1=materialize_1$1;Observable_1$101.Observable.prototype.materialize=materialize_1.materialize;

var __extends$126=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$35=Subscriber_1$2;function reduce(accumulator,seed){var hasSeed=false;if(arguments.length>=2){hasSeed=true;}return this.lift(new ReduceOperator(accumulator,seed,hasSeed))}var reduce_2=reduce;var ReduceOperator=function(){function ReduceOperator(accumulator,seed,hasSeed){if(hasSeed===void 0){hasSeed=false;}this.accumulator=accumulator;this.seed=seed;this.hasSeed=hasSeed;}ReduceOperator.prototype.call=function(subscriber,source){return source._subscribe(new ReduceSubscriber(subscriber,this.accumulator,this.seed,this.hasSeed))};return ReduceOperator}();var ReduceOperator_1=ReduceOperator;var ReduceSubscriber=function(_super){__extends$126(ReduceSubscriber,_super);function ReduceSubscriber(destination,accumulator,seed,hasSeed){_super.call(this,destination);this.accumulator=accumulator;this.hasSeed=hasSeed;this.hasValue=false;this.acc=seed;}ReduceSubscriber.prototype._next=function(value){if(this.hasValue||(this.hasValue=this.hasSeed)){this._tryReduce(value);}else{this.acc=value;this.hasValue=true;}};ReduceSubscriber.prototype._tryReduce=function(value){var result;try{result=this.accumulator(this.acc,value);}catch(err){this.destination.error(err);return}this.acc=result;};ReduceSubscriber.prototype._complete=function(){if(this.hasValue||this.hasSeed){this.destination.next(this.acc);}this.destination.complete();};return ReduceSubscriber}(Subscriber_1$35.Subscriber);var ReduceSubscriber_1=ReduceSubscriber;var reduce_1$1={reduce:reduce_2,ReduceOperator:ReduceOperator_1,ReduceSubscriber:ReduceSubscriber_1};

var reduce_1=reduce_1$1;function max$2(comparer){var max=typeof comparer==='function'?function(x,y){return comparer(x,y)>0?x:y}:function(x,y){return x>y?x:y};return this.lift(new reduce_1.ReduceOperator(max))}var max_2=max$2;var max_1$1={max:max_2};

var Observable_1$102=Observable_1$1;var max_1=max_1$1;Observable_1$102.Observable.prototype.max=max_1.max;

var Observable_1$103=Observable_1$1;var merge_1$4=merge_1$2;Observable_1$103.Observable.prototype.merge=merge_1$4.merge;

var Observable_1$104=Observable_1$1;var mergeAll_1$5=mergeAll_1$1;Observable_1$104.Observable.prototype.mergeAll=mergeAll_1$5.mergeAll;

var Observable_1$105=Observable_1$1;var mergeMap_1$3=mergeMap_1$1;Observable_1$105.Observable.prototype.mergeMap=mergeMap_1$3.mergeMap;Observable_1$105.Observable.prototype.flatMap=mergeMap_1$3.mergeMap;

var Observable_1$106=Observable_1$1;var mergeMapTo_1$3=mergeMapTo_1$1;Observable_1$106.Observable.prototype.flatMapTo=mergeMapTo_1$3.mergeMapTo;Observable_1$106.Observable.prototype.mergeMapTo=mergeMapTo_1$3.mergeMapTo;

var __extends$127=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var tryCatch_1$12=tryCatch_1$1;var errorObject_1$12=errorObject;var subscribeToResult_1$24=subscribeToResult_1$1;var OuterSubscriber_1$24=OuterSubscriber_1$1;function mergeScan$2(project,seed,concurrent){if(concurrent===void 0){concurrent=Number.POSITIVE_INFINITY;}return this.lift(new MergeScanOperator(project,seed,concurrent))}var mergeScan_2=mergeScan$2;var MergeScanOperator=function(){function MergeScanOperator(project,seed,concurrent){this.project=project;this.seed=seed;this.concurrent=concurrent;}MergeScanOperator.prototype.call=function(subscriber,source){return source._subscribe(new MergeScanSubscriber(subscriber,this.project,this.seed,this.concurrent))};return MergeScanOperator}();var MergeScanOperator_1=MergeScanOperator;var MergeScanSubscriber=function(_super){__extends$127(MergeScanSubscriber,_super);function MergeScanSubscriber(destination,project,acc,concurrent){_super.call(this,destination);this.project=project;this.acc=acc;this.concurrent=concurrent;this.hasValue=false;this.hasCompleted=false;this.buffer=[];this.active=0;this.index=0;}MergeScanSubscriber.prototype._next=function(value){if(this.active<this.concurrent){var index=this.index++;var ish=tryCatch_1$12.tryCatch(this.project)(this.acc,value);var destination=this.destination;if(ish===errorObject_1$12.errorObject){destination.error(errorObject_1$12.errorObject.e);}else{this.active++;this._innerSub(ish,value,index);}}else{this.buffer.push(value);}};MergeScanSubscriber.prototype._innerSub=function(ish,value,index){this.add(subscribeToResult_1$24.subscribeToResult(this,ish,value,index));};MergeScanSubscriber.prototype._complete=function(){this.hasCompleted=true;if(this.active===0&&this.buffer.length===0){if(this.hasValue===false){this.destination.next(this.acc);}this.destination.complete();}};MergeScanSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var destination=this.destination;this.acc=innerValue;this.hasValue=true;destination.next(innerValue);};MergeScanSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub);this.active--;if(buffer.length>0){this._next(buffer.shift());}else if(this.active===0&&this.hasCompleted){if(this.hasValue===false){this.destination.next(this.acc);}this.destination.complete();}};return MergeScanSubscriber}(OuterSubscriber_1$24.OuterSubscriber);var MergeScanSubscriber_1=MergeScanSubscriber;var mergeScan_1$1={mergeScan:mergeScan_2,MergeScanOperator:MergeScanOperator_1,MergeScanSubscriber:MergeScanSubscriber_1};

var Observable_1$107=Observable_1$1;var mergeScan_1=mergeScan_1$1;Observable_1$107.Observable.prototype.mergeScan=mergeScan_1.mergeScan;

var reduce_1$3=reduce_1$1;function min$2(comparer){var min=typeof comparer==='function'?function(x,y){return comparer(x,y)<0?x:y}:function(x,y){return x<y?x:y};return this.lift(new reduce_1$3.ReduceOperator(min))}var min_2=min$2;var min_1$1={min:min_2};

var Observable_1$108=Observable_1$1;var min_1=min_1$1;Observable_1$108.Observable.prototype.min=min_1.min;

var __extends$128=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subject_1$7=Subject_1;var Observable_1$110=Observable_1$1;var Subscriber_1$36=Subscriber_1$2;var Subscription_1$16=Subscription_1$2;var ConnectableObservable$1=function(_super){__extends$128(ConnectableObservable,_super);function ConnectableObservable(source,subjectFactory){_super.call(this);this.source=source;this.subjectFactory=subjectFactory;this._refCount=0;}ConnectableObservable.prototype._subscribe=function(subscriber){return this.getSubject().subscribe(subscriber)};ConnectableObservable.prototype.getSubject=function(){var subject=this._subject;if(!subject||subject.isStopped){this._subject=this.subjectFactory();}return this._subject};ConnectableObservable.prototype.connect=function(){var connection=this._connection;if(!connection){connection=this._connection=new Subscription_1$16.Subscription;connection.add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(),this)));if(connection.closed){this._connection=null;connection=Subscription_1$16.Subscription.EMPTY;}else{this._connection=connection;}}return connection};ConnectableObservable.prototype.refCount=function(){return this.lift(new RefCountOperator(this))};return ConnectableObservable}(Observable_1$110.Observable);var ConnectableObservable_2=ConnectableObservable$1;var connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:true},_subscribe:{value:ConnectableObservable$1.prototype._subscribe},getSubject:{value:ConnectableObservable$1.prototype.getSubject},connect:{value:ConnectableObservable$1.prototype.connect},refCount:{value:ConnectableObservable$1.prototype.refCount}};var ConnectableSubscriber=function(_super){__extends$128(ConnectableSubscriber,_super);function ConnectableSubscriber(destination,connectable){_super.call(this,destination);this.connectable=connectable;}ConnectableSubscriber.prototype._error=function(err){this._unsubscribe();_super.prototype._error.call(this,err);};ConnectableSubscriber.prototype._complete=function(){this._unsubscribe();_super.prototype._complete.call(this);};ConnectableSubscriber.prototype._unsubscribe=function(){var connectable=this.connectable;if(connectable){this.connectable=null;var connection=connectable._connection;connectable._refCount=0;connectable._subject=null;connectable._connection=null;if(connection){connection.unsubscribe();}}};return ConnectableSubscriber}(Subject_1$7.SubjectSubscriber);var RefCountOperator=function(){function RefCountOperator(connectable){this.connectable=connectable;}RefCountOperator.prototype.call=function(subscriber,source){var connectable=this.connectable;connectable._refCount++;var refCounter=new RefCountSubscriber(subscriber,connectable);var subscription=source._subscribe(refCounter);if(!refCounter.closed){refCounter.connection=connectable.connect();}return subscription};return RefCountOperator}();var RefCountSubscriber=function(_super){__extends$128(RefCountSubscriber,_super);function RefCountSubscriber(destination,connectable){_super.call(this,destination);this.connectable=connectable;}RefCountSubscriber.prototype._unsubscribe=function(){var connectable=this.connectable;if(!connectable){this.connection=null;return}this.connectable=null;var refCount=connectable._refCount;if(refCount<=0){this.connection=null;return}connectable._refCount=refCount-1;if(refCount>1){this.connection=null;return}var connection=this.connection;var sharedConnection=connectable._connection;this.connection=null;if(sharedConnection&&(!connection||sharedConnection===connection)){sharedConnection.unsubscribe();}};return RefCountSubscriber}(Subscriber_1$36.Subscriber);var ConnectableObservable_1$2={ConnectableObservable:ConnectableObservable_2,connectableObservableDescriptor:connectableObservableDescriptor};

var ConnectableObservable_1$1=ConnectableObservable_1$2;function multicast$2(subjectOrSubjectFactory,selector){var subjectFactory;if(typeof subjectOrSubjectFactory==='function'){subjectFactory=subjectOrSubjectFactory;}else{subjectFactory=function subjectFactory(){return subjectOrSubjectFactory};}if(typeof selector==='function'){return this.lift(new MulticastOperator(subjectFactory,selector))}var connectable=Object.create(this,ConnectableObservable_1$1.connectableObservableDescriptor);connectable.source=this;connectable.subjectFactory=subjectFactory;return connectable}var multicast_2=multicast$2;var MulticastOperator=function(){function MulticastOperator(subjectFactory,selector){this.subjectFactory=subjectFactory;this.selector=selector;}MulticastOperator.prototype.call=function(subscriber,source){var selector=this.selector;var subject=this.subjectFactory();var subscription=selector(subject).subscribe(subscriber);subscription.add(source._subscribe(subject));return subscription};return MulticastOperator}();var MulticastOperator_1=MulticastOperator;var multicast_1$1={multicast:multicast_2,MulticastOperator:MulticastOperator_1};

var Observable_1$109=Observable_1$1;var multicast_1=multicast_1$1;Observable_1$109.Observable.prototype.multicast=multicast_1.multicast;

var Observable_1$111=Observable_1$1;var observeOn_1$4=observeOn_1$1;Observable_1$111.Observable.prototype.observeOn=observeOn_1$4.observeOn;

var Observable_1$112=Observable_1$1;var onErrorResumeNext_1$3=onErrorResumeNext_1$1;Observable_1$112.Observable.prototype.onErrorResumeNext=onErrorResumeNext_1$3.onErrorResumeNext;

var __extends$129=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$37=Subscriber_1$2;function pairwise$2(){return this.lift(new PairwiseOperator)}var pairwise_2=pairwise$2;var PairwiseOperator=function(){function PairwiseOperator(){}PairwiseOperator.prototype.call=function(subscriber,source){return source._subscribe(new PairwiseSubscriber(subscriber))};return PairwiseOperator}();var PairwiseSubscriber=function(_super){__extends$129(PairwiseSubscriber,_super);function PairwiseSubscriber(destination){_super.call(this,destination);this.hasPrev=false;}PairwiseSubscriber.prototype._next=function(value){if(this.hasPrev){this.destination.next([this.prev,value]);}else{this.hasPrev=true;}this.prev=value;};return PairwiseSubscriber}(Subscriber_1$37.Subscriber);var pairwise_1$1={pairwise:pairwise_2};

var Observable_1$113=Observable_1$1;var pairwise_1=pairwise_1$1;Observable_1$113.Observable.prototype.pairwise=pairwise_1.pairwise;

function not(pred,thisArg){function notPred(){return!notPred.pred.apply(notPred.thisArg,arguments)}notPred.pred=pred;notPred.thisArg=thisArg;return notPred}var not_2=not;var not_1$1={not:not_2};

var not_1=not_1$1;var filter_1$3=filter_1$1;function partition$2(predicate,thisArg){return[filter_1$3.filter.call(this,predicate,thisArg),filter_1$3.filter.call(this,not_1.not(predicate,thisArg))]}var partition_2=partition$2;var partition_1$1={partition:partition_2};

var Observable_1$114=Observable_1$1;var partition_1=partition_1$1;Observable_1$114.Observable.prototype.partition=partition_1.partition;

var map_1$4=map_1$1;function pluck$2(){var properties=[];for(var _i=0;_i<arguments.length;_i++){properties[_i-0]=arguments[_i];}var length=properties.length;if(length===0){throw new Error('list of properties cannot be empty.')}return map_1$4.map.call(this,plucker(properties,length))}var pluck_2=pluck$2;function plucker(props,length){var mapper=function mapper(x){var currentProp=x;for(var i=0;i<length;i++){var p=currentProp[props[i]];if(typeof p!=='undefined'){currentProp=p;}else{return undefined}}return currentProp};return mapper}var pluck_1$1={pluck:pluck_2};

var Observable_1$115=Observable_1$1;var pluck_1=pluck_1$1;Observable_1$115.Observable.prototype.pluck=pluck_1.pluck;

var Subject_1$8=Subject_1;var multicast_1$3=multicast_1$1;function publish$3(selector){return selector?multicast_1$3.multicast.call(this,function(){return new Subject_1$8.Subject},selector):multicast_1$3.multicast.call(this,new Subject_1$8.Subject)}var publish_2=publish$3;var publish_1$1={publish:publish_2};

var Observable_1$116=Observable_1$1;var publish_1=publish_1$1;Observable_1$116.Observable.prototype.publish=publish_1.publish;

var __extends$130=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subject_1$9=Subject_1;var ObjectUnsubscribedError_1$5=ObjectUnsubscribedError_1$1;var BehaviorSubject$1=function(_super){__extends$130(BehaviorSubject,_super);function BehaviorSubject(_value){_super.call(this);this._value=_value;}Object.defineProperty(BehaviorSubject.prototype,'value',{get:function get(){return this.getValue()},enumerable:true,configurable:true});BehaviorSubject.prototype._subscribe=function(subscriber){var subscription=_super.prototype._subscribe.call(this,subscriber);if(subscription&&!subscription.closed){subscriber.next(this._value);}return subscription};BehaviorSubject.prototype.getValue=function(){if(this.hasError){throw this.thrownError}else if(this.closed){throw new ObjectUnsubscribedError_1$5.ObjectUnsubscribedError}else{return this._value}};BehaviorSubject.prototype.next=function(value){_super.prototype.next.call(this,this._value=value);};return BehaviorSubject}(Subject_1$9.Subject);var BehaviorSubject_2=BehaviorSubject$1;var BehaviorSubject_1$2={BehaviorSubject:BehaviorSubject_2};

var BehaviorSubject_1$1=BehaviorSubject_1$2;var multicast_1$4=multicast_1$1;function publishBehavior$2(value){return multicast_1$4.multicast.call(this,new BehaviorSubject_1$1.BehaviorSubject(value))}var publishBehavior_2=publishBehavior$2;var publishBehavior_1$1={publishBehavior:publishBehavior_2};

var Observable_1$117=Observable_1$1;var publishBehavior_1=publishBehavior_1$1;Observable_1$117.Observable.prototype.publishBehavior=publishBehavior_1.publishBehavior;

var ReplaySubject_1$4=ReplaySubject_1$2;var multicast_1$5=multicast_1$1;function publishReplay$2(bufferSize,windowTime,scheduler){if(bufferSize===void 0){bufferSize=Number.POSITIVE_INFINITY;}if(windowTime===void 0){windowTime=Number.POSITIVE_INFINITY;}return multicast_1$5.multicast.call(this,new ReplaySubject_1$4.ReplaySubject(bufferSize,windowTime,scheduler))}var publishReplay_2=publishReplay$2;var publishReplay_1$1={publishReplay:publishReplay_2};

var Observable_1$118=Observable_1$1;var publishReplay_1=publishReplay_1$1;Observable_1$118.Observable.prototype.publishReplay=publishReplay_1.publishReplay;

var AsyncSubject_1$5=AsyncSubject_1$2;var multicast_1$6=multicast_1$1;function publishLast$2(){return multicast_1$6.multicast.call(this,new AsyncSubject_1$5.AsyncSubject)}var publishLast_2=publishLast$2;var publishLast_1$1={publishLast:publishLast_2};

var Observable_1$119=Observable_1$1;var publishLast_1=publishLast_1$1;Observable_1$119.Observable.prototype.publishLast=publishLast_1.publishLast;

var Observable_1$120=Observable_1$1;var race_1$3=race_1$1;Observable_1$120.Observable.prototype.race=race_1$3.race;

var Observable_1$121=Observable_1$1;var reduce_1$4=reduce_1$1;Observable_1$121.Observable.prototype.reduce=reduce_1$4.reduce;

var __extends$131=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$38=Subscriber_1$2;var EmptyObservable_1$6=EmptyObservable_1$1;function repeat$2(count){if(count===void 0){count=-1;}if(count===0){return new EmptyObservable_1$6.EmptyObservable}else if(count<0){return this.lift(new RepeatOperator(-1,this))}else{return this.lift(new RepeatOperator(count-1,this))}}var repeat_2=repeat$2;var RepeatOperator=function(){function RepeatOperator(count,source){this.count=count;this.source=source;}RepeatOperator.prototype.call=function(subscriber,source){return source._subscribe(new RepeatSubscriber(subscriber,this.count,this.source))};return RepeatOperator}();var RepeatSubscriber=function(_super){__extends$131(RepeatSubscriber,_super);function RepeatSubscriber(destination,count,source){_super.call(this,destination);this.count=count;this.source=source;}RepeatSubscriber.prototype.complete=function(){if(!this.isStopped){var _a=this,source=_a.source,count=_a.count;if(count===0){return _super.prototype.complete.call(this)}else if(count>-1){this.count=count-1;}this.unsubscribe();this.isStopped=false;this.closed=false;source.subscribe(this);}};return RepeatSubscriber}(Subscriber_1$38.Subscriber);var repeat_1$1={repeat:repeat_2};

var Observable_1$122=Observable_1$1;var repeat_1=repeat_1$1;Observable_1$122.Observable.prototype.repeat=repeat_1.repeat;

var __extends$132=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subject_1$10=Subject_1;var tryCatch_1$13=tryCatch_1$1;var errorObject_1$13=errorObject;var OuterSubscriber_1$25=OuterSubscriber_1$1;var subscribeToResult_1$25=subscribeToResult_1$1;function repeatWhen$2(notifier){return this.lift(new RepeatWhenOperator(notifier,this))}var repeatWhen_2=repeatWhen$2;var RepeatWhenOperator=function(){function RepeatWhenOperator(notifier,source){this.notifier=notifier;this.source=source;}RepeatWhenOperator.prototype.call=function(subscriber,source){return source._subscribe(new RepeatWhenSubscriber(subscriber,this.notifier,this.source))};return RepeatWhenOperator}();var RepeatWhenSubscriber=function(_super){__extends$132(RepeatWhenSubscriber,_super);function RepeatWhenSubscriber(destination,notifier,source){_super.call(this,destination);this.notifier=notifier;this.source=source;}RepeatWhenSubscriber.prototype.complete=function(){if(!this.isStopped){var notifications=this.notifications;var retries=this.retries;var retriesSubscription=this.retriesSubscription;if(!retries){notifications=new Subject_1$10.Subject;retries=tryCatch_1$13.tryCatch(this.notifier)(notifications);if(retries===errorObject_1$13.errorObject){return _super.prototype.complete.call(this)}retriesSubscription=subscribeToResult_1$25.subscribeToResult(this,retries);}else{this.notifications=null;this.retriesSubscription=null;}this.unsubscribe();this.closed=false;this.notifications=notifications;this.retries=retries;this.retriesSubscription=retriesSubscription;notifications.next();}};RepeatWhenSubscriber.prototype._unsubscribe=function(){var _a=this,notifications=_a.notifications,retriesSubscription=_a.retriesSubscription;if(notifications){notifications.unsubscribe();this.notifications=null;}if(retriesSubscription){retriesSubscription.unsubscribe();this.retriesSubscription=null;}this.retries=null;};RepeatWhenSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var _a=this,notifications=_a.notifications,retries=_a.retries,retriesSubscription=_a.retriesSubscription;this.notifications=null;this.retries=null;this.retriesSubscription=null;this.unsubscribe();this.isStopped=false;this.closed=false;this.notifications=notifications;this.retries=retries;this.retriesSubscription=retriesSubscription;this.source.subscribe(this);};return RepeatWhenSubscriber}(OuterSubscriber_1$25.OuterSubscriber);var repeatWhen_1$1={repeatWhen:repeatWhen_2};

var Observable_1$123=Observable_1$1;var repeatWhen_1=repeatWhen_1$1;Observable_1$123.Observable.prototype.repeatWhen=repeatWhen_1.repeatWhen;

var __extends$133=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$39=Subscriber_1$2;function retry$2(count){if(count===void 0){count=-1;}return this.lift(new RetryOperator(count,this))}var retry_2=retry$2;var RetryOperator=function(){function RetryOperator(count,source){this.count=count;this.source=source;}RetryOperator.prototype.call=function(subscriber,source){return source._subscribe(new RetrySubscriber(subscriber,this.count,this.source))};return RetryOperator}();var RetrySubscriber=function(_super){__extends$133(RetrySubscriber,_super);function RetrySubscriber(destination,count,source){_super.call(this,destination);this.count=count;this.source=source;}RetrySubscriber.prototype.error=function(err){if(!this.isStopped){var _a=this,source=_a.source,count=_a.count;if(count===0){return _super.prototype.error.call(this,err)}else if(count>-1){this.count=count-1;}this.unsubscribe();this.isStopped=false;this.closed=false;source.subscribe(this);}};return RetrySubscriber}(Subscriber_1$39.Subscriber);var retry_1$1={retry:retry_2};

var Observable_1$124=Observable_1$1;var retry_1=retry_1$1;Observable_1$124.Observable.prototype.retry=retry_1.retry;

var __extends$134=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subject_1$11=Subject_1;var tryCatch_1$14=tryCatch_1$1;var errorObject_1$14=errorObject;var OuterSubscriber_1$26=OuterSubscriber_1$1;var subscribeToResult_1$26=subscribeToResult_1$1;function retryWhen$2(notifier){return this.lift(new RetryWhenOperator(notifier,this))}var retryWhen_2=retryWhen$2;var RetryWhenOperator=function(){function RetryWhenOperator(notifier,source){this.notifier=notifier;this.source=source;}RetryWhenOperator.prototype.call=function(subscriber,source){return source._subscribe(new RetryWhenSubscriber(subscriber,this.notifier,this.source))};return RetryWhenOperator}();var RetryWhenSubscriber=function(_super){__extends$134(RetryWhenSubscriber,_super);function RetryWhenSubscriber(destination,notifier,source){_super.call(this,destination);this.notifier=notifier;this.source=source;}RetryWhenSubscriber.prototype.error=function(err){if(!this.isStopped){var errors=this.errors;var retries=this.retries;var retriesSubscription=this.retriesSubscription;if(!retries){errors=new Subject_1$11.Subject;retries=tryCatch_1$14.tryCatch(this.notifier)(errors);if(retries===errorObject_1$14.errorObject){return _super.prototype.error.call(this,errorObject_1$14.errorObject.e)}retriesSubscription=subscribeToResult_1$26.subscribeToResult(this,retries);}else{this.errors=null;this.retriesSubscription=null;}this.unsubscribe();this.closed=false;this.errors=errors;this.retries=retries;this.retriesSubscription=retriesSubscription;errors.next(err);}};RetryWhenSubscriber.prototype._unsubscribe=function(){var _a=this,errors=_a.errors,retriesSubscription=_a.retriesSubscription;if(errors){errors.unsubscribe();this.errors=null;}if(retriesSubscription){retriesSubscription.unsubscribe();this.retriesSubscription=null;}this.retries=null;};RetryWhenSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var _a=this,errors=_a.errors,retries=_a.retries,retriesSubscription=_a.retriesSubscription;this.errors=null;this.retries=null;this.retriesSubscription=null;this.unsubscribe();this.isStopped=false;this.closed=false;this.errors=errors;this.retries=retries;this.retriesSubscription=retriesSubscription;this.source.subscribe(this);};return RetryWhenSubscriber}(OuterSubscriber_1$26.OuterSubscriber);var retryWhen_1$1={retryWhen:retryWhen_2};

var Observable_1$125=Observable_1$1;var retryWhen_1=retryWhen_1$1;Observable_1$125.Observable.prototype.retryWhen=retryWhen_1.retryWhen;

var __extends$135=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var OuterSubscriber_1$27=OuterSubscriber_1$1;var subscribeToResult_1$27=subscribeToResult_1$1;function sample$2(notifier){return this.lift(new SampleOperator(notifier))}var sample_2=sample$2;var SampleOperator=function(){function SampleOperator(notifier){this.notifier=notifier;}SampleOperator.prototype.call=function(subscriber,source){var sampleSubscriber=new SampleSubscriber(subscriber);var subscription=source._subscribe(sampleSubscriber);subscription.add(subscribeToResult_1$27.subscribeToResult(sampleSubscriber,this.notifier));return subscription};return SampleOperator}();var SampleSubscriber=function(_super){__extends$135(SampleSubscriber,_super);function SampleSubscriber(){_super.apply(this,arguments);this.hasValue=false;}SampleSubscriber.prototype._next=function(value){this.value=value;this.hasValue=true;};SampleSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.emitValue();};SampleSubscriber.prototype.notifyComplete=function(){this.emitValue();};SampleSubscriber.prototype.emitValue=function(){if(this.hasValue){this.hasValue=false;this.destination.next(this.value);}};return SampleSubscriber}(OuterSubscriber_1$27.OuterSubscriber);var sample_1$1={sample:sample_2};

var Observable_1$126=Observable_1$1;var sample_1=sample_1$1;Observable_1$126.Observable.prototype.sample=sample_1.sample;

var __extends$136=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$40=Subscriber_1$2;var async_1$8=async;function sampleTime$2(period,scheduler){if(scheduler===void 0){scheduler=async_1$8.async;}return this.lift(new SampleTimeOperator(period,scheduler))}var sampleTime_2=sampleTime$2;var SampleTimeOperator=function(){function SampleTimeOperator(period,scheduler){this.period=period;this.scheduler=scheduler;}SampleTimeOperator.prototype.call=function(subscriber,source){return source._subscribe(new SampleTimeSubscriber(subscriber,this.period,this.scheduler))};return SampleTimeOperator}();var SampleTimeSubscriber=function(_super){__extends$136(SampleTimeSubscriber,_super);function SampleTimeSubscriber(destination,period,scheduler){_super.call(this,destination);this.period=period;this.scheduler=scheduler;this.hasValue=false;this.add(scheduler.schedule(dispatchNotification,period,{subscriber:this,period:period}));}SampleTimeSubscriber.prototype._next=function(value){this.lastValue=value;this.hasValue=true;};SampleTimeSubscriber.prototype.notifyNext=function(){if(this.hasValue){this.hasValue=false;this.destination.next(this.lastValue);}};return SampleTimeSubscriber}(Subscriber_1$40.Subscriber);function dispatchNotification(state){var subscriber=state.subscriber,period=state.period;subscriber.notifyNext();this.schedule(state,period);}var sampleTime_1$1={sampleTime:sampleTime_2};

var Observable_1$127=Observable_1$1;var sampleTime_1=sampleTime_1$1;Observable_1$127.Observable.prototype.sampleTime=sampleTime_1.sampleTime;

var __extends$137=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$41=Subscriber_1$2;function scan$2(accumulator,seed){var hasSeed=false;if(arguments.length>=2){hasSeed=true;}return this.lift(new ScanOperator(accumulator,seed,hasSeed))}var scan_2=scan$2;var ScanOperator=function(){function ScanOperator(accumulator,seed,hasSeed){if(hasSeed===void 0){hasSeed=false;}this.accumulator=accumulator;this.seed=seed;this.hasSeed=hasSeed;}ScanOperator.prototype.call=function(subscriber,source){return source._subscribe(new ScanSubscriber(subscriber,this.accumulator,this.seed,this.hasSeed))};return ScanOperator}();var ScanSubscriber=function(_super){__extends$137(ScanSubscriber,_super);function ScanSubscriber(destination,accumulator,_seed,hasSeed){_super.call(this,destination);this.accumulator=accumulator;this._seed=_seed;this.hasSeed=hasSeed;this.index=0;}Object.defineProperty(ScanSubscriber.prototype,'seed',{get:function get(){return this._seed},set:function set(value){this.hasSeed=true;this._seed=value;},enumerable:true,configurable:true});ScanSubscriber.prototype._next=function(value){if(!this.hasSeed){this.seed=value;this.destination.next(value);}else{return this._tryNext(value)}};ScanSubscriber.prototype._tryNext=function(value){var index=this.index++;var result;try{result=this.accumulator(this.seed,value,index);}catch(err){this.destination.error(err);}this.seed=result;this.destination.next(result);};return ScanSubscriber}(Subscriber_1$41.Subscriber);var scan_1$1={scan:scan_2};

var Observable_1$128=Observable_1$1;var scan_1=scan_1$1;Observable_1$128.Observable.prototype.scan=scan_1.scan;

var __extends$138=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$42=Subscriber_1$2;var tryCatch_1$15=tryCatch_1$1;var errorObject_1$15=errorObject;function sequenceEqual$2(compareTo,comparor){return this.lift(new SequenceEqualOperator(compareTo,comparor))}var sequenceEqual_2=sequenceEqual$2;var SequenceEqualOperator=function(){function SequenceEqualOperator(compareTo,comparor){this.compareTo=compareTo;this.comparor=comparor;}SequenceEqualOperator.prototype.call=function(subscriber,source){return source._subscribe(new SequenceEqualSubscriber(subscriber,this.compareTo,this.comparor))};return SequenceEqualOperator}();var SequenceEqualOperator_1=SequenceEqualOperator;var SequenceEqualSubscriber=function(_super){__extends$138(SequenceEqualSubscriber,_super);function SequenceEqualSubscriber(destination,compareTo,comparor){_super.call(this,destination);this.compareTo=compareTo;this.comparor=comparor;this._a=[];this._b=[];this._oneComplete=false;this.add(compareTo.subscribe(new SequenceEqualCompareToSubscriber(destination,this)));}SequenceEqualSubscriber.prototype._next=function(value){if(this._oneComplete&&this._b.length===0){this.emit(false);}else{this._a.push(value);this.checkValues();}};SequenceEqualSubscriber.prototype._complete=function(){if(this._oneComplete){this.emit(this._a.length===0&&this._b.length===0);}else{this._oneComplete=true;}};SequenceEqualSubscriber.prototype.checkValues=function(){var _c=this,_a=_c._a,_b=_c._b,comparor=_c.comparor;while(_a.length>0&&_b.length>0){var a=_a.shift();var b=_b.shift();var areEqual=false;if(comparor){areEqual=tryCatch_1$15.tryCatch(comparor)(a,b);if(areEqual===errorObject_1$15.errorObject){this.destination.error(errorObject_1$15.errorObject.e);}}else{areEqual=a===b;}if(!areEqual){this.emit(false);}}};SequenceEqualSubscriber.prototype.emit=function(value){var destination=this.destination;destination.next(value);destination.complete();};SequenceEqualSubscriber.prototype.nextB=function(value){if(this._oneComplete&&this._a.length===0){this.emit(false);}else{this._b.push(value);this.checkValues();}};return SequenceEqualSubscriber}(Subscriber_1$42.Subscriber);var SequenceEqualSubscriber_1=SequenceEqualSubscriber;var SequenceEqualCompareToSubscriber=function(_super){__extends$138(SequenceEqualCompareToSubscriber,_super);function SequenceEqualCompareToSubscriber(destination,parent){_super.call(this,destination);this.parent=parent;}SequenceEqualCompareToSubscriber.prototype._next=function(value){this.parent.nextB(value);};SequenceEqualCompareToSubscriber.prototype._error=function(err){this.parent.error(err);};SequenceEqualCompareToSubscriber.prototype._complete=function(){this.parent._complete();};return SequenceEqualCompareToSubscriber}(Subscriber_1$42.Subscriber);var sequenceEqual_1$1={sequenceEqual:sequenceEqual_2,SequenceEqualOperator:SequenceEqualOperator_1,SequenceEqualSubscriber:SequenceEqualSubscriber_1};

var Observable_1$129=Observable_1$1;var sequenceEqual_1=sequenceEqual_1$1;Observable_1$129.Observable.prototype.sequenceEqual=sequenceEqual_1.sequenceEqual;

var multicast_1$7=multicast_1$1;var Subject_1$12=Subject_1;function shareSubjectFactory(){return new Subject_1$12.Subject}function share$2(){return multicast_1$7.multicast.call(this,shareSubjectFactory).refCount()}var share_2=share$2;var share_1$1={share:share_2};

var Observable_1$130=Observable_1$1;var share_1=share_1$1;Observable_1$130.Observable.prototype.share=share_1.share;

var __extends$139=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$43=Subscriber_1$2;var EmptyError_1$5=EmptyError_1$2;function single$2(predicate){return this.lift(new SingleOperator(predicate,this))}var single_2=single$2;var SingleOperator=function(){function SingleOperator(predicate,source){this.predicate=predicate;this.source=source;}SingleOperator.prototype.call=function(subscriber,source){return source._subscribe(new SingleSubscriber(subscriber,this.predicate,this.source))};return SingleOperator}();var SingleSubscriber=function(_super){__extends$139(SingleSubscriber,_super);function SingleSubscriber(destination,predicate,source){_super.call(this,destination);this.predicate=predicate;this.source=source;this.seenValue=false;this.index=0;}SingleSubscriber.prototype.applySingleValue=function(value){if(this.seenValue){this.destination.error('Sequence contains more than one element');}else{this.seenValue=true;this.singleValue=value;}};SingleSubscriber.prototype._next=function(value){var predicate=this.predicate;this.index++;if(predicate){this.tryNext(value);}else{this.applySingleValue(value);}};SingleSubscriber.prototype.tryNext=function(value){try{var result=this.predicate(value,this.index,this.source);if(result){this.applySingleValue(value);}}catch(err){this.destination.error(err);}};SingleSubscriber.prototype._complete=function(){var destination=this.destination;if(this.index>0){destination.next(this.seenValue?this.singleValue:undefined);destination.complete();}else{destination.error(new EmptyError_1$5.EmptyError);}};return SingleSubscriber}(Subscriber_1$43.Subscriber);var single_1$1={single:single_2};

var Observable_1$131=Observable_1$1;var single_1=single_1$1;Observable_1$131.Observable.prototype.single=single_1.single;

var __extends$140=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$44=Subscriber_1$2;function skip$2(total){return this.lift(new SkipOperator(total))}var skip_2=skip$2;var SkipOperator=function(){function SkipOperator(total){this.total=total;}SkipOperator.prototype.call=function(subscriber,source){return source._subscribe(new SkipSubscriber(subscriber,this.total))};return SkipOperator}();var SkipSubscriber=function(_super){__extends$140(SkipSubscriber,_super);function SkipSubscriber(destination,total){_super.call(this,destination);this.total=total;this.count=0;}SkipSubscriber.prototype._next=function(x){if(++this.count>this.total){this.destination.next(x);}};return SkipSubscriber}(Subscriber_1$44.Subscriber);var skip_1$1={skip:skip_2};

var Observable_1$132=Observable_1$1;var skip_1=skip_1$1;Observable_1$132.Observable.prototype.skip=skip_1.skip;

var __extends$141=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var OuterSubscriber_1$28=OuterSubscriber_1$1;var subscribeToResult_1$28=subscribeToResult_1$1;function skipUntil$2(notifier){return this.lift(new SkipUntilOperator(notifier))}var skipUntil_2=skipUntil$2;var SkipUntilOperator=function(){function SkipUntilOperator(notifier){this.notifier=notifier;}SkipUntilOperator.prototype.call=function(subscriber,source){return source._subscribe(new SkipUntilSubscriber(subscriber,this.notifier))};return SkipUntilOperator}();var SkipUntilSubscriber=function(_super){__extends$141(SkipUntilSubscriber,_super);function SkipUntilSubscriber(destination,notifier){_super.call(this,destination);this.hasValue=false;this.isInnerStopped=false;this.add(subscribeToResult_1$28.subscribeToResult(this,notifier));}SkipUntilSubscriber.prototype._next=function(value){if(this.hasValue){_super.prototype._next.call(this,value);}};SkipUntilSubscriber.prototype._complete=function(){if(this.isInnerStopped){_super.prototype._complete.call(this);}else{this.unsubscribe();}};SkipUntilSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.hasValue=true;};SkipUntilSubscriber.prototype.notifyComplete=function(){this.isInnerStopped=true;if(this.isStopped){_super.prototype._complete.call(this);}};return SkipUntilSubscriber}(OuterSubscriber_1$28.OuterSubscriber);var skipUntil_1$1={skipUntil:skipUntil_2};

var Observable_1$133=Observable_1$1;var skipUntil_1=skipUntil_1$1;Observable_1$133.Observable.prototype.skipUntil=skipUntil_1.skipUntil;

var __extends$142=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$45=Subscriber_1$2;function skipWhile$2(predicate){return this.lift(new SkipWhileOperator(predicate))}var skipWhile_2=skipWhile$2;var SkipWhileOperator=function(){function SkipWhileOperator(predicate){this.predicate=predicate;}SkipWhileOperator.prototype.call=function(subscriber,source){return source._subscribe(new SkipWhileSubscriber(subscriber,this.predicate))};return SkipWhileOperator}();var SkipWhileSubscriber=function(_super){__extends$142(SkipWhileSubscriber,_super);function SkipWhileSubscriber(destination,predicate){_super.call(this,destination);this.predicate=predicate;this.skipping=true;this.index=0;}SkipWhileSubscriber.prototype._next=function(value){var destination=this.destination;if(this.skipping){this.tryCallPredicate(value);}if(!this.skipping){destination.next(value);}};SkipWhileSubscriber.prototype.tryCallPredicate=function(value){try{var result=this.predicate(value,this.index++);this.skipping=Boolean(result);}catch(err){this.destination.error(err);}};return SkipWhileSubscriber}(Subscriber_1$45.Subscriber);var skipWhile_1$1={skipWhile:skipWhile_2};

var Observable_1$134=Observable_1$1;var skipWhile_1=skipWhile_1$1;Observable_1$134.Observable.prototype.skipWhile=skipWhile_1.skipWhile;

var ArrayObservable_1$10=ArrayObservable_1$1;var ScalarObservable_1$4=ScalarObservable_1$1;var EmptyObservable_1$7=EmptyObservable_1$1;var concat_1$5=concat_1$2;var isScheduler_1$9=isScheduler_1$1;function startWith$2(){var array=[];for(var _i=0;_i<arguments.length;_i++){array[_i-0]=arguments[_i];}var scheduler=array[array.length-1];if(isScheduler_1$9.isScheduler(scheduler)){array.pop();}else{scheduler=null;}var len=array.length;if(len===1){return concat_1$5.concatStatic(new ScalarObservable_1$4.ScalarObservable(array[0],scheduler),this)}else if(len>1){return concat_1$5.concatStatic(new ArrayObservable_1$10.ArrayObservable(array,scheduler),this)}else{return concat_1$5.concatStatic(new EmptyObservable_1$7.EmptyObservable(scheduler),this)}}var startWith_2=startWith$2;var startWith_1$1={startWith:startWith_2};

var Observable_1$135=Observable_1$1;var startWith_1=startWith_1$1;Observable_1$135.Observable.prototype.startWith=startWith_1.startWith;

var root_1$15=root;var ImmediateDefinition=function(){function ImmediateDefinition(root$$1){this.root=root$$1;if(root$$1.setImmediate&&typeof root$$1.setImmediate==='function'){this.setImmediate=root$$1.setImmediate.bind(root$$1);this.clearImmediate=root$$1.clearImmediate.bind(root$$1);}else{this.nextHandle=1;this.tasksByHandle={};this.currentlyRunningATask=false;if(this.canUseProcessNextTick()){this.setImmediate=this.createProcessNextTickSetImmediate();}else if(this.canUsePostMessage()){this.setImmediate=this.createPostMessageSetImmediate();}else if(this.canUseMessageChannel()){this.setImmediate=this.createMessageChannelSetImmediate();}else if(this.canUseReadyStateChange()){this.setImmediate=this.createReadyStateChangeSetImmediate();}else{this.setImmediate=this.createSetTimeoutSetImmediate();}var ci=function clearImmediate(handle){delete clearImmediate.instance.tasksByHandle[handle];};ci.instance=this;this.clearImmediate=ci;}}ImmediateDefinition.prototype.identify=function(o){return this.root.Object.prototype.toString.call(o)};ImmediateDefinition.prototype.canUseProcessNextTick=function(){return this.identify(this.root.process)==='[object process]'};ImmediateDefinition.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)};ImmediateDefinition.prototype.canUseReadyStateChange=function(){var document=this.root.document;return Boolean(document&&'onreadystatechange'in document.createElement('script'))};ImmediateDefinition.prototype.canUsePostMessage=function(){var root$$1=this.root;if(root$$1.postMessage&&!root$$1.importScripts){var postMessageIsAsynchronous_1=true;var oldOnMessage=root$$1.onmessage;root$$1.onmessage=function(){postMessageIsAsynchronous_1=false;};root$$1.postMessage('','*');root$$1.onmessage=oldOnMessage;return postMessageIsAsynchronous_1}return false};ImmediateDefinition.prototype.partiallyApplied=function(handler){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i];}var fn=function result(){var _a=result,handler=_a.handler,args=_a.args;if(typeof handler==='function'){handler.apply(undefined,args);}else{new Function(''+handler)();}};fn.handler=handler;fn.args=args;return fn};ImmediateDefinition.prototype.addFromSetImmediateArguments=function(args){this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(undefined,args);return this.nextHandle++};ImmediateDefinition.prototype.createProcessNextTickSetImmediate=function(){var fn=function setImmediate(){var instance=setImmediate.instance;var handle=instance.addFromSetImmediateArguments(arguments);instance.root.process.nextTick(instance.partiallyApplied(instance.runIfPresent,handle));return handle};fn.instance=this;return fn};ImmediateDefinition.prototype.createPostMessageSetImmediate=function(){var root$$1=this.root;var messagePrefix='setImmediate$'+root$$1.Math.random()+'$';var onGlobalMessage=function globalMessageHandler(event){var instance=globalMessageHandler.instance;if(event.source===root$$1&&typeof event.data==='string'&&event.data.indexOf(messagePrefix)===0){instance.runIfPresent(+event.data.slice(messagePrefix.length));}};onGlobalMessage.instance=this;root$$1.addEventListener('message',onGlobalMessage,false);var fn=function setImmediate(){var _a=setImmediate,messagePrefix=_a.messagePrefix,instance=_a.instance;var handle=instance.addFromSetImmediateArguments(arguments);instance.root.postMessage(messagePrefix+handle,'*');return handle};fn.instance=this;fn.messagePrefix=messagePrefix;return fn};ImmediateDefinition.prototype.runIfPresent=function(handle){if(this.currentlyRunningATask){this.root.setTimeout(this.partiallyApplied(this.runIfPresent,handle),0);}else{var task=this.tasksByHandle[handle];if(task){this.currentlyRunningATask=true;try{task();}finally{this.clearImmediate(handle);this.currentlyRunningATask=false;}}}};ImmediateDefinition.prototype.createMessageChannelSetImmediate=function(){var _this=this;var channel=new this.root.MessageChannel;channel.port1.onmessage=function(event){var handle=event.data;_this.runIfPresent(handle);};var fn=function setImmediate(){var _a=setImmediate,channel=_a.channel,instance=_a.instance;var handle=instance.addFromSetImmediateArguments(arguments);channel.port2.postMessage(handle);return handle};fn.channel=channel;fn.instance=this;return fn};ImmediateDefinition.prototype.createReadyStateChangeSetImmediate=function(){var fn=function setImmediate(){var instance=setImmediate.instance;var root$$1=instance.root;var doc=root$$1.document;var html=doc.documentElement;var handle=instance.addFromSetImmediateArguments(arguments);var script=doc.createElement('script');script.onreadystatechange=function(){instance.runIfPresent(handle);script.onreadystatechange=null;html.removeChild(script);script=null;};html.appendChild(script);return handle};fn.instance=this;return fn};ImmediateDefinition.prototype.createSetTimeoutSetImmediate=function(){var fn=function setImmediate(){var instance=setImmediate.instance;var handle=instance.addFromSetImmediateArguments(arguments);instance.root.setTimeout(instance.partiallyApplied(instance.runIfPresent,handle),0);return handle};fn.instance=this;return fn};return ImmediateDefinition}();var ImmediateDefinition_1=ImmediateDefinition;var Immediate_1$1=new ImmediateDefinition(root_1$15.root);var Immediate={ImmediateDefinition:ImmediateDefinition_1,Immediate:Immediate_1$1};

var __extends$144=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Immediate_1=Immediate;var AsyncAction_1$4=AsyncAction_1$1;var AsapAction=function(_super){__extends$144(AsapAction,_super);function AsapAction(scheduler,work){_super.call(this,scheduler,work);this.scheduler=scheduler;this.work=work;}AsapAction.prototype.requestAsyncId=function(scheduler,id,delay){if(delay===void 0){delay=0;}if(delay!==null&&delay>0){return _super.prototype.requestAsyncId.call(this,scheduler,id,delay)}scheduler.actions.push(this);return scheduler.scheduled||(scheduler.scheduled=Immediate_1.Immediate.setImmediate(scheduler.flush.bind(scheduler,null)))};AsapAction.prototype.recycleAsyncId=function(scheduler,id,delay){if(delay===void 0){delay=0;}if(delay!==null&&delay>0||delay===null&&this.delay>0){return _super.prototype.recycleAsyncId.call(this,scheduler,id,delay)}if(scheduler.actions.length===0){Immediate_1.Immediate.clearImmediate(id);scheduler.scheduled=undefined;}return undefined};return AsapAction}(AsyncAction_1$4.AsyncAction);var AsapAction_2=AsapAction;var AsapAction_1$1={AsapAction:AsapAction_2};

var __extends$145=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var AsyncScheduler_1$4=AsyncScheduler_1$1;var AsapScheduler=function(_super){__extends$145(AsapScheduler,_super);function AsapScheduler(){_super.apply(this,arguments);}AsapScheduler.prototype.flush=function(action){this.active=true;this.scheduled=undefined;var actions=this.actions;var error;var index=-1;var count=actions.length;action=action||actions.shift();do{if(error=action.execute(action.state,action.delay)){break}}while(++index<count&&(action=actions.shift()));this.active=false;if(error){while(++index<count&&(action=actions.shift())){action.unsubscribe();}throw error}};return AsapScheduler}(AsyncScheduler_1$4.AsyncScheduler);var AsapScheduler_2=AsapScheduler;var AsapScheduler_1$1={AsapScheduler:AsapScheduler_2};

var AsapAction_1=AsapAction_1$1;var AsapScheduler_1=AsapScheduler_1$1;var asap_1$2=new AsapScheduler_1.AsapScheduler(AsapAction_1.AsapAction);var asap={asap:asap_1$2};

var __extends$143=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Observable_1$137=Observable_1$1;var asap_1$1=asap;var isNumeric_1$4=isNumeric_1$1;var SubscribeOnObservable=function(_super){__extends$143(SubscribeOnObservable,_super);function SubscribeOnObservable(source,delayTime,scheduler){if(delayTime===void 0){delayTime=0;}if(scheduler===void 0){scheduler=asap_1$1.asap;}_super.call(this);this.source=source;this.delayTime=delayTime;this.scheduler=scheduler;if(!isNumeric_1$4.isNumeric(delayTime)||delayTime<0){this.delayTime=0;}if(!scheduler||typeof scheduler.schedule!=='function'){this.scheduler=asap_1$1.asap;}}SubscribeOnObservable.create=function(source,delay,scheduler){if(delay===void 0){delay=0;}if(scheduler===void 0){scheduler=asap_1$1.asap;}return new SubscribeOnObservable(source,delay,scheduler)};SubscribeOnObservable.dispatch=function(arg){var source=arg.source,subscriber=arg.subscriber;return source.subscribe(subscriber)};SubscribeOnObservable.prototype._subscribe=function(subscriber){var delay=this.delayTime;var source=this.source;var scheduler=this.scheduler;return scheduler.schedule(SubscribeOnObservable.dispatch,delay,{source:source,subscriber:subscriber})};return SubscribeOnObservable}(Observable_1$137.Observable);var SubscribeOnObservable_2=SubscribeOnObservable;var SubscribeOnObservable_1$1={SubscribeOnObservable:SubscribeOnObservable_2};

var SubscribeOnObservable_1=SubscribeOnObservable_1$1;function subscribeOn$2(scheduler,delay){if(delay===void 0){delay=0;}return new SubscribeOnObservable_1.SubscribeOnObservable(this,delay,scheduler)}var subscribeOn_2=subscribeOn$2;var subscribeOn_1$1={subscribeOn:subscribeOn_2};

var Observable_1$136=Observable_1$1;var subscribeOn_1=subscribeOn_1$1;Observable_1$136.Observable.prototype.subscribeOn=subscribeOn_1.subscribeOn;

var __extends$146=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var OuterSubscriber_1$29=OuterSubscriber_1$1;var subscribeToResult_1$29=subscribeToResult_1$1;function _switch$2(){return this.lift(new SwitchOperator)}var _switch_2=_switch$2;var SwitchOperator=function(){function SwitchOperator(){}SwitchOperator.prototype.call=function(subscriber,source){return source._subscribe(new SwitchSubscriber(subscriber))};return SwitchOperator}();var SwitchSubscriber=function(_super){__extends$146(SwitchSubscriber,_super);function SwitchSubscriber(destination){_super.call(this,destination);this.active=0;this.hasCompleted=false;}SwitchSubscriber.prototype._next=function(value){this.unsubscribeInner();this.active++;this.add(this.innerSubscription=subscribeToResult_1$29.subscribeToResult(this,value));};SwitchSubscriber.prototype._complete=function(){this.hasCompleted=true;if(this.active===0){this.destination.complete();}};SwitchSubscriber.prototype.unsubscribeInner=function(){this.active=this.active>0?this.active-1:0;var innerSubscription=this.innerSubscription;if(innerSubscription){innerSubscription.unsubscribe();this.remove(innerSubscription);}};SwitchSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue);};SwitchSubscriber.prototype.notifyError=function(err){this.destination.error(err);};SwitchSubscriber.prototype.notifyComplete=function(){this.unsubscribeInner();if(this.hasCompleted&&this.active===0){this.destination.complete();}};return SwitchSubscriber}(OuterSubscriber_1$29.OuterSubscriber);var _switch_1={_switch:_switch_2};

var Observable_1$138=Observable_1$1;var switch_1=_switch_1;Observable_1$138.Observable.prototype.switch=switch_1._switch;Observable_1$138.Observable.prototype._switch=switch_1._switch;

var __extends$147=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var OuterSubscriber_1$30=OuterSubscriber_1$1;var subscribeToResult_1$30=subscribeToResult_1$1;function switchMap$2(project,resultSelector){return this.lift(new SwitchMapOperator(project,resultSelector))}var switchMap_2=switchMap$2;var SwitchMapOperator=function(){function SwitchMapOperator(project,resultSelector){this.project=project;this.resultSelector=resultSelector;}SwitchMapOperator.prototype.call=function(subscriber,source){return source._subscribe(new SwitchMapSubscriber(subscriber,this.project,this.resultSelector))};return SwitchMapOperator}();var SwitchMapSubscriber=function(_super){__extends$147(SwitchMapSubscriber,_super);function SwitchMapSubscriber(destination,project,resultSelector){_super.call(this,destination);this.project=project;this.resultSelector=resultSelector;this.index=0;}SwitchMapSubscriber.prototype._next=function(value){var result;var index=this.index++;try{result=this.project(value,index);}catch(error){this.destination.error(error);return}this._innerSub(result,value,index);};SwitchMapSubscriber.prototype._innerSub=function(result,value,index){var innerSubscription=this.innerSubscription;if(innerSubscription){innerSubscription.unsubscribe();}this.add(this.innerSubscription=subscribeToResult_1$30.subscribeToResult(this,result,value,index));};SwitchMapSubscriber.prototype._complete=function(){var innerSubscription=this.innerSubscription;if(!innerSubscription||innerSubscription.closed){_super.prototype._complete.call(this);}};SwitchMapSubscriber.prototype._unsubscribe=function(){this.innerSubscription=null;};SwitchMapSubscriber.prototype.notifyComplete=function(innerSub){this.remove(innerSub);this.innerSubscription=null;if(this.isStopped){_super.prototype._complete.call(this);}};SwitchMapSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){if(this.resultSelector){this._tryNotifyNext(outerValue,innerValue,outerIndex,innerIndex);}else{this.destination.next(innerValue);}};SwitchMapSubscriber.prototype._tryNotifyNext=function(outerValue,innerValue,outerIndex,innerIndex){var result;try{result=this.resultSelector(outerValue,innerValue,outerIndex,innerIndex);}catch(err){this.destination.error(err);return}this.destination.next(result);};return SwitchMapSubscriber}(OuterSubscriber_1$30.OuterSubscriber);var switchMap_1$1={switchMap:switchMap_2};

var Observable_1$139=Observable_1$1;var switchMap_1=switchMap_1$1;Observable_1$139.Observable.prototype.switchMap=switchMap_1.switchMap;

var __extends$148=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var OuterSubscriber_1$31=OuterSubscriber_1$1;var subscribeToResult_1$31=subscribeToResult_1$1;function switchMapTo$2(innerObservable,resultSelector){return this.lift(new SwitchMapToOperator(innerObservable,resultSelector))}var switchMapTo_2=switchMapTo$2;var SwitchMapToOperator=function(){function SwitchMapToOperator(observable,resultSelector){this.observable=observable;this.resultSelector=resultSelector;}SwitchMapToOperator.prototype.call=function(subscriber,source){return source._subscribe(new SwitchMapToSubscriber(subscriber,this.observable,this.resultSelector))};return SwitchMapToOperator}();var SwitchMapToSubscriber=function(_super){__extends$148(SwitchMapToSubscriber,_super);function SwitchMapToSubscriber(destination,inner,resultSelector){_super.call(this,destination);this.inner=inner;this.resultSelector=resultSelector;this.index=0;}SwitchMapToSubscriber.prototype._next=function(value){var innerSubscription=this.innerSubscription;if(innerSubscription){innerSubscription.unsubscribe();}this.add(this.innerSubscription=subscribeToResult_1$31.subscribeToResult(this,this.inner,value,this.index++));};SwitchMapToSubscriber.prototype._complete=function(){var innerSubscription=this.innerSubscription;if(!innerSubscription||innerSubscription.closed){_super.prototype._complete.call(this);}};SwitchMapToSubscriber.prototype._unsubscribe=function(){this.innerSubscription=null;};SwitchMapToSubscriber.prototype.notifyComplete=function(innerSub){this.remove(innerSub);this.innerSubscription=null;if(this.isStopped){_super.prototype._complete.call(this);}};SwitchMapToSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var _a=this,resultSelector=_a.resultSelector,destination=_a.destination;if(resultSelector){this.tryResultSelector(outerValue,innerValue,outerIndex,innerIndex);}else{destination.next(innerValue);}};SwitchMapToSubscriber.prototype.tryResultSelector=function(outerValue,innerValue,outerIndex,innerIndex){var _a=this,resultSelector=_a.resultSelector,destination=_a.destination;var result;try{result=resultSelector(outerValue,innerValue,outerIndex,innerIndex);}catch(err){destination.error(err);return}destination.next(result);};return SwitchMapToSubscriber}(OuterSubscriber_1$31.OuterSubscriber);var switchMapTo_1$1={switchMapTo:switchMapTo_2};

var Observable_1$140=Observable_1$1;var switchMapTo_1=switchMapTo_1$1;Observable_1$140.Observable.prototype.switchMapTo=switchMapTo_1.switchMapTo;

var __extends$149=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$46=Subscriber_1$2;var ArgumentOutOfRangeError_1$4=ArgumentOutOfRangeError_1$2;var EmptyObservable_1$8=EmptyObservable_1$1;function take$2(count){if(count===0){return new EmptyObservable_1$8.EmptyObservable}else{return this.lift(new TakeOperator(count))}}var take_2=take$2;var TakeOperator=function(){function TakeOperator(total){this.total=total;if(this.total<0){throw new ArgumentOutOfRangeError_1$4.ArgumentOutOfRangeError}}TakeOperator.prototype.call=function(subscriber,source){return source._subscribe(new TakeSubscriber(subscriber,this.total))};return TakeOperator}();var TakeSubscriber=function(_super){__extends$149(TakeSubscriber,_super);function TakeSubscriber(destination,total){_super.call(this,destination);this.total=total;this.count=0;}TakeSubscriber.prototype._next=function(value){var total=this.total;var count=++this.count;if(count<=total){this.destination.next(value);if(count===total){this.destination.complete();this.unsubscribe();}}};return TakeSubscriber}(Subscriber_1$46.Subscriber);var take_1$1={take:take_2};

var Observable_1$141=Observable_1$1;var take_1=take_1$1;Observable_1$141.Observable.prototype.take=take_1.take;

var __extends$150=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$47=Subscriber_1$2;var ArgumentOutOfRangeError_1$5=ArgumentOutOfRangeError_1$2;var EmptyObservable_1$9=EmptyObservable_1$1;function takeLast$2(count){if(count===0){return new EmptyObservable_1$9.EmptyObservable}else{return this.lift(new TakeLastOperator(count))}}var takeLast_2=takeLast$2;var TakeLastOperator=function(){function TakeLastOperator(total){this.total=total;if(this.total<0){throw new ArgumentOutOfRangeError_1$5.ArgumentOutOfRangeError}}TakeLastOperator.prototype.call=function(subscriber,source){return source._subscribe(new TakeLastSubscriber(subscriber,this.total))};return TakeLastOperator}();var TakeLastSubscriber=function(_super){__extends$150(TakeLastSubscriber,_super);function TakeLastSubscriber(destination,total){_super.call(this,destination);this.total=total;this.ring=new Array;this.count=0;}TakeLastSubscriber.prototype._next=function(value){var ring=this.ring;var total=this.total;var count=this.count++;if(ring.length<total){ring.push(value);}else{var index=count%total;ring[index]=value;}};TakeLastSubscriber.prototype._complete=function(){var destination=this.destination;var count=this.count;if(count>0){var total=this.count>=this.total?this.total:this.count;var ring=this.ring;for(var i=0;i<total;i++){var idx=count++%total;destination.next(ring[idx]);}}destination.complete();};return TakeLastSubscriber}(Subscriber_1$47.Subscriber);var takeLast_1$1={takeLast:takeLast_2};

var Observable_1$142=Observable_1$1;var takeLast_1=takeLast_1$1;Observable_1$142.Observable.prototype.takeLast=takeLast_1.takeLast;

var __extends$151=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var OuterSubscriber_1$32=OuterSubscriber_1$1;var subscribeToResult_1$32=subscribeToResult_1$1;function takeUntil$2(notifier){return this.lift(new TakeUntilOperator(notifier))}var takeUntil_2=takeUntil$2;var TakeUntilOperator=function(){function TakeUntilOperator(notifier){this.notifier=notifier;}TakeUntilOperator.prototype.call=function(subscriber,source){return source._subscribe(new TakeUntilSubscriber(subscriber,this.notifier))};return TakeUntilOperator}();var TakeUntilSubscriber=function(_super){__extends$151(TakeUntilSubscriber,_super);function TakeUntilSubscriber(destination,notifier){_super.call(this,destination);this.notifier=notifier;this.add(subscribeToResult_1$32.subscribeToResult(this,notifier));}TakeUntilSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.complete();};TakeUntilSubscriber.prototype.notifyComplete=function(){};return TakeUntilSubscriber}(OuterSubscriber_1$32.OuterSubscriber);var takeUntil_1$1={takeUntil:takeUntil_2};

var Observable_1$143=Observable_1$1;var takeUntil_1=takeUntil_1$1;Observable_1$143.Observable.prototype.takeUntil=takeUntil_1.takeUntil;

var __extends$152=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$48=Subscriber_1$2;function takeWhile$2(predicate){return this.lift(new TakeWhileOperator(predicate))}var takeWhile_2=takeWhile$2;var TakeWhileOperator=function(){function TakeWhileOperator(predicate){this.predicate=predicate;}TakeWhileOperator.prototype.call=function(subscriber,source){return source._subscribe(new TakeWhileSubscriber(subscriber,this.predicate))};return TakeWhileOperator}();var TakeWhileSubscriber=function(_super){__extends$152(TakeWhileSubscriber,_super);function TakeWhileSubscriber(destination,predicate){_super.call(this,destination);this.predicate=predicate;this.index=0;}TakeWhileSubscriber.prototype._next=function(value){var destination=this.destination;var result;try{result=this.predicate(value,this.index++);}catch(err){destination.error(err);return}this.nextOrComplete(value,result);};TakeWhileSubscriber.prototype.nextOrComplete=function(value,predicateResult){var destination=this.destination;if(Boolean(predicateResult)){destination.next(value);}else{destination.complete();}};return TakeWhileSubscriber}(Subscriber_1$48.Subscriber);var takeWhile_1$1={takeWhile:takeWhile_2};

var Observable_1$144=Observable_1$1;var takeWhile_1=takeWhile_1$1;Observable_1$144.Observable.prototype.takeWhile=takeWhile_1.takeWhile;

var __extends$153=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var OuterSubscriber_1$33=OuterSubscriber_1$1;var subscribeToResult_1$33=subscribeToResult_1$1;function throttle$2(durationSelector){return this.lift(new ThrottleOperator(durationSelector))}var throttle_2=throttle$2;var ThrottleOperator=function(){function ThrottleOperator(durationSelector){this.durationSelector=durationSelector;}ThrottleOperator.prototype.call=function(subscriber,source){return source._subscribe(new ThrottleSubscriber(subscriber,this.durationSelector))};return ThrottleOperator}();var ThrottleSubscriber=function(_super){__extends$153(ThrottleSubscriber,_super);function ThrottleSubscriber(destination,durationSelector){_super.call(this,destination);this.destination=destination;this.durationSelector=durationSelector;}ThrottleSubscriber.prototype._next=function(value){if(!this.throttled){this.tryDurationSelector(value);}};ThrottleSubscriber.prototype.tryDurationSelector=function(value){var duration=null;try{duration=this.durationSelector(value);}catch(err){this.destination.error(err);return}this.emitAndThrottle(value,duration);};ThrottleSubscriber.prototype.emitAndThrottle=function(value,duration){this.add(this.throttled=subscribeToResult_1$33.subscribeToResult(this,duration));this.destination.next(value);};ThrottleSubscriber.prototype._unsubscribe=function(){var throttled=this.throttled;if(throttled){this.remove(throttled);this.throttled=null;throttled.unsubscribe();}};ThrottleSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this._unsubscribe();};ThrottleSubscriber.prototype.notifyComplete=function(){this._unsubscribe();};return ThrottleSubscriber}(OuterSubscriber_1$33.OuterSubscriber);var throttle_1$1={throttle:throttle_2};

var Observable_1$145=Observable_1$1;var throttle_1=throttle_1$1;Observable_1$145.Observable.prototype.throttle=throttle_1.throttle;

var __extends$154=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$49=Subscriber_1$2;var async_1$9=async;function throttleTime$2(duration,scheduler){if(scheduler===void 0){scheduler=async_1$9.async;}return this.lift(new ThrottleTimeOperator(duration,scheduler))}var throttleTime_2=throttleTime$2;var ThrottleTimeOperator=function(){function ThrottleTimeOperator(duration,scheduler){this.duration=duration;this.scheduler=scheduler;}ThrottleTimeOperator.prototype.call=function(subscriber,source){return source._subscribe(new ThrottleTimeSubscriber(subscriber,this.duration,this.scheduler))};return ThrottleTimeOperator}();var ThrottleTimeSubscriber=function(_super){__extends$154(ThrottleTimeSubscriber,_super);function ThrottleTimeSubscriber(destination,duration,scheduler){_super.call(this,destination);this.duration=duration;this.scheduler=scheduler;}ThrottleTimeSubscriber.prototype._next=function(value){if(!this.throttled){this.add(this.throttled=this.scheduler.schedule(dispatchNext$5,this.duration,{subscriber:this}));this.destination.next(value);}};ThrottleTimeSubscriber.prototype.clearThrottle=function(){var throttled=this.throttled;if(throttled){throttled.unsubscribe();this.remove(throttled);this.throttled=null;}};return ThrottleTimeSubscriber}(Subscriber_1$49.Subscriber);function dispatchNext$5(arg){var subscriber=arg.subscriber;subscriber.clearThrottle();}var throttleTime_1$1={throttleTime:throttleTime_2};

var Observable_1$146=Observable_1$1;var throttleTime_1=throttleTime_1$1;Observable_1$146.Observable.prototype.throttleTime=throttleTime_1.throttleTime;

var __extends$155=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$50=Subscriber_1$2;var async_1$10=async;function timeInterval$2(scheduler){if(scheduler===void 0){scheduler=async_1$10.async;}return this.lift(new TimeIntervalOperator(scheduler))}var timeInterval_2=timeInterval$2;var TimeInterval$1=function(){function TimeInterval(value,interval){this.value=value;this.interval=interval;}return TimeInterval}();var TimeInterval_1=TimeInterval$1;var TimeIntervalOperator=function(){function TimeIntervalOperator(scheduler){this.scheduler=scheduler;}TimeIntervalOperator.prototype.call=function(observer,source){return source._subscribe(new TimeIntervalSubscriber(observer,this.scheduler))};return TimeIntervalOperator}();var TimeIntervalSubscriber=function(_super){__extends$155(TimeIntervalSubscriber,_super);function TimeIntervalSubscriber(destination,scheduler){_super.call(this,destination);this.scheduler=scheduler;this.lastTime=0;this.lastTime=scheduler.now();}TimeIntervalSubscriber.prototype._next=function(value){var now=this.scheduler.now();var span=now-this.lastTime;this.lastTime=now;this.destination.next(new TimeInterval$1(value,span));};return TimeIntervalSubscriber}(Subscriber_1$50.Subscriber);var timeInterval_1$2={timeInterval:timeInterval_2,TimeInterval:TimeInterval_1};

var Observable_1$147=Observable_1$1;var timeInterval_1$1=timeInterval_1$2;Observable_1$147.Observable.prototype.timeInterval=timeInterval_1$1.timeInterval;

var __extends$157=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var TimeoutError$1=function(_super){__extends$157(TimeoutError,_super);function TimeoutError(){var err=_super.call(this,'Timeout has occurred');this.name=err.name='TimeoutError';this.stack=err.stack;this.message=err.message;}return TimeoutError}(Error);var TimeoutError_2=TimeoutError$1;var TimeoutError_1$2={TimeoutError:TimeoutError_2};

var __extends$156=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var async_1$11=async;var isDate_1$4=isDate_1$1;var Subscriber_1$51=Subscriber_1$2;var TimeoutError_1$1=TimeoutError_1$2;function timeout$2(due,errorToSend,scheduler){if(errorToSend===void 0){errorToSend=null;}if(scheduler===void 0){scheduler=async_1$11.async;}var absoluteTimeout=isDate_1$4.isDate(due);var waitFor=absoluteTimeout?+due-scheduler.now():Math.abs(due);var error=errorToSend||new TimeoutError_1$1.TimeoutError;return this.lift(new TimeoutOperator(waitFor,absoluteTimeout,error,scheduler))}var timeout_2=timeout$2;var TimeoutOperator=function(){function TimeoutOperator(waitFor,absoluteTimeout,errorToSend,scheduler){this.waitFor=waitFor;this.absoluteTimeout=absoluteTimeout;this.errorToSend=errorToSend;this.scheduler=scheduler;}TimeoutOperator.prototype.call=function(subscriber,source){return source._subscribe(new TimeoutSubscriber(subscriber,this.absoluteTimeout,this.waitFor,this.errorToSend,this.scheduler))};return TimeoutOperator}();var TimeoutSubscriber=function(_super){__extends$156(TimeoutSubscriber,_super);function TimeoutSubscriber(destination,absoluteTimeout,waitFor,errorToSend,scheduler){_super.call(this,destination);this.absoluteTimeout=absoluteTimeout;this.waitFor=waitFor;this.errorToSend=errorToSend;this.scheduler=scheduler;this.index=0;this._previousIndex=0;this._hasCompleted=false;this.scheduleTimeout();}Object.defineProperty(TimeoutSubscriber.prototype,'previousIndex',{get:function get(){return this._previousIndex},enumerable:true,configurable:true});Object.defineProperty(TimeoutSubscriber.prototype,'hasCompleted',{get:function get(){return this._hasCompleted},enumerable:true,configurable:true});TimeoutSubscriber.dispatchTimeout=function(state){var source=state.subscriber;var currentIndex=state.index;if(!source.hasCompleted&&source.previousIndex===currentIndex){source.notifyTimeout();}};TimeoutSubscriber.prototype.scheduleTimeout=function(){var currentIndex=this.index;this.scheduler.schedule(TimeoutSubscriber.dispatchTimeout,this.waitFor,{subscriber:this,index:currentIndex});this.index++;this._previousIndex=currentIndex;};TimeoutSubscriber.prototype._next=function(value){this.destination.next(value);if(!this.absoluteTimeout){this.scheduleTimeout();}};TimeoutSubscriber.prototype._error=function(err){this.destination.error(err);this._hasCompleted=true;};TimeoutSubscriber.prototype._complete=function(){this.destination.complete();this._hasCompleted=true;};TimeoutSubscriber.prototype.notifyTimeout=function(){this.error(this.errorToSend);};return TimeoutSubscriber}(Subscriber_1$51.Subscriber);var timeout_1$1={timeout:timeout_2};

var Observable_1$148=Observable_1$1;var timeout_1=timeout_1$1;Observable_1$148.Observable.prototype.timeout=timeout_1.timeout;

var __extends$158=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var async_1$12=async;var isDate_1$5=isDate_1$1;var OuterSubscriber_1$34=OuterSubscriber_1$1;var subscribeToResult_1$34=subscribeToResult_1$1;function timeoutWith$2(due,withObservable,scheduler){if(scheduler===void 0){scheduler=async_1$12.async;}var absoluteTimeout=isDate_1$5.isDate(due);var waitFor=absoluteTimeout?+due-scheduler.now():Math.abs(due);return this.lift(new TimeoutWithOperator(waitFor,absoluteTimeout,withObservable,scheduler))}var timeoutWith_2=timeoutWith$2;var TimeoutWithOperator=function(){function TimeoutWithOperator(waitFor,absoluteTimeout,withObservable,scheduler){this.waitFor=waitFor;this.absoluteTimeout=absoluteTimeout;this.withObservable=withObservable;this.scheduler=scheduler;}TimeoutWithOperator.prototype.call=function(subscriber,source){return source._subscribe(new TimeoutWithSubscriber(subscriber,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))};return TimeoutWithOperator}();var TimeoutWithSubscriber=function(_super){__extends$158(TimeoutWithSubscriber,_super);function TimeoutWithSubscriber(destination,absoluteTimeout,waitFor,withObservable,scheduler){_super.call(this);this.destination=destination;this.absoluteTimeout=absoluteTimeout;this.waitFor=waitFor;this.withObservable=withObservable;this.scheduler=scheduler;this.timeoutSubscription=undefined;this.index=0;this._previousIndex=0;this._hasCompleted=false;destination.add(this);this.scheduleTimeout();}Object.defineProperty(TimeoutWithSubscriber.prototype,'previousIndex',{get:function get(){return this._previousIndex},enumerable:true,configurable:true});Object.defineProperty(TimeoutWithSubscriber.prototype,'hasCompleted',{get:function get(){return this._hasCompleted},enumerable:true,configurable:true});TimeoutWithSubscriber.dispatchTimeout=function(state){var source=state.subscriber;var currentIndex=state.index;if(!source.hasCompleted&&source.previousIndex===currentIndex){source.handleTimeout();}};TimeoutWithSubscriber.prototype.scheduleTimeout=function(){var currentIndex=this.index;var timeoutState={subscriber:this,index:currentIndex};this.scheduler.schedule(TimeoutWithSubscriber.dispatchTimeout,this.waitFor,timeoutState);this.index++;this._previousIndex=currentIndex;};TimeoutWithSubscriber.prototype._next=function(value){this.destination.next(value);if(!this.absoluteTimeout){this.scheduleTimeout();}};TimeoutWithSubscriber.prototype._error=function(err){this.destination.error(err);this._hasCompleted=true;};TimeoutWithSubscriber.prototype._complete=function(){this.destination.complete();this._hasCompleted=true;};TimeoutWithSubscriber.prototype.handleTimeout=function(){if(!this.closed){var withObservable=this.withObservable;this.unsubscribe();this.destination.add(this.timeoutSubscription=subscribeToResult_1$34.subscribeToResult(this,withObservable));}};return TimeoutWithSubscriber}(OuterSubscriber_1$34.OuterSubscriber);var timeoutWith_1$1={timeoutWith:timeoutWith_2};

var Observable_1$149=Observable_1$1;var timeoutWith_1=timeoutWith_1$1;Observable_1$149.Observable.prototype.timeoutWith=timeoutWith_1.timeoutWith;

var __extends$159=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$52=Subscriber_1$2;var async_1$13=async;function timestamp$2(scheduler){if(scheduler===void 0){scheduler=async_1$13.async;}return this.lift(new TimestampOperator(scheduler))}var timestamp_2=timestamp$2;var Timestamp$1=function(){function Timestamp(value,timestamp){this.value=value;this.timestamp=timestamp;}return Timestamp}();var Timestamp_1=Timestamp$1;var TimestampOperator=function(){function TimestampOperator(scheduler){this.scheduler=scheduler;}TimestampOperator.prototype.call=function(observer,source){return source._subscribe(new TimestampSubscriber(observer,this.scheduler))};return TimestampOperator}();var TimestampSubscriber=function(_super){__extends$159(TimestampSubscriber,_super);function TimestampSubscriber(destination,scheduler){_super.call(this,destination);this.scheduler=scheduler;}TimestampSubscriber.prototype._next=function(value){var now=this.scheduler.now();this.destination.next(new Timestamp$1(value,now));};return TimestampSubscriber}(Subscriber_1$52.Subscriber);var timestamp_1$2={timestamp:timestamp_2,Timestamp:Timestamp_1};

var Observable_1$150=Observable_1$1;var timestamp_1$1=timestamp_1$2;Observable_1$150.Observable.prototype.timestamp=timestamp_1$1.timestamp;

var __extends$160=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$53=Subscriber_1$2;function toArray$3(){return this.lift(new ToArrayOperator)}var toArray_2=toArray$3;var ToArrayOperator=function(){function ToArrayOperator(){}ToArrayOperator.prototype.call=function(subscriber,source){return source._subscribe(new ToArraySubscriber(subscriber))};return ToArrayOperator}();var ToArraySubscriber=function(_super){__extends$160(ToArraySubscriber,_super);function ToArraySubscriber(destination){_super.call(this,destination);this.array=[];}ToArraySubscriber.prototype._next=function(x){this.array.push(x);};ToArraySubscriber.prototype._complete=function(){this.destination.next(this.array);this.destination.complete();};return ToArraySubscriber}(Subscriber_1$53.Subscriber);var toArray_1$1={toArray:toArray_2};

var Observable_1$151=Observable_1$1;var toArray_1=toArray_1$1;Observable_1$151.Observable.prototype.toArray=toArray_1.toArray;

var Observable_1$152=Observable_1$1;var toPromise_1$2=toPromise_1;Observable_1$152.Observable.prototype.toPromise=toPromise_1$2.toPromise;

var __extends$161=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subject_1$13=Subject_1;var OuterSubscriber_1$35=OuterSubscriber_1$1;var subscribeToResult_1$35=subscribeToResult_1$1;function window$3(windowBoundaries){return this.lift(new WindowOperator(windowBoundaries))}var window_2=window$3;var WindowOperator=function(){function WindowOperator(windowBoundaries){this.windowBoundaries=windowBoundaries;}WindowOperator.prototype.call=function(subscriber,source){var windowSubscriber=new WindowSubscriber(subscriber);var sourceSubscription=source._subscribe(windowSubscriber);if(!sourceSubscription.closed){windowSubscriber.add(subscribeToResult_1$35.subscribeToResult(windowSubscriber,this.windowBoundaries));}return sourceSubscription};return WindowOperator}();var WindowSubscriber=function(_super){__extends$161(WindowSubscriber,_super);function WindowSubscriber(destination){_super.call(this,destination);this.window=new Subject_1$13.Subject;destination.next(this.window);}WindowSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.openWindow();};WindowSubscriber.prototype.notifyError=function(error,innerSub){this._error(error);};WindowSubscriber.prototype.notifyComplete=function(innerSub){this._complete();};WindowSubscriber.prototype._next=function(value){this.window.next(value);};WindowSubscriber.prototype._error=function(err){this.window.error(err);this.destination.error(err);};WindowSubscriber.prototype._complete=function(){this.window.complete();this.destination.complete();};WindowSubscriber.prototype._unsubscribe=function(){this.window=null;};WindowSubscriber.prototype.openWindow=function(){var prevWindow=this.window;if(prevWindow){prevWindow.complete();}var destination=this.destination;var newWindow=this.window=new Subject_1$13.Subject;destination.next(newWindow);};return WindowSubscriber}(OuterSubscriber_1$35.OuterSubscriber);var window_1$1={window:window_2};

var Observable_1$153=Observable_1$1;var window_1=window_1$1;Observable_1$153.Observable.prototype.window=window_1.window;

var __extends$162=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subscriber_1$54=Subscriber_1$2;var Subject_1$14=Subject_1;function windowCount$2(windowSize,startWindowEvery){if(startWindowEvery===void 0){startWindowEvery=0;}return this.lift(new WindowCountOperator(windowSize,startWindowEvery))}var windowCount_2=windowCount$2;var WindowCountOperator=function(){function WindowCountOperator(windowSize,startWindowEvery){this.windowSize=windowSize;this.startWindowEvery=startWindowEvery;}WindowCountOperator.prototype.call=function(subscriber,source){return source._subscribe(new WindowCountSubscriber(subscriber,this.windowSize,this.startWindowEvery))};return WindowCountOperator}();var WindowCountSubscriber=function(_super){__extends$162(WindowCountSubscriber,_super);function WindowCountSubscriber(destination,windowSize,startWindowEvery){_super.call(this,destination);this.destination=destination;this.windowSize=windowSize;this.startWindowEvery=startWindowEvery;this.windows=[new Subject_1$14.Subject];this.count=0;destination.next(this.windows[0]);}WindowCountSubscriber.prototype._next=function(value){var startWindowEvery=this.startWindowEvery>0?this.startWindowEvery:this.windowSize;var destination=this.destination;var windowSize=this.windowSize;var windows=this.windows;var len=windows.length;for(var i=0;i<len&&!this.closed;i++){windows[i].next(value);}var c=this.count-windowSize+1;if(c>=0&&c%startWindowEvery===0&&!this.closed){windows.shift().complete();}if(++this.count%startWindowEvery===0&&!this.closed){var window_1=new Subject_1$14.Subject;windows.push(window_1);destination.next(window_1);}};WindowCountSubscriber.prototype._error=function(err){var windows=this.windows;if(windows){while(windows.length>0&&!this.closed){windows.shift().error(err);}}this.destination.error(err);};WindowCountSubscriber.prototype._complete=function(){var windows=this.windows;if(windows){while(windows.length>0&&!this.closed){windows.shift().complete();}}this.destination.complete();};WindowCountSubscriber.prototype._unsubscribe=function(){this.count=0;this.windows=null;};return WindowCountSubscriber}(Subscriber_1$54.Subscriber);var windowCount_1$1={windowCount:windowCount_2};

var Observable_1$154=Observable_1$1;var windowCount_1=windowCount_1$1;Observable_1$154.Observable.prototype.windowCount=windowCount_1.windowCount;

var __extends$163=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subject_1$15=Subject_1;var async_1$14=async;var Subscriber_1$55=Subscriber_1$2;function windowTime$2(windowTimeSpan,windowCreationInterval,scheduler){if(windowCreationInterval===void 0){windowCreationInterval=null;}if(scheduler===void 0){scheduler=async_1$14.async;}return this.lift(new WindowTimeOperator(windowTimeSpan,windowCreationInterval,scheduler))}var windowTime_2=windowTime$2;var WindowTimeOperator=function(){function WindowTimeOperator(windowTimeSpan,windowCreationInterval,scheduler){this.windowTimeSpan=windowTimeSpan;this.windowCreationInterval=windowCreationInterval;this.scheduler=scheduler;}WindowTimeOperator.prototype.call=function(subscriber,source){return source._subscribe(new WindowTimeSubscriber(subscriber,this.windowTimeSpan,this.windowCreationInterval,this.scheduler))};return WindowTimeOperator}();var WindowTimeSubscriber=function(_super){__extends$163(WindowTimeSubscriber,_super);function WindowTimeSubscriber(destination,windowTimeSpan,windowCreationInterval,scheduler){_super.call(this,destination);this.destination=destination;this.windowTimeSpan=windowTimeSpan;this.windowCreationInterval=windowCreationInterval;this.scheduler=scheduler;this.windows=[];if(windowCreationInterval!==null&&windowCreationInterval>=0){var window_1=this.openWindow();var closeState={subscriber:this,window:window_1,context:null};var creationState={windowTimeSpan:windowTimeSpan,windowCreationInterval:windowCreationInterval,subscriber:this,scheduler:scheduler};this.add(scheduler.schedule(dispatchWindowClose,windowTimeSpan,closeState));this.add(scheduler.schedule(dispatchWindowCreation,windowCreationInterval,creationState));}else{var window_2=this.openWindow();var timeSpanOnlyState={subscriber:this,window:window_2,windowTimeSpan:windowTimeSpan};this.add(scheduler.schedule(dispatchWindowTimeSpanOnly,windowTimeSpan,timeSpanOnlyState));}}WindowTimeSubscriber.prototype._next=function(value){var windows=this.windows;var len=windows.length;for(var i=0;i<len;i++){var window_3=windows[i];if(!window_3.closed){window_3.next(value);}}};WindowTimeSubscriber.prototype._error=function(err){var windows=this.windows;while(windows.length>0){windows.shift().error(err);}this.destination.error(err);};WindowTimeSubscriber.prototype._complete=function(){var windows=this.windows;while(windows.length>0){var window_4=windows.shift();if(!window_4.closed){window_4.complete();}}this.destination.complete();};WindowTimeSubscriber.prototype.openWindow=function(){var window=new Subject_1$15.Subject;this.windows.push(window);var destination=this.destination;destination.next(window);return window};WindowTimeSubscriber.prototype.closeWindow=function(window){window.complete();var windows=this.windows;windows.splice(windows.indexOf(window),1);};return WindowTimeSubscriber}(Subscriber_1$55.Subscriber);function dispatchWindowTimeSpanOnly(state){var subscriber=state.subscriber,windowTimeSpan=state.windowTimeSpan,window=state.window;if(window){window.complete();}state.window=subscriber.openWindow();this.schedule(state,windowTimeSpan);}function dispatchWindowCreation(state){var windowTimeSpan=state.windowTimeSpan,subscriber=state.subscriber,scheduler=state.scheduler,windowCreationInterval=state.windowCreationInterval;var window=subscriber.openWindow();var action=this;var context={action:action,subscription:null};var timeSpanState={subscriber:subscriber,window:window,context:context};context.subscription=scheduler.schedule(dispatchWindowClose,windowTimeSpan,timeSpanState);action.add(context.subscription);action.schedule(state,windowCreationInterval);}function dispatchWindowClose(arg){var subscriber=arg.subscriber,window=arg.window,context=arg.context;if(context&&context.action&&context.subscription){context.action.remove(context.subscription);}subscriber.closeWindow(window);}var windowTime_1$1={windowTime:windowTime_2};

var Observable_1$155=Observable_1$1;var windowTime_1=windowTime_1$1;Observable_1$155.Observable.prototype.windowTime=windowTime_1.windowTime;

var __extends$164=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subject_1$16=Subject_1;var Subscription_1$17=Subscription_1$2;var tryCatch_1$16=tryCatch_1$1;var errorObject_1$16=errorObject;var OuterSubscriber_1$36=OuterSubscriber_1$1;var subscribeToResult_1$36=subscribeToResult_1$1;function windowToggle$2(openings,closingSelector){return this.lift(new WindowToggleOperator(openings,closingSelector))}var windowToggle_2=windowToggle$2;var WindowToggleOperator=function(){function WindowToggleOperator(openings,closingSelector){this.openings=openings;this.closingSelector=closingSelector;}WindowToggleOperator.prototype.call=function(subscriber,source){return source._subscribe(new WindowToggleSubscriber(subscriber,this.openings,this.closingSelector))};return WindowToggleOperator}();var WindowToggleSubscriber=function(_super){__extends$164(WindowToggleSubscriber,_super);function WindowToggleSubscriber(destination,openings,closingSelector){_super.call(this,destination);this.openings=openings;this.closingSelector=closingSelector;this.contexts=[];this.add(this.openSubscription=subscribeToResult_1$36.subscribeToResult(this,openings,openings));}WindowToggleSubscriber.prototype._next=function(value){var contexts=this.contexts;if(contexts){var len=contexts.length;for(var i=0;i<len;i++){contexts[i].window.next(value);}}};WindowToggleSubscriber.prototype._error=function(err){var contexts=this.contexts;this.contexts=null;if(contexts){var len=contexts.length;var index=-1;while(++index<len){var context=contexts[index];context.window.error(err);context.subscription.unsubscribe();}}_super.prototype._error.call(this,err);};WindowToggleSubscriber.prototype._complete=function(){var contexts=this.contexts;this.contexts=null;if(contexts){var len=contexts.length;var index=-1;while(++index<len){var context=contexts[index];context.window.complete();context.subscription.unsubscribe();}}_super.prototype._complete.call(this);};WindowToggleSubscriber.prototype._unsubscribe=function(){var contexts=this.contexts;this.contexts=null;if(contexts){var len=contexts.length;var index=-1;while(++index<len){var context=contexts[index];context.window.unsubscribe();context.subscription.unsubscribe();}}};WindowToggleSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){if(outerValue===this.openings){var closingSelector=this.closingSelector;var closingNotifier=tryCatch_1$16.tryCatch(closingSelector)(innerValue);if(closingNotifier===errorObject_1$16.errorObject){return this.error(errorObject_1$16.errorObject.e)}else{var window_1=new Subject_1$16.Subject;var subscription=new Subscription_1$17.Subscription;var context={window:window_1,subscription:subscription};this.contexts.push(context);var innerSubscription=subscribeToResult_1$36.subscribeToResult(this,closingNotifier,context);if(innerSubscription.closed){this.closeWindow(this.contexts.length-1);}else{innerSubscription.context=context;subscription.add(innerSubscription);}this.destination.next(window_1);}}else{this.closeWindow(this.contexts.indexOf(outerValue));}};WindowToggleSubscriber.prototype.notifyError=function(err){this.error(err);};WindowToggleSubscriber.prototype.notifyComplete=function(inner){if(inner!==this.openSubscription){this.closeWindow(this.contexts.indexOf(inner.context));}};WindowToggleSubscriber.prototype.closeWindow=function(index){if(index===-1){return}var contexts=this.contexts;var context=contexts[index];var window=context.window,subscription=context.subscription;contexts.splice(index,1);window.complete();subscription.unsubscribe();};return WindowToggleSubscriber}(OuterSubscriber_1$36.OuterSubscriber);var windowToggle_1$1={windowToggle:windowToggle_2};

var Observable_1$156=Observable_1$1;var windowToggle_1=windowToggle_1$1;Observable_1$156.Observable.prototype.windowToggle=windowToggle_1.windowToggle;

var __extends$165=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subject_1$17=Subject_1;var tryCatch_1$17=tryCatch_1$1;var errorObject_1$17=errorObject;var OuterSubscriber_1$37=OuterSubscriber_1$1;var subscribeToResult_1$37=subscribeToResult_1$1;function windowWhen$2(closingSelector){return this.lift(new WindowOperator$1(closingSelector))}var windowWhen_2=windowWhen$2;var WindowOperator$1=function(){function WindowOperator(closingSelector){this.closingSelector=closingSelector;}WindowOperator.prototype.call=function(subscriber,source){return source._subscribe(new WindowSubscriber$1(subscriber,this.closingSelector))};return WindowOperator}();var WindowSubscriber$1=function(_super){__extends$165(WindowSubscriber,_super);function WindowSubscriber(destination,closingSelector){_super.call(this,destination);this.destination=destination;this.closingSelector=closingSelector;this.openWindow();}WindowSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.openWindow(innerSub);};WindowSubscriber.prototype.notifyError=function(error,innerSub){this._error(error);};WindowSubscriber.prototype.notifyComplete=function(innerSub){this.openWindow(innerSub);};WindowSubscriber.prototype._next=function(value){this.window.next(value);};WindowSubscriber.prototype._error=function(err){this.window.error(err);this.destination.error(err);this.unsubscribeClosingNotification();};WindowSubscriber.prototype._complete=function(){this.window.complete();this.destination.complete();this.unsubscribeClosingNotification();};WindowSubscriber.prototype.unsubscribeClosingNotification=function(){if(this.closingNotification){this.closingNotification.unsubscribe();}};WindowSubscriber.prototype.openWindow=function(innerSub){if(innerSub===void 0){innerSub=null;}if(innerSub){this.remove(innerSub);innerSub.unsubscribe();}var prevWindow=this.window;if(prevWindow){prevWindow.complete();}var window=this.window=new Subject_1$17.Subject;this.destination.next(window);var closingNotifier=tryCatch_1$17.tryCatch(this.closingSelector)();if(closingNotifier===errorObject_1$17.errorObject){var err=errorObject_1$17.errorObject.e;this.destination.error(err);this.window.error(err);}else{this.add(this.closingNotification=subscribeToResult_1$37.subscribeToResult(this,closingNotifier));}};return WindowSubscriber}(OuterSubscriber_1$37.OuterSubscriber);var windowWhen_1$1={windowWhen:windowWhen_2};

var Observable_1$157=Observable_1$1;var windowWhen_1=windowWhen_1$1;Observable_1$157.Observable.prototype.windowWhen=windowWhen_1.windowWhen;

var __extends$166=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var OuterSubscriber_1$38=OuterSubscriber_1$1;var subscribeToResult_1$38=subscribeToResult_1$1;function withLatestFrom$2(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i-0]=arguments[_i];}var project;if(typeof args[args.length-1]==='function'){project=args.pop();}var observables=args;return this.lift(new WithLatestFromOperator(observables,project))}var withLatestFrom_2=withLatestFrom$2;var WithLatestFromOperator=function(){function WithLatestFromOperator(observables,project){this.observables=observables;this.project=project;}WithLatestFromOperator.prototype.call=function(subscriber,source){return source._subscribe(new WithLatestFromSubscriber(subscriber,this.observables,this.project))};return WithLatestFromOperator}();var WithLatestFromSubscriber=function(_super){__extends$166(WithLatestFromSubscriber,_super);function WithLatestFromSubscriber(destination,observables,project){_super.call(this,destination);this.observables=observables;this.project=project;this.toRespond=[];var len=observables.length;this.values=new Array(len);for(var i=0;i<len;i++){this.toRespond.push(i);}for(var i=0;i<len;i++){var observable=observables[i];this.add(subscribeToResult_1$38.subscribeToResult(this,observable,observable,i));}}WithLatestFromSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.values[outerIndex]=innerValue;var toRespond=this.toRespond;if(toRespond.length>0){var found=toRespond.indexOf(outerIndex);if(found!==-1){toRespond.splice(found,1);}}};WithLatestFromSubscriber.prototype.notifyComplete=function(){};WithLatestFromSubscriber.prototype._next=function(value){if(this.toRespond.length===0){var args=[value].concat(this.values);if(this.project){this._tryProject(args);}else{this.destination.next(args);}}};WithLatestFromSubscriber.prototype._tryProject=function(args){var result;try{result=this.project.apply(this,args);}catch(err){this.destination.error(err);return}this.destination.next(result);};return WithLatestFromSubscriber}(OuterSubscriber_1$38.OuterSubscriber);var withLatestFrom_1$1={withLatestFrom:withLatestFrom_2};

var Observable_1$158=Observable_1$1;var withLatestFrom_1=withLatestFrom_1$1;Observable_1$158.Observable.prototype.withLatestFrom=withLatestFrom_1.withLatestFrom;

var Observable_1$159=Observable_1$1;var zip_1$2=zip$4;Observable_1$159.Observable.prototype.zip=zip_1$2.zipProto;

var zip_1$3=zip$4;function zipAll$2(project){return this.lift(new zip_1$3.ZipOperator(project))}var zipAll_2=zipAll$2;var zipAll_1$1={zipAll:zipAll_2};

var Observable_1$160=Observable_1$1;var zipAll_1=zipAll_1$1;Observable_1$160.Observable.prototype.zipAll=zipAll_1.zipAll;

var SubscriptionLog=function(){function SubscriptionLog(subscribedFrame,unsubscribedFrame){if(unsubscribedFrame===void 0){unsubscribedFrame=Number.POSITIVE_INFINITY;}this.subscribedFrame=subscribedFrame;this.unsubscribedFrame=unsubscribedFrame;}return SubscriptionLog}();var SubscriptionLog_2=SubscriptionLog;var SubscriptionLog_1$2={SubscriptionLog:SubscriptionLog_2};

var SubscriptionLog_1$1=SubscriptionLog_1$2;var SubscriptionLoggable=function(){function SubscriptionLoggable(){this.subscriptions=[];}SubscriptionLoggable.prototype.logSubscribedFrame=function(){this.subscriptions.push(new SubscriptionLog_1$1.SubscriptionLog(this.scheduler.now()));return this.subscriptions.length-1};SubscriptionLoggable.prototype.logUnsubscribedFrame=function(index){var subscriptionLogs=this.subscriptions;var oldSubscriptionLog=subscriptionLogs[index];subscriptionLogs[index]=new SubscriptionLog_1$1.SubscriptionLog(oldSubscriptionLog.subscribedFrame,this.scheduler.now());};return SubscriptionLoggable}();var SubscriptionLoggable_2=SubscriptionLoggable;var SubscriptionLoggable_1$1={SubscriptionLoggable:SubscriptionLoggable_2};

function applyMixins(derivedCtor,baseCtors){for(var i=0,len=baseCtors.length;i<len;i++){var baseCtor=baseCtors[i];var propertyKeys=Object.getOwnPropertyNames(baseCtor.prototype);for(var j=0,len2=propertyKeys.length;j<len2;j++){var name_1=propertyKeys[j];derivedCtor.prototype[name_1]=baseCtor.prototype[name_1];}}}var applyMixins_2=applyMixins;var applyMixins_1$1={applyMixins:applyMixins_2};

var __extends$168=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Observable_1$162=Observable_1$1;var Subscription_1$18=Subscription_1$2;var SubscriptionLoggable_1=SubscriptionLoggable_1$1;var applyMixins_1=applyMixins_1$1;var ColdObservable=function(_super){__extends$168(ColdObservable,_super);function ColdObservable(messages,scheduler){_super.call(this,function(subscriber){var observable=this;var index=observable.logSubscribedFrame();subscriber.add(new Subscription_1$18.Subscription(function(){observable.logUnsubscribedFrame(index);}));observable.scheduleMessages(subscriber);return subscriber});this.messages=messages;this.subscriptions=[];this.scheduler=scheduler;}ColdObservable.prototype.scheduleMessages=function(subscriber){var messagesLength=this.messages.length;for(var i=0;i<messagesLength;i++){var message=this.messages[i];subscriber.add(this.scheduler.schedule(function(_a){var message=_a.message,subscriber=_a.subscriber;message.notification.observe(subscriber);},message.frame,{message:message,subscriber:subscriber}));}};return ColdObservable}(Observable_1$162.Observable);var ColdObservable_2=ColdObservable;applyMixins_1.applyMixins(ColdObservable,[SubscriptionLoggable_1.SubscriptionLoggable]);var ColdObservable_1$1={ColdObservable:ColdObservable_2};

var __extends$169=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Subject_1$18=Subject_1;var Subscription_1$19=Subscription_1$2;var SubscriptionLoggable_1$3=SubscriptionLoggable_1$1;var applyMixins_1$3=applyMixins_1$1;var HotObservable=function(_super){__extends$169(HotObservable,_super);function HotObservable(messages,scheduler){_super.call(this);this.messages=messages;this.subscriptions=[];this.scheduler=scheduler;}HotObservable.prototype._subscribe=function(subscriber){var subject=this;var index=subject.logSubscribedFrame();subscriber.add(new Subscription_1$19.Subscription(function(){subject.logUnsubscribedFrame(index);}));return _super.prototype._subscribe.call(this,subscriber)};HotObservable.prototype.setup=function(){var subject=this;var messagesLength=subject.messages.length;for(var i=0;i<messagesLength;i++){(function(){var message=subject.messages[i];subject.scheduler.schedule(function(){message.notification.observe(subject);},message.frame);})();}};return HotObservable}(Subject_1$18.Subject);var HotObservable_2=HotObservable;applyMixins_1$3.applyMixins(HotObservable,[SubscriptionLoggable_1$3.SubscriptionLoggable]);var HotObservable_1$1={HotObservable:HotObservable_2};

var __extends$170=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var AsyncAction_1$5=AsyncAction_1$1;var AsyncScheduler_1$5=AsyncScheduler_1$1;var VirtualTimeScheduler$1=function(_super){__extends$170(VirtualTimeScheduler,_super);function VirtualTimeScheduler(SchedulerAction,maxFrames){var _this=this;if(SchedulerAction===void 0){SchedulerAction=VirtualAction;}if(maxFrames===void 0){maxFrames=Number.POSITIVE_INFINITY;}_super.call(this,SchedulerAction,function(){return _this.frame});this.maxFrames=maxFrames;this.frame=0;this.index=-1;}VirtualTimeScheduler.prototype.flush=function(){var _a=this,actions=_a.actions,maxFrames=_a.maxFrames;var error,action;while((action=actions.shift())&&(this.frame=action.delay)<=maxFrames){if(error=action.execute(action.state,action.delay)){break}}if(error){while(action=actions.shift()){action.unsubscribe();}throw error}};VirtualTimeScheduler.frameTimeFactor=10;return VirtualTimeScheduler}(AsyncScheduler_1$5.AsyncScheduler);var VirtualTimeScheduler_2=VirtualTimeScheduler$1;var VirtualAction=function(_super){__extends$170(VirtualAction,_super);function VirtualAction(scheduler,work,index){if(index===void 0){index=scheduler.index+=1;}_super.call(this,scheduler,work);this.scheduler=scheduler;this.work=work;this.index=index;this.index=scheduler.index=index;}VirtualAction.prototype.schedule=function(state,delay){if(delay===void 0){delay=0;}return!this.id?_super.prototype.schedule.call(this,state,delay):this.add(new VirtualAction(this.scheduler,this.work)).schedule(state,delay)};VirtualAction.prototype.requestAsyncId=function(scheduler,id,delay){if(delay===void 0){delay=0;}this.delay=scheduler.frame+delay;var actions=scheduler.actions;actions.push(this);actions.sort(VirtualAction.sortActions);return true};VirtualAction.prototype.recycleAsyncId=function(scheduler,id,delay){if(delay===void 0){delay=0;}return undefined};VirtualAction.sortActions=function(a,b){if(a.delay===b.delay){if(a.index===b.index){return 0}else if(a.index>b.index){return 1}else{return-1}}else if(a.delay>b.delay){return 1}else{return-1}};return VirtualAction}(AsyncAction_1$5.AsyncAction);var VirtualAction_1=VirtualAction;var VirtualTimeScheduler_1$2={VirtualTimeScheduler:VirtualTimeScheduler_2,VirtualAction:VirtualAction_1};

var __extends$167=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var Observable_1$161=Observable_1$1;var Notification_1$6=Notification_1$2;var ColdObservable_1=ColdObservable_1$1;var HotObservable_1=HotObservable_1$1;var SubscriptionLog_1=SubscriptionLog_1$2;var VirtualTimeScheduler_1$1=VirtualTimeScheduler_1$2;var defaultMaxFrame=750;var TestScheduler$1=function(_super){__extends$167(TestScheduler,_super);function TestScheduler(assertDeepEqual){_super.call(this,VirtualTimeScheduler_1$1.VirtualAction,defaultMaxFrame);this.assertDeepEqual=assertDeepEqual;this.hotObservables=[];this.coldObservables=[];this.flushTests=[];}TestScheduler.prototype.createTime=function(marbles){var indexOf=marbles.indexOf('|');if(indexOf===-1){throw new Error('marble diagram for time should have a completion marker "|"')}return indexOf*TestScheduler.frameTimeFactor};TestScheduler.prototype.createColdObservable=function(marbles,values,error){if(marbles.indexOf('^')!==-1){throw new Error('cold observable cannot have subscription offset "^"')}if(marbles.indexOf('!')!==-1){throw new Error('cold observable cannot have unsubscription marker "!"')}var messages=TestScheduler.parseMarbles(marbles,values,error);var cold=new ColdObservable_1.ColdObservable(messages,this);this.coldObservables.push(cold);return cold};TestScheduler.prototype.createHotObservable=function(marbles,values,error){if(marbles.indexOf('!')!==-1){throw new Error('hot observable cannot have unsubscription marker "!"')}var messages=TestScheduler.parseMarbles(marbles,values,error);var subject=new HotObservable_1.HotObservable(messages,this);this.hotObservables.push(subject);return subject};TestScheduler.prototype.materializeInnerObservable=function(observable,outerFrame){var _this=this;var messages=[];observable.subscribe(function(value){messages.push({frame:_this.frame-outerFrame,notification:Notification_1$6.Notification.createNext(value)});},function(err){messages.push({frame:_this.frame-outerFrame,notification:Notification_1$6.Notification.createError(err)});},function(){messages.push({frame:_this.frame-outerFrame,notification:Notification_1$6.Notification.createComplete()});});return messages};TestScheduler.prototype.expectObservable=function(observable,unsubscriptionMarbles){var _this=this;if(unsubscriptionMarbles===void 0){unsubscriptionMarbles=null;}var actual=[];var flushTest={actual:actual,ready:false};var unsubscriptionFrame=TestScheduler.parseMarblesAsSubscriptions(unsubscriptionMarbles).unsubscribedFrame;var subscription;this.schedule(function(){subscription=observable.subscribe(function(x){var value=x;if(x instanceof Observable_1$161.Observable){value=_this.materializeInnerObservable(value,_this.frame);}actual.push({frame:_this.frame,notification:Notification_1$6.Notification.createNext(value)});},function(err){actual.push({frame:_this.frame,notification:Notification_1$6.Notification.createError(err)});},function(){actual.push({frame:_this.frame,notification:Notification_1$6.Notification.createComplete()});});},0);if(unsubscriptionFrame!==Number.POSITIVE_INFINITY){this.schedule(function(){return subscription.unsubscribe()},unsubscriptionFrame);}this.flushTests.push(flushTest);return{toBe:function toBe(marbles,values,errorValue){flushTest.ready=true;flushTest.expected=TestScheduler.parseMarbles(marbles,values,errorValue,true);}}};TestScheduler.prototype.expectSubscriptions=function(actualSubscriptionLogs){var flushTest={actual:actualSubscriptionLogs,ready:false};this.flushTests.push(flushTest);return{toBe:function toBe(marbles){var marblesArray=typeof marbles==='string'?[marbles]:marbles;flushTest.ready=true;flushTest.expected=marblesArray.map(function(marbles){return TestScheduler.parseMarblesAsSubscriptions(marbles)});}}};TestScheduler.prototype.flush=function(){var hotObservables=this.hotObservables;while(hotObservables.length>0){hotObservables.shift().setup();}_super.prototype.flush.call(this);var readyFlushTests=this.flushTests.filter(function(test){return test.ready});while(readyFlushTests.length>0){var test=readyFlushTests.shift();this.assertDeepEqual(test.actual,test.expected);}};TestScheduler.parseMarblesAsSubscriptions=function(marbles){if(typeof marbles!=='string'){return new SubscriptionLog_1.SubscriptionLog(Number.POSITIVE_INFINITY)}var len=marbles.length;var groupStart=-1;var subscriptionFrame=Number.POSITIVE_INFINITY;var unsubscriptionFrame=Number.POSITIVE_INFINITY;for(var i=0;i<len;i++){var frame=i*this.frameTimeFactor;var c=marbles[i];switch(c){case'-':case' ':break;case'(':groupStart=frame;break;case')':groupStart=-1;break;case'^':if(subscriptionFrame!==Number.POSITIVE_INFINITY){throw new Error('found a second subscription point \'^\' in a '+'subscription marble diagram. There can only be one.')}subscriptionFrame=groupStart>-1?groupStart:frame;break;case'!':if(unsubscriptionFrame!==Number.POSITIVE_INFINITY){throw new Error('found a second subscription point \'^\' in a '+'subscription marble diagram. There can only be one.')}unsubscriptionFrame=groupStart>-1?groupStart:frame;break;default:throw new Error('there can only be \'^\' and \'!\' markers in a '+'subscription marble diagram. Found instead \''+c+'\'.');}}if(unsubscriptionFrame<0){return new SubscriptionLog_1.SubscriptionLog(subscriptionFrame)}else{return new SubscriptionLog_1.SubscriptionLog(subscriptionFrame,unsubscriptionFrame)}};TestScheduler.parseMarbles=function(marbles,values,errorValue,materializeInnerObservables){if(materializeInnerObservables===void 0){materializeInnerObservables=false;}if(marbles.indexOf('!')!==-1){throw new Error('conventional marble diagrams cannot have the '+'unsubscription marker "!"')}var len=marbles.length;var testMessages=[];var subIndex=marbles.indexOf('^');var frameOffset=subIndex===-1?0:subIndex*-this.frameTimeFactor;var getValue=(typeof values==='undefined'?'undefined':_typeof(values))!=='object'?function(x){return x}:function(x){if(materializeInnerObservables&&values[x]instanceof ColdObservable_1.ColdObservable){return values[x].messages}return values[x]};var groupStart=-1;for(var i=0;i<len;i++){var frame=i*this.frameTimeFactor+frameOffset;var notification=void 0;var c=marbles[i];switch(c){case'-':case' ':break;case'(':groupStart=frame;break;case')':groupStart=-1;break;case'|':notification=Notification_1$6.Notification.createComplete();break;case'^':break;case'#':notification=Notification_1$6.Notification.createError(errorValue||'error');break;default:notification=Notification_1$6.Notification.createNext(getValue(c));break;}if(notification){testMessages.push({frame:groupStart>-1?groupStart:frame,notification:notification});}}return testMessages};return TestScheduler}(VirtualTimeScheduler_1$1.VirtualTimeScheduler);

var root_1$16=root;var RequestAnimationFrameDefinition=function(){function RequestAnimationFrameDefinition(root$$1){if(root$$1.requestAnimationFrame){this.cancelAnimationFrame=root$$1.cancelAnimationFrame.bind(root$$1);this.requestAnimationFrame=root$$1.requestAnimationFrame.bind(root$$1);}else if(root$$1.mozRequestAnimationFrame){this.cancelAnimationFrame=root$$1.mozCancelAnimationFrame.bind(root$$1);this.requestAnimationFrame=root$$1.mozRequestAnimationFrame.bind(root$$1);}else if(root$$1.webkitRequestAnimationFrame){this.cancelAnimationFrame=root$$1.webkitCancelAnimationFrame.bind(root$$1);this.requestAnimationFrame=root$$1.webkitRequestAnimationFrame.bind(root$$1);}else if(root$$1.msRequestAnimationFrame){this.cancelAnimationFrame=root$$1.msCancelAnimationFrame.bind(root$$1);this.requestAnimationFrame=root$$1.msRequestAnimationFrame.bind(root$$1);}else if(root$$1.oRequestAnimationFrame){this.cancelAnimationFrame=root$$1.oCancelAnimationFrame.bind(root$$1);this.requestAnimationFrame=root$$1.oRequestAnimationFrame.bind(root$$1);}else{this.cancelAnimationFrame=root$$1.clearTimeout.bind(root$$1);this.requestAnimationFrame=function(cb){return root$$1.setTimeout(cb,1000/60)};}}return RequestAnimationFrameDefinition}();var RequestAnimationFrameDefinition_1=RequestAnimationFrameDefinition;var AnimationFrame_1$1=new RequestAnimationFrameDefinition(root_1$16.root);var AnimationFrame={RequestAnimationFrameDefinition:RequestAnimationFrameDefinition_1,AnimationFrame:AnimationFrame_1$1};

var __extends$171=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var AsyncAction_1$6=AsyncAction_1$1;var AnimationFrame_1=AnimationFrame;var AnimationFrameAction=function(_super){__extends$171(AnimationFrameAction,_super);function AnimationFrameAction(scheduler,work){_super.call(this,scheduler,work);this.scheduler=scheduler;this.work=work;}AnimationFrameAction.prototype.requestAsyncId=function(scheduler,id,delay){if(delay===void 0){delay=0;}if(delay!==null&&delay>0){return _super.prototype.requestAsyncId.call(this,scheduler,id,delay)}scheduler.actions.push(this);return scheduler.scheduled||(scheduler.scheduled=AnimationFrame_1.AnimationFrame.requestAnimationFrame(scheduler.flush.bind(scheduler,null)))};AnimationFrameAction.prototype.recycleAsyncId=function(scheduler,id,delay){if(delay===void 0){delay=0;}if(delay!==null&&delay>0||delay===null&&this.delay>0){return _super.prototype.recycleAsyncId.call(this,scheduler,id,delay)}if(scheduler.actions.length===0){AnimationFrame_1.AnimationFrame.cancelAnimationFrame(id);scheduler.scheduled=undefined;}return undefined};return AnimationFrameAction}(AsyncAction_1$6.AsyncAction);var AnimationFrameAction_2=AnimationFrameAction;var AnimationFrameAction_1$1={AnimationFrameAction:AnimationFrameAction_2};

var __extends$172=commonjsGlobal&&commonjsGlobal.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var AsyncScheduler_1$6=AsyncScheduler_1$1;var AnimationFrameScheduler=function(_super){__extends$172(AnimationFrameScheduler,_super);function AnimationFrameScheduler(){_super.apply(this,arguments);}AnimationFrameScheduler.prototype.flush=function(action){this.active=true;this.scheduled=undefined;var actions=this.actions;var error;var index=-1;var count=actions.length;action=action||actions.shift();do{if(error=action.execute(action.state,action.delay)){break}}while(++index<count&&(action=actions.shift()));this.active=false;if(error){while(++index<count&&(action=actions.shift())){action.unsubscribe();}throw error}};return AnimationFrameScheduler}(AsyncScheduler_1$6.AsyncScheduler);var AnimationFrameScheduler_2=AnimationFrameScheduler;var AnimationFrameScheduler_1$1={AnimationFrameScheduler:AnimationFrameScheduler_2};

var AnimationFrameAction_1=AnimationFrameAction_1$1;var AnimationFrameScheduler_1=AnimationFrameScheduler_1$1;var animationFrame_1$1=new AnimationFrameScheduler_1.AnimationFrameScheduler(AnimationFrameAction_1.AnimationFrameAction);

var Subject_1$2=Subject_1;var Subject$1=Subject_1$2.Subject;var Observable_1$4=Observable_1$1;var Observable$1=Observable_1$4.Observable;

var ToneEntry=function(){function ToneEntry(){classCallCheck(this,ToneEntry);this.audioNodes=[];this.id=RandomUtil.generateId();this.frequency='';this.delayAmount='';this.delayUnit=TimeUnit.SECONDS;this.durationAmount='';this.durationUnit=TimeUnit.SECONDS;this.oscillationType='sine';this.volume='100';this.pan='0';this.started=false;this.ended=false;this.temp=false;this.onEnded=new Subject$1;}createClass(ToneEntry,[{key:'start',value:function start(audioContext){var _this=this;this.started=true;this.ended=false;var oscillatorNode=this.setupOscillatorNode(audioContext);var gainNode=this.setupGainNode(audioContext);var panNode=this.setupPanNode(audioContext);this.toneEndedSubscription=Observable$1.fromEvent(oscillatorNode,'ended').subscribe(function(event){_this.ended=true;_this.onEnded.next(null);},function(err){throw new Error(err)});oscillatorNode.connect(gainNode);gainNode.connect(panNode);panNode.connect(audioContext.destination);this.audioNodes.push(oscillatorNode);this.audioNodes.push(gainNode);this.audioNodes.push(panNode);return Observable$1.empty()}},{key:'stop',value:function stop(){var _this2=this;return Observable$1.from(this.audioNodes).flatMap(function(node){if(node.constructor.name==OscillatorNode.name)node.stop();node.disconnect();return Observable$1.empty()}).defaultIfEmpty(null).do(function(Void){_this2.toneEndedSubscription.unsubscribe();_this2.audioNodes=[];_this2.started=false;})}},{key:'validate',value:function validate(){return!!Number(this.frequency)&&(this.delayAmount?!!Number(this.delayAmount):true)&&(this.durationAmount?!!Number(this.durationAmount):true)}},{key:'setupOscillatorNode',value:function setupOscillatorNode(audioContext){var oscillatorNode=audioContext.createOscillator();oscillatorNode.type=this.oscillationType;oscillatorNode.frequency.value=Number(this.frequency);oscillatorNode.start(audioContext.currentTime+this.delayUnit.toSeconds(Number(this.delayAmount)));if(Number(this.durationAmount)>0)oscillatorNode.stop(audioContext.currentTime+this.delayUnit.toSeconds(Number(this.delayAmount))+this.durationUnit.toSeconds(Number(this.durationAmount)));return oscillatorNode}},{key:'setupGainNode',value:function setupGainNode(audioContext){var gainNode=audioContext.createGain();gainNode.gain.value=Number(this.volume)/100;return gainNode}},{key:'setupPanNode',value:function setupPanNode(audioContext){var panNode=audioContext.createStereoPanner();panNode.pan.value=Number(this.pan);return panNode}}]);return ToneEntry}();

var AppEvent=function AppEvent(message){var id=arguments.length>1&&arguments[1]!==undefined?arguments[1]:RandomUtil.generateId();var causedAt=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new Date;classCallCheck(this,AppEvent);this.message=message;this.id=id;this.causedAt=causedAt;};

var ToneEndedEvent=function(_AppEvent){inherits(ToneEndedEvent,_AppEvent);function ToneEndedEvent(toneEntry){classCallCheck(this,ToneEndedEvent);var _this=possibleConstructorReturn(this,(ToneEndedEvent.__proto__||Object.getPrototypeOf(ToneEndedEvent)).call(this,"Tone ended"));_this.toneEntry=toneEntry;return _this}return ToneEndedEvent}(AppEvent);

var ToneRemovedEvent=function(_AppEvent){inherits(ToneRemovedEvent,_AppEvent);function ToneRemovedEvent(toneEntry){classCallCheck(this,ToneRemovedEvent);var _this=possibleConstructorReturn(this,(ToneRemovedEvent.__proto__||Object.getPrototypeOf(ToneRemovedEvent)).call(this,"Clicked remove tone entry"));_this.toneEntry=toneEntry;return _this}return ToneRemovedEvent}(AppEvent);

var ToneAddedEvent=function(_AppEvent){inherits(ToneAddedEvent,_AppEvent);function ToneAddedEvent(){classCallCheck(this,ToneAddedEvent);return possibleConstructorReturn(this,(ToneAddedEvent.__proto__||Object.getPrototypeOf(ToneAddedEvent)).call(this,"Added tone entry"))}return ToneAddedEvent}(AppEvent);

var __decorate$5=window&&window.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata$5=window&&window.__metadata||function(k,v){if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var AppBus=function(){function AppBus(){classCallCheck(this,AppBus);this.subscribers=ArrayListMultimap.create();}createClass(AppBus,[{key:"addSubscription",value:function addSubscription(eventName,handler){var subject=new Subject$1;this.subscribers.put(eventName,subject);handler(subject);}},{key:"publish",value:function publish(event){Observable$1.from(this.subscribers.get(event.constructor.name)).subscribe(function(subscription){return subscription.next(event)});}}]);return AppBus}();AppBus=__decorate$5([Injectable(),__metadata$5("design:paramtypes",[])],AppBus);

var __extends$173=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var PRIMARY_OUTLET='primary';var NavigationCancelingError=function(_super){__extends$173(NavigationCancelingError,_super);function NavigationCancelingError(message){_super.call(this,message);this.message=message;this.stack=new Error(message).stack;}NavigationCancelingError.prototype.toString=function(){return this.message};return NavigationCancelingError}(Error);function defaultUrlMatcher(segments,segmentGroup,route){var path=route.path;var parts=path.split('/');var posParams={};var consumed=[];var currentIndex=0;for(var i=0;i<parts.length;++i){if(currentIndex>=segments.length)return null;var current=segments[currentIndex];var p=parts[i];var isPosParam=p.startsWith(':');if(!isPosParam&&p!==current.path)return null;if(isPosParam){posParams[p.substring(1)]=current;}consumed.push(current);currentIndex++;}if(route.pathMatch==='full'&&(segmentGroup.hasChildren()||currentIndex<segments.length)){return null}else{return{consumed:consumed,posParams:posParams}}}

function shallowEqualArrays(a,b){if(a.length!==b.length)return false;for(var i=0;i<a.length;++i){if(!shallowEqual(a[i],b[i]))return false}return true}function shallowEqual(a,b){var k1=Object.keys(a);var k2=Object.keys(b);if(k1.length!=k2.length){return false}var key;for(var i=0;i<k1.length;i++){key=k1[i];if(a[key]!==b[key]){return false}}return true}function flatten(a){var target=[];for(var i=0;i<a.length;++i){for(var j=0;j<a[i].length;++j){target.push(a[i][j]);}}return target}function last$3(a){return a.length>0?a[a.length-1]:null}function merge$8(m1,m2){var m={};for(var attr in m1){if(m1.hasOwnProperty(attr)){m[attr]=m1[attr];}}for(var attr in m2){if(m2.hasOwnProperty(attr)){m[attr]=m2[attr];}}return m}function forEach(map$$1,callback){for(var prop in map$$1){if(map$$1.hasOwnProperty(prop)){callback(map$$1[prop],prop);}}}function waitForMap(obj,fn){var waitFor=[];var res={};forEach(obj,function(a,k){if(k===PRIMARY_OUTLET){waitFor.push(map_2.call(fn(k,a),function(_){res[k]=_;return _}));}});forEach(obj,function(a,k){if(k!==PRIMARY_OUTLET){waitFor.push(map_2.call(fn(k,a),function(_){res[k]=_;return _}));}});if(waitFor.length>0){var concatted$=concatAll_2.call(of_1$1.apply(void 0,waitFor));var last$=last_2.call(concatted$);return map_2.call(last$,function(){return res})}return of_1$1(res)}function andObservables(observables){var merged$=mergeAll_2.call(observables);return every_2.call(merged$,function(result){return result===true})}function wrapIntoObservable(value){if(value instanceof Observable_2){return value}if(value instanceof Promise){return fromPromise_1(value)}return of_1$1(value)}

var ROUTES=new OpaqueToken('ROUTES');var LoadedRouterConfig=function(){function LoadedRouterConfig(routes,injector,factoryResolver,injectorFactory){this.routes=routes;this.injector=injector;this.factoryResolver=factoryResolver;this.injectorFactory=injectorFactory;}return LoadedRouterConfig}();var RouterConfigLoader=function(){function RouterConfigLoader(loader,compiler){this.loader=loader;this.compiler=compiler;}RouterConfigLoader.prototype.load=function(parentInjector,loadChildren){return map_2.call(this.loadModuleFactory(loadChildren),function(r){var ref=r.create(parentInjector);var injectorFactory=function injectorFactory(parent){return r.create(parent).injector};return new LoadedRouterConfig(flatten(ref.injector.get(ROUTES)),ref.injector,ref.componentFactoryResolver,injectorFactory)})};RouterConfigLoader.prototype.loadModuleFactory=function(loadChildren){var _this=this;if(typeof loadChildren==='string'){return fromPromise_1(this.loader.load(loadChildren))}else{var offlineMode_1=this.compiler instanceof Compiler;return mergeMap_2.call(wrapIntoObservable(loadChildren()),function(t){return offlineMode_1?of_1$1(t):fromPromise_1(_this.compiler.compileModuleAsync(t))})}};return RouterConfigLoader}();

function createEmptyUrlTree(){return new UrlTree(new UrlSegmentGroup([],{}),{},null)}function containsTree(container,containee,exact){if(exact){return equalQueryParams(container.queryParams,containee.queryParams)&&equalSegmentGroups(container.root,containee.root)}return containsQueryParams(container.queryParams,containee.queryParams)&&containsSegmentGroup(container.root,containee.root)}function equalQueryParams(container,containee){return shallowEqual(container,containee)}function equalSegmentGroups(container,containee){if(!equalPath(container.segments,containee.segments))return false;if(container.numberOfChildren!==containee.numberOfChildren)return false;for(var c in containee.children){if(!container.children[c])return false;if(!equalSegmentGroups(container.children[c],containee.children[c]))return false}return true}function containsQueryParams(container,containee){return Object.keys(containee)<=Object.keys(container)&&Object.keys(containee).every(function(key){return containee[key]===container[key]})}function containsSegmentGroup(container,containee){return containsSegmentGroupHelper(container,containee,containee.segments)}function containsSegmentGroupHelper(container,containee,containeePaths){if(container.segments.length>containeePaths.length){var current=container.segments.slice(0,containeePaths.length);if(!equalPath(current,containeePaths))return false;if(containee.hasChildren())return false;return true}else if(container.segments.length===containeePaths.length){if(!equalPath(container.segments,containeePaths))return false;for(var c in containee.children){if(!container.children[c])return false;if(!containsSegmentGroup(container.children[c],containee.children[c]))return false}return true}else{var current=containeePaths.slice(0,container.segments.length);var next=containeePaths.slice(container.segments.length);if(!equalPath(container.segments,current))return false;if(!container.children[PRIMARY_OUTLET])return false;return containsSegmentGroupHelper(container.children[PRIMARY_OUTLET],containee,next)}}var UrlTree=function(){function UrlTree(root,queryParams,fragment){this.root=root;this.queryParams=queryParams;this.fragment=fragment;}UrlTree.prototype.toString=function(){return new DefaultUrlSerializer().serialize(this)};return UrlTree}();var UrlSegmentGroup=function(){function UrlSegmentGroup(segments,children){var _this=this;this.segments=segments;this.children=children;this.parent=null;forEach(children,function(v,k){return v.parent=_this});}UrlSegmentGroup.prototype.hasChildren=function(){return this.numberOfChildren>0};Object.defineProperty(UrlSegmentGroup.prototype,'numberOfChildren',{get:function get(){return Object.keys(this.children).length},enumerable:true,configurable:true});UrlSegmentGroup.prototype.toString=function(){return serializePaths(this)};return UrlSegmentGroup}();var UrlSegment=function(){function UrlSegment(path,parameters){this.path=path;this.parameters=parameters;}UrlSegment.prototype.toString=function(){return serializePath(this)};return UrlSegment}();function equalSegments(a,b){if(a.length!==b.length)return false;for(var i=0;i<a.length;++i){if(a[i].path!==b[i].path)return false;if(!shallowEqual(a[i].parameters,b[i].parameters))return false}return true}function equalPath(a,b){if(a.length!==b.length)return false;for(var i=0;i<a.length;++i){if(a[i].path!==b[i].path)return false}return true}function mapChildrenIntoArray(segment,fn){var res=[];forEach(segment.children,function(child,childOutlet){if(childOutlet===PRIMARY_OUTLET){res=res.concat(fn(child,childOutlet));}});forEach(segment.children,function(child,childOutlet){if(childOutlet!==PRIMARY_OUTLET){res=res.concat(fn(child,childOutlet));}});return res}var UrlSerializer=function(){function UrlSerializer(){}UrlSerializer.prototype.parse=function(url){};UrlSerializer.prototype.serialize=function(tree){};return UrlSerializer}();var DefaultUrlSerializer=function(){function DefaultUrlSerializer(){}DefaultUrlSerializer.prototype.parse=function(url){var p=new UrlParser(url);return new UrlTree(p.parseRootSegment(),p.parseQueryParams(),p.parseFragment())};DefaultUrlSerializer.prototype.serialize=function(tree){var segment='/'+serializeSegment(tree.root,true);var query=serializeQueryParams(tree.queryParams);var fragment=tree.fragment!==null&&tree.fragment!==undefined?'#'+encodeURI(tree.fragment):'';return''+segment+query+fragment};return DefaultUrlSerializer}();function serializePaths(segment){return segment.segments.map(function(p){return serializePath(p)}).join('/')}function serializeSegment(segment,root){if(segment.hasChildren()&&root){var primary=segment.children[PRIMARY_OUTLET]?serializeSegment(segment.children[PRIMARY_OUTLET],false):'';var children_1=[];forEach(segment.children,function(v,k){if(k!==PRIMARY_OUTLET){children_1.push(k+':'+serializeSegment(v,false));}});if(children_1.length>0){return primary+'('+children_1.join('//')+')'}else{return''+primary}}else if(segment.hasChildren()&&!root){var children=mapChildrenIntoArray(segment,function(v,k){if(k===PRIMARY_OUTLET){return[serializeSegment(segment.children[PRIMARY_OUTLET],false)]}else{return[k+':'+serializeSegment(v,false)]}});return serializePaths(segment)+'/('+children.join('//')+')'}else{return serializePaths(segment)}}function encode(s){return encodeURIComponent(s)}function decode(s){return decodeURIComponent(s)}function serializePath(path){return''+encode(path.path)+serializeParams(path.parameters)}function serializeParams(params){return pairs$4(params).map(function(p){return';'+encode(p.first)+'='+encode(p.second)}).join('')}function serializeQueryParams(params){var strParams=Object.keys(params).map(function(name){var value=params[name];return Array.isArray(value)?value.map(function(v){return encode(name)+'='+encode(v)}).join('&'):encode(name)+'='+encode(value)});return strParams.length?'?'+strParams.join('&'):''}var Pair=function(){function Pair(first$$1,second){this.first=first$$1;this.second=second;}return Pair}();function pairs$4(obj){var res=[];for(var prop in obj){if(obj.hasOwnProperty(prop)){res.push(new Pair(prop,obj[prop]));}}return res}var SEGMENT_RE=/^[^\/()?;=&#]+/;function matchSegments(str){SEGMENT_RE.lastIndex=0;var match=str.match(SEGMENT_RE);return match?match[0]:''}var QUERY_PARAM_RE=/^[^=?&#]+/;function matchQueryParams(str){QUERY_PARAM_RE.lastIndex=0;var match=str.match(SEGMENT_RE);return match?match[0]:''}var QUERY_PARAM_VALUE_RE=/^[^?&#]+/;function matchUrlQueryParamValue(str){QUERY_PARAM_VALUE_RE.lastIndex=0;var match=str.match(QUERY_PARAM_VALUE_RE);return match?match[0]:''}var UrlParser=function(){function UrlParser(url){this.url=url;this.remaining=url;}UrlParser.prototype.peekStartsWith=function(str){return this.remaining.startsWith(str)};UrlParser.prototype.capture=function(str){if(!this.remaining.startsWith(str)){throw new Error('Expected "'+str+'".')}this.remaining=this.remaining.substring(str.length);};UrlParser.prototype.parseRootSegment=function(){if(this.remaining.startsWith('/')){this.capture('/');}if(this.remaining===''||this.remaining.startsWith('?')||this.remaining.startsWith('#')){return new UrlSegmentGroup([],{})}return new UrlSegmentGroup([],this.parseChildren())};UrlParser.prototype.parseChildren=function(){if(this.remaining.length==0){return{}}if(this.peekStartsWith('/')){this.capture('/');}var paths=[];if(!this.peekStartsWith('(')){paths.push(this.parseSegments());}while(this.peekStartsWith('/')&&!this.peekStartsWith('//')&&!this.peekStartsWith('/(')){this.capture('/');paths.push(this.parseSegments());}var children={};if(this.peekStartsWith('/(')){this.capture('/');children=this.parseParens(true);}var res={};if(this.peekStartsWith('(')){res=this.parseParens(false);}if(paths.length>0||Object.keys(children).length>0){res[PRIMARY_OUTLET]=new UrlSegmentGroup(paths,children);}return res};UrlParser.prototype.parseSegments=function(){var path=matchSegments(this.remaining);if(path===''&&this.peekStartsWith(';')){throw new Error('Empty path url segment cannot have parameters: \''+this.remaining+'\'.')}this.capture(path);var matrixParams={};if(this.peekStartsWith(';')){matrixParams=this.parseMatrixParams();}return new UrlSegment(decode(path),matrixParams)};UrlParser.prototype.parseQueryParams=function(){var params={};if(this.peekStartsWith('?')){this.capture('?');this.parseQueryParam(params);while(this.remaining.length>0&&this.peekStartsWith('&')){this.capture('&');this.parseQueryParam(params);}}return params};UrlParser.prototype.parseFragment=function(){if(this.peekStartsWith('#')){return decodeURI(this.remaining.substring(1))}return null};UrlParser.prototype.parseMatrixParams=function(){var params={};while(this.remaining.length>0&&this.peekStartsWith(';')){this.capture(';');this.parseParam(params);}return params};UrlParser.prototype.parseParam=function(params){var key=matchSegments(this.remaining);if(!key){return}this.capture(key);var value='';if(this.peekStartsWith('=')){this.capture('=');var valueMatch=matchSegments(this.remaining);if(valueMatch){value=valueMatch;this.capture(value);}}params[decode(key)]=decode(value);};UrlParser.prototype.parseQueryParam=function(params){var key=matchQueryParams(this.remaining);if(!key){return}this.capture(key);var value='';if(this.peekStartsWith('=')){this.capture('=');var valueMatch=matchUrlQueryParamValue(this.remaining);if(valueMatch){value=valueMatch;this.capture(value);}}var decodedKey=decode(key);var decodedVal=decode(value);if(params.hasOwnProperty(decodedKey)){var currentVal=params[decodedKey];if(!Array.isArray(currentVal)){currentVal=[currentVal];params[decodedKey]=currentVal;}currentVal.push(decodedVal);}else{params[decodedKey]=decodedVal;}};UrlParser.prototype.parseParens=function(allowPrimary){var segments={};this.capture('(');while(!this.peekStartsWith(')')&&this.remaining.length>0){var path=matchSegments(this.remaining);var next=this.remaining[path.length];if(next!=='/'&&next!==')'&&next!==';'){throw new Error('Cannot parse url \''+this.url+'\'')}var outletName=void 0;if(path.indexOf(':')>-1){outletName=path.substr(0,path.indexOf(':'));this.capture(outletName);this.capture(':');}else if(allowPrimary){outletName=PRIMARY_OUTLET;}var children=this.parseChildren();segments[outletName]=Object.keys(children).length===1?children[PRIMARY_OUTLET]:new UrlSegmentGroup([],children);if(this.peekStartsWith('//')){this.capture('//');}}this.capture(')');return segments};return UrlParser}();

var NoMatch=function(){function NoMatch(segmentGroup){if(segmentGroup===void 0){segmentGroup=null;}this.segmentGroup=segmentGroup;}return NoMatch}();var AbsoluteRedirect=function(){function AbsoluteRedirect(urlTree){this.urlTree=urlTree;}return AbsoluteRedirect}();function noMatch(segmentGroup){return new Observable_2(function(obs){return obs.error(new NoMatch(segmentGroup))})}function absoluteRedirect(newTree){return new Observable_2(function(obs){return obs.error(new AbsoluteRedirect(newTree))})}function namedOutletsRedirect(redirectTo){return new Observable_2(function(obs){return obs.error(new Error('Only absolute redirects can have named outlets. redirectTo: \''+redirectTo+'\''))})}function canLoadFails(route){return new Observable_2(function(obs){return obs.error(new NavigationCancelingError('Cannot load children because the guard of the route "path: \''+route.path+'\'" returned false'))})}function applyRedirects(injector,configLoader,urlSerializer,urlTree,config){return new ApplyRedirects(injector,configLoader,urlSerializer,urlTree,config).apply()}var ApplyRedirects=function(){function ApplyRedirects(injector,configLoader,urlSerializer,urlTree,config){this.injector=injector;this.configLoader=configLoader;this.urlSerializer=urlSerializer;this.urlTree=urlTree;this.config=config;this.allowRedirects=true;}ApplyRedirects.prototype.apply=function(){var _this=this;var expanded$=this.expandSegmentGroup(this.injector,this.config,this.urlTree.root,PRIMARY_OUTLET);var urlTrees$=map_2.call(expanded$,function(rootSegmentGroup){return _this.createUrlTree(rootSegmentGroup,_this.urlTree.queryParams,_this.urlTree.fragment)});return _catch_2.call(urlTrees$,function(e){if(e instanceof AbsoluteRedirect){_this.allowRedirects=false;return _this.match(e.urlTree)}else if(e instanceof NoMatch){throw _this.noMatchError(e)}else{throw e}})};ApplyRedirects.prototype.match=function(tree){var _this=this;var expanded$=this.expandSegmentGroup(this.injector,this.config,tree.root,PRIMARY_OUTLET);var mapped$=map_2.call(expanded$,function(rootSegmentGroup){return _this.createUrlTree(rootSegmentGroup,tree.queryParams,tree.fragment)});return _catch_2.call(mapped$,function(e){if(e instanceof NoMatch){throw _this.noMatchError(e)}else{throw e}})};ApplyRedirects.prototype.noMatchError=function(e){return new Error('Cannot match any routes. URL Segment: \''+e.segmentGroup+'\'')};ApplyRedirects.prototype.createUrlTree=function(rootCandidate,queryParams,fragment){var root=rootCandidate.segments.length>0?new UrlSegmentGroup([],(_a={},_a[PRIMARY_OUTLET]=rootCandidate,_a)):rootCandidate;return new UrlTree(root,queryParams,fragment);var _a;};ApplyRedirects.prototype.expandSegmentGroup=function(injector,routes,segmentGroup,outlet){if(segmentGroup.segments.length===0&&segmentGroup.hasChildren()){return map_2.call(this.expandChildren(injector,routes,segmentGroup),function(children){return new UrlSegmentGroup([],children)})}else{return this.expandSegment(injector,segmentGroup,routes,segmentGroup.segments,outlet,true)}};ApplyRedirects.prototype.expandChildren=function(injector,routes,segmentGroup){var _this=this;return waitForMap(segmentGroup.children,function(childOutlet,child){return _this.expandSegmentGroup(injector,routes,child,childOutlet)})};ApplyRedirects.prototype.expandSegment=function(injector,segmentGroup,routes,segments,outlet,allowRedirects){var _this=this;var routes$=of_1$1.apply(void 0,routes);var processedRoutes$=map_2.call(routes$,function(r){var expanded$=_this.expandSegmentAgainstRoute(injector,segmentGroup,routes,r,segments,outlet,allowRedirects);return _catch_2.call(expanded$,function(e){if(e instanceof NoMatch)return of_1$1(null);else throw e})});var concattedProcessedRoutes$=concatAll_2.call(processedRoutes$);var first$=first_2.call(concattedProcessedRoutes$,function(s){return!!s});return _catch_2.call(first$,function(e,_){if(e instanceof EmptyError_2){if(_this.noLeftoversInUrl(segmentGroup,segments,outlet)){return of_1$1(new UrlSegmentGroup([],{}))}else{throw new NoMatch(segmentGroup)}}else{throw e}})};ApplyRedirects.prototype.noLeftoversInUrl=function(segmentGroup,segments,outlet){return segments.length===0&&!segmentGroup.children[outlet]};ApplyRedirects.prototype.expandSegmentAgainstRoute=function(injector,segmentGroup,routes,route,paths,outlet,allowRedirects){if(getOutlet$1(route)!==outlet)return noMatch(segmentGroup);if(route.redirectTo!==undefined&&!(allowRedirects&&this.allowRedirects))return noMatch(segmentGroup);if(route.redirectTo===undefined){return this.matchSegmentAgainstRoute(injector,segmentGroup,route,paths)}else{return this.expandSegmentAgainstRouteUsingRedirect(injector,segmentGroup,routes,route,paths,outlet)}};ApplyRedirects.prototype.expandSegmentAgainstRouteUsingRedirect=function(injector,segmentGroup,routes,route,segments,outlet){if(route.path==='**'){return this.expandWildCardWithParamsAgainstRouteUsingRedirect(injector,routes,route,outlet)}else{return this.expandRegularSegmentAgainstRouteUsingRedirect(injector,segmentGroup,routes,route,segments,outlet)}};ApplyRedirects.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(injector,routes,route,outlet){var _this=this;var newTree=this.applyRedirectCommands([],route.redirectTo,{});if(route.redirectTo.startsWith('/')){return absoluteRedirect(newTree)}else{return mergeMap_2.call(this.lineralizeSegments(route,newTree),function(newSegments){var group=new UrlSegmentGroup(newSegments,{});return _this.expandSegment(injector,group,routes,newSegments,outlet,false)})}};ApplyRedirects.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(injector,segmentGroup,routes,route,segments,outlet){var _this=this;var _a=match(segmentGroup,route,segments),matched=_a.matched,consumedSegments=_a.consumedSegments,lastChild=_a.lastChild,positionalParamSegments=_a.positionalParamSegments;if(!matched)return noMatch(segmentGroup);var newTree=this.applyRedirectCommands(consumedSegments,route.redirectTo,positionalParamSegments);if(route.redirectTo.startsWith('/')){return absoluteRedirect(newTree)}else{return mergeMap_2.call(this.lineralizeSegments(route,newTree),function(newSegments){return _this.expandSegment(injector,segmentGroup,routes,newSegments.concat(segments.slice(lastChild)),outlet,false)})}};ApplyRedirects.prototype.matchSegmentAgainstRoute=function(injector,rawSegmentGroup,route,segments){var _this=this;if(route.path==='**'){if(route.loadChildren){return map_2.call(this.configLoader.load(injector,route.loadChildren),function(r){route._loadedConfig=r;return of_1$1(new UrlSegmentGroup(segments,{}))})}else{return of_1$1(new UrlSegmentGroup(segments,{}))}}else{var _a=match(rawSegmentGroup,route,segments),matched=_a.matched,consumedSegments_1=_a.consumedSegments,lastChild=_a.lastChild;if(!matched)return noMatch(rawSegmentGroup);var rawSlicedSegments_1=segments.slice(lastChild);var childConfig$=this.getChildConfig(injector,route);return mergeMap_2.call(childConfig$,function(routerConfig){var childInjector=routerConfig.injector;var childConfig=routerConfig.routes;var _a=split(rawSegmentGroup,consumedSegments_1,rawSlicedSegments_1,childConfig),segmentGroup=_a.segmentGroup,slicedSegments=_a.slicedSegments;if(slicedSegments.length===0&&segmentGroup.hasChildren()){var expanded$=_this.expandChildren(childInjector,childConfig,segmentGroup);return map_2.call(expanded$,function(children){return new UrlSegmentGroup(consumedSegments_1,children)})}else if(childConfig.length===0&&slicedSegments.length===0){return of_1$1(new UrlSegmentGroup(consumedSegments_1,{}))}else{var expanded$=_this.expandSegment(childInjector,segmentGroup,childConfig,slicedSegments,PRIMARY_OUTLET,true);return map_2.call(expanded$,function(cs){return new UrlSegmentGroup(consumedSegments_1.concat(cs.segments),cs.children)})}})}};ApplyRedirects.prototype.getChildConfig=function(injector,route){var _this=this;if(route.children){return of_1$1(new LoadedRouterConfig(route.children,injector,null,null))}else if(route.loadChildren){return mergeMap_2.call(runGuards(injector,route),function(shouldLoad){if(shouldLoad){if(route._loadedConfig){return of_1$1(route._loadedConfig)}else{return map_2.call(_this.configLoader.load(injector,route.loadChildren),function(r){route._loadedConfig=r;return r})}}else{return canLoadFails(route)}})}else{return of_1$1(new LoadedRouterConfig([],injector,null,null))}};ApplyRedirects.prototype.lineralizeSegments=function(route,urlTree){var res=[];var c=urlTree.root;while(true){res=res.concat(c.segments);if(c.numberOfChildren===0){return of_1$1(res)}else if(c.numberOfChildren>1||!c.children[PRIMARY_OUTLET]){return namedOutletsRedirect(route.redirectTo)}else{c=c.children[PRIMARY_OUTLET];}}};ApplyRedirects.prototype.applyRedirectCommands=function(segments,redirectTo,posParams){var t=this.urlSerializer.parse(redirectTo);return this.applyRedirectCreatreUrlTree(redirectTo,this.urlSerializer.parse(redirectTo),segments,posParams)};ApplyRedirects.prototype.applyRedirectCreatreUrlTree=function(redirectTo,urlTree,segments,posParams){var newRoot=this.createSegmentGroup(redirectTo,urlTree.root,segments,posParams);return new UrlTree(newRoot,this.createQueryParams(urlTree.queryParams,this.urlTree.queryParams),urlTree.fragment)};ApplyRedirects.prototype.createQueryParams=function(redirectToParams,actualParams){var res={};forEach(redirectToParams,function(v,k){if(v.startsWith(':')){res[k]=actualParams[v.substring(1)];}else{res[k]=v;}});return res};ApplyRedirects.prototype.createSegmentGroup=function(redirectTo,group,segments,posParams){var _this=this;var updatedSegments=this.createSegments(redirectTo,group.segments,segments,posParams);var children={};forEach(group.children,function(child,name){children[name]=_this.createSegmentGroup(redirectTo,child,segments,posParams);});return new UrlSegmentGroup(updatedSegments,children)};ApplyRedirects.prototype.createSegments=function(redirectTo,redirectToSegments,actualSegments,posParams){var _this=this;return redirectToSegments.map(function(s){return s.path.startsWith(':')?_this.findPosParam(redirectTo,s,posParams):_this.findOrReturn(s,actualSegments)})};ApplyRedirects.prototype.findPosParam=function(redirectTo,redirectToUrlSegment,posParams){var pos=posParams[redirectToUrlSegment.path.substring(1)];if(!pos)throw new Error('Cannot redirect to \''+redirectTo+'\'. Cannot find \''+redirectToUrlSegment.path+'\'.');return pos};ApplyRedirects.prototype.findOrReturn=function(redirectToUrlSegment,actualSegments){var idx=0;for(var _i=0,actualSegments_1=actualSegments;_i<actualSegments_1.length;_i++){var s=actualSegments_1[_i];if(s.path===redirectToUrlSegment.path){actualSegments.splice(idx);return s}idx++;}return redirectToUrlSegment};return ApplyRedirects}();function runGuards(injector,route){var canLoad=route.canLoad;if(!canLoad||canLoad.length===0)return of_1$1(true);var obs=map_2.call(from_1$1(canLoad),function(c){var guard=injector.get(c);if(guard.canLoad){return wrapIntoObservable(guard.canLoad(route))}else{return wrapIntoObservable(guard(route))}});return andObservables(obs)}function match(segmentGroup,route,segments){var noMatch={matched:false,consumedSegments:[],lastChild:0,positionalParamSegments:{}};if(route.path===''){if(route.pathMatch==='full'&&(segmentGroup.hasChildren()||segments.length>0)){return{matched:false,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}else{return{matched:true,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}}var matcher=route.matcher||defaultUrlMatcher;var res=matcher(segments,segmentGroup,route);if(!res)return noMatch;return{matched:true,consumedSegments:res.consumed,lastChild:res.consumed.length,positionalParamSegments:res.posParams}}function split(segmentGroup,consumedSegments,slicedSegments,config){if(slicedSegments.length>0&&containsEmptyPathRedirectsWithNamedOutlets(segmentGroup,slicedSegments,config)){var s=new UrlSegmentGroup(consumedSegments,createChildrenForEmptySegments(config,new UrlSegmentGroup(slicedSegments,segmentGroup.children)));return{segmentGroup:mergeTrivialChildren(s),slicedSegments:[]}}else if(slicedSegments.length===0&&containsEmptyPathRedirects(segmentGroup,slicedSegments,config)){var s=new UrlSegmentGroup(segmentGroup.segments,addEmptySegmentsToChildrenIfNeeded(segmentGroup,slicedSegments,config,segmentGroup.children));return{segmentGroup:mergeTrivialChildren(s),slicedSegments:slicedSegments}}else{return{segmentGroup:segmentGroup,slicedSegments:slicedSegments}}}function mergeTrivialChildren(s){if(s.numberOfChildren===1&&s.children[PRIMARY_OUTLET]){var c=s.children[PRIMARY_OUTLET];return new UrlSegmentGroup(s.segments.concat(c.segments),c.children)}else{return s}}function addEmptySegmentsToChildrenIfNeeded(segmentGroup,slicedSegments,routes,children){var res={};for(var _i=0,routes_1=routes;_i<routes_1.length;_i++){var r=routes_1[_i];if(emptyPathRedirect(segmentGroup,slicedSegments,r)&&!children[getOutlet$1(r)]){res[getOutlet$1(r)]=new UrlSegmentGroup([],{});}}return merge$8(children,res)}function createChildrenForEmptySegments(routes,primarySegmentGroup){var res={};res[PRIMARY_OUTLET]=primarySegmentGroup;for(var _i=0,routes_2=routes;_i<routes_2.length;_i++){var r=routes_2[_i];if(r.path===''&&getOutlet$1(r)!==PRIMARY_OUTLET){res[getOutlet$1(r)]=new UrlSegmentGroup([],{});}}return res}function containsEmptyPathRedirectsWithNamedOutlets(segmentGroup,slicedSegments,routes){return routes.filter(function(r){return emptyPathRedirect(segmentGroup,slicedSegments,r)&&getOutlet$1(r)!==PRIMARY_OUTLET}).length>0}function containsEmptyPathRedirects(segmentGroup,slicedSegments,routes){return routes.filter(function(r){return emptyPathRedirect(segmentGroup,slicedSegments,r)}).length>0}function emptyPathRedirect(segmentGroup,slicedSegments,r){if((segmentGroup.hasChildren()||slicedSegments.length>0)&&r.pathMatch==='full')return false;return r.path===''&&r.redirectTo!==undefined}function getOutlet$1(route){return route.outlet?route.outlet:PRIMARY_OUTLET}

function validateConfig(config,parentPath){if(parentPath===void 0){parentPath='';}for(var i=0;i<config.length;i++){var route=config[i];var fullPath=getFullPath(parentPath,route);validateNode(route,fullPath);}}function validateNode(route,fullPath){if(!route){throw new Error('\n      Invalid configuration of route \''+fullPath+'\': Encountered undefined route.\n      The reason might be an extra comma.\n       \n      Example: \n      const routes: Routes = [\n        { path: \'\', redirectTo: \'/dashboard\', pathMatch: \'full\' },\n        { path: \'dashboard\',  component: DashboardComponent },, << two commas\n        { path: \'detail/:id\', component: HeroDetailComponent }\n      ];\n    ')}if(Array.isArray(route)){throw new Error('Invalid configuration of route \''+fullPath+'\': Array cannot be specified')}if(!route.component&&route.outlet&&route.outlet!==PRIMARY_OUTLET){throw new Error('Invalid configuration of route \''+fullPath+'\': a componentless route cannot have a named outlet set')}if(route.redirectTo&&route.children){throw new Error('Invalid configuration of route \''+fullPath+'\': redirectTo and children cannot be used together')}if(route.redirectTo&&route.loadChildren){throw new Error('Invalid configuration of route \''+fullPath+'\': redirectTo and loadChildren cannot be used together')}if(route.children&&route.loadChildren){throw new Error('Invalid configuration of route \''+fullPath+'\': children and loadChildren cannot be used together')}if(route.redirectTo&&route.component){throw new Error('Invalid configuration of route \''+fullPath+'\': redirectTo and component cannot be used together')}if(route.path&&route.matcher){throw new Error('Invalid configuration of route \''+fullPath+'\': path and matcher cannot be used together')}if(route.redirectTo===void 0&&!route.component&&!route.children&&!route.loadChildren){throw new Error('Invalid configuration of route \''+fullPath+'\'. One of the following must be provided: component, redirectTo, children or loadChildren')}if(route.path===void 0&&route.matcher===void 0){throw new Error('Invalid configuration of route \''+fullPath+'\': routes must have either a path or a matcher specified')}if(typeof route.path==='string'&&route.path.charAt(0)==='/'){throw new Error('Invalid configuration of route \''+fullPath+'\': path cannot start with a slash')}if(route.path===''&&route.redirectTo!==void 0&&route.pathMatch===void 0){var exp='The default value of \'pathMatch\' is \'prefix\', but often the intent is to use \'full\'.';throw new Error('Invalid configuration of route \'{path: "'+fullPath+'", redirectTo: "'+route.redirectTo+'"}\': please provide \'pathMatch\'. '+exp)}if(route.pathMatch!==void 0&&route.pathMatch!=='full'&&route.pathMatch!=='prefix'){throw new Error('Invalid configuration of route \''+fullPath+'\': pathMatch can only be set to \'prefix\' or \'full\'')}if(route.children){validateConfig(route.children,fullPath);}}function getFullPath(parentPath,currentRoute){if(!currentRoute){return parentPath}if(!parentPath&&!currentRoute.path){return''}else if(parentPath&&!currentRoute.path){return parentPath+'/'}else if(!parentPath&&currentRoute.path){return currentRoute.path}else{return parentPath+'/'+currentRoute.path}}

var Tree=function(){function Tree(root){this._root=root;}Object.defineProperty(Tree.prototype,"root",{get:function get(){return this._root.value},enumerable:true,configurable:true});Tree.prototype.parent=function(t){var p=this.pathFromRoot(t);return p.length>1?p[p.length-2]:null};Tree.prototype.children=function(t){var n=findNode(t,this._root);return n?n.children.map(function(t){return t.value}):[]};Tree.prototype.firstChild=function(t){var n=findNode(t,this._root);return n&&n.children.length>0?n.children[0].value:null};Tree.prototype.siblings=function(t){var p=findPath(t,this._root,[]);if(p.length<2)return[];var c=p[p.length-2].children.map(function(c){return c.value});return c.filter(function(cc){return cc!==t})};Tree.prototype.pathFromRoot=function(t){return findPath(t,this._root,[]).map(function(s){return s.value})};return Tree}();function findNode(expected,c){if(expected===c.value)return c;for(var _i=0,_a=c.children;_i<_a.length;_i++){var cc=_a[_i];var r=findNode(expected,cc);if(r)return r}return null}function findPath(expected,c,collected){collected.push(c);if(expected===c.value)return collected;for(var _i=0,_a=c.children;_i<_a.length;_i++){var cc=_a[_i];var cloned=collected.slice(0);var r=findPath(expected,cc,cloned);if(r.length>0)return r}return[]}var TreeNode=function(){function TreeNode(value,children){this.value=value;this.children=children;}TreeNode.prototype.toString=function(){return"TreeNode("+this.value+")"};return TreeNode}();

var __extends$174=window&&window.__extends||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __);};var RouterState=function(_super){__extends$174(RouterState,_super);function RouterState(root,snapshot){_super.call(this,root);this.snapshot=snapshot;setRouterStateSnapshot(this,root);}RouterState.prototype.toString=function(){return this.snapshot.toString()};return RouterState}(Tree);function createEmptyState(urlTree,rootComponent){var snapshot=createEmptyStateSnapshot(urlTree,rootComponent);var emptyUrl=new BehaviorSubject_2([new UrlSegment('',{})]);var emptyParams=new BehaviorSubject_2({});var emptyData=new BehaviorSubject_2({});var emptyQueryParams=new BehaviorSubject_2({});var fragment=new BehaviorSubject_2('');var activated=new ActivatedRoute(emptyUrl,emptyParams,emptyQueryParams,fragment,emptyData,PRIMARY_OUTLET,rootComponent,snapshot.root);activated.snapshot=snapshot.root;return new RouterState(new TreeNode(activated,[]),snapshot)}function createEmptyStateSnapshot(urlTree,rootComponent){var emptyParams={};var emptyData={};var emptyQueryParams={};var fragment='';var activated=new ActivatedRouteSnapshot([],emptyParams,emptyQueryParams,fragment,emptyData,PRIMARY_OUTLET,rootComponent,null,urlTree.root,-1,{});return new RouterStateSnapshot('',new TreeNode(activated,[]))}var ActivatedRoute=function(){function ActivatedRoute(url,params,queryParams,fragment,data,outlet,component,futureSnapshot){this.url=url;this.params=params;this.queryParams=queryParams;this.fragment=fragment;this.data=data;this.outlet=outlet;this.component=component;this._futureSnapshot=futureSnapshot;}Object.defineProperty(ActivatedRoute.prototype,'routeConfig',{get:function get(){return this._futureSnapshot.routeConfig},enumerable:true,configurable:true});Object.defineProperty(ActivatedRoute.prototype,'root',{get:function get(){return this._routerState.root},enumerable:true,configurable:true});Object.defineProperty(ActivatedRoute.prototype,'parent',{get:function get(){return this._routerState.parent(this)},enumerable:true,configurable:true});Object.defineProperty(ActivatedRoute.prototype,'firstChild',{get:function get(){return this._routerState.firstChild(this)},enumerable:true,configurable:true});Object.defineProperty(ActivatedRoute.prototype,'children',{get:function get(){return this._routerState.children(this)},enumerable:true,configurable:true});Object.defineProperty(ActivatedRoute.prototype,'pathFromRoot',{get:function get(){return this._routerState.pathFromRoot(this)},enumerable:true,configurable:true});ActivatedRoute.prototype.toString=function(){return this.snapshot?this.snapshot.toString():'Future('+this._futureSnapshot+')'};return ActivatedRoute}();function inheritedParamsDataResolve(route){var pathToRoot=route.pathFromRoot;var inhertingStartingFrom=pathToRoot.length-1;while(inhertingStartingFrom>=1){var current=pathToRoot[inhertingStartingFrom];var parent_1=pathToRoot[inhertingStartingFrom-1];if(current.routeConfig&&current.routeConfig.path===''){inhertingStartingFrom--;}else if(!parent_1.component){inhertingStartingFrom--;}else{break}}return pathToRoot.slice(inhertingStartingFrom).reduce(function(res,curr){var params=merge$8(res.params,curr.params);var data=merge$8(res.data,curr.data);var resolve=merge$8(res.resolve,curr._resolvedData);return{params:params,data:data,resolve:resolve}},{params:{},data:{},resolve:{}})}var ActivatedRouteSnapshot=function(){function ActivatedRouteSnapshot(url,params,queryParams,fragment,data,outlet,component,routeConfig,urlSegment,lastPathIndex,resolve){this.url=url;this.params=params;this.queryParams=queryParams;this.fragment=fragment;this.data=data;this.outlet=outlet;this.component=component;this._routeConfig=routeConfig;this._urlSegment=urlSegment;this._lastPathIndex=lastPathIndex;this._resolve=resolve;}Object.defineProperty(ActivatedRouteSnapshot.prototype,'routeConfig',{get:function get(){return this._routeConfig},enumerable:true,configurable:true});Object.defineProperty(ActivatedRouteSnapshot.prototype,'root',{get:function get(){return this._routerState.root},enumerable:true,configurable:true});Object.defineProperty(ActivatedRouteSnapshot.prototype,'parent',{get:function get(){return this._routerState.parent(this)},enumerable:true,configurable:true});Object.defineProperty(ActivatedRouteSnapshot.prototype,'firstChild',{get:function get(){return this._routerState.firstChild(this)},enumerable:true,configurable:true});Object.defineProperty(ActivatedRouteSnapshot.prototype,'children',{get:function get(){return this._routerState.children(this)},enumerable:true,configurable:true});Object.defineProperty(ActivatedRouteSnapshot.prototype,'pathFromRoot',{get:function get(){return this._routerState.pathFromRoot(this)},enumerable:true,configurable:true});ActivatedRouteSnapshot.prototype.toString=function(){var url=this.url.map(function(segment){return segment.toString()}).join('/');var matched=this._routeConfig?this._routeConfig.path:'';return'Route(url:\''+url+'\', path:\''+matched+'\')'};return ActivatedRouteSnapshot}();var RouterStateSnapshot=function(_super){__extends$174(RouterStateSnapshot,_super);function RouterStateSnapshot(url,root){_super.call(this,root);this.url=url;setRouterStateSnapshot(this,root);}RouterStateSnapshot.prototype.toString=function(){return serializeNode(this._root)};return RouterStateSnapshot}(Tree);function setRouterStateSnapshot(state,node){node.value._routerState=state;node.children.forEach(function(c){return setRouterStateSnapshot(state,c)});}function serializeNode(node){var c=node.children.length>0?' { '+node.children.map(serializeNode).join(', ')+' } ':'';return''+node.value+c}function advanceActivatedRoute(route){if(route.snapshot){if(!shallowEqual(route.snapshot.queryParams,route._futureSnapshot.queryParams)){route.queryParams.next(route._futureSnapshot.queryParams);}if(route.snapshot.fragment!==route._futureSnapshot.fragment){route.fragment.next(route._futureSnapshot.fragment);}if(!shallowEqual(route.snapshot.params,route._futureSnapshot.params)){route.params.next(route._futureSnapshot.params);}if(!shallowEqualArrays(route.snapshot.url,route._futureSnapshot.url)){route.url.next(route._futureSnapshot.url);}if(!equalParamsAndUrlSegments(route.snapshot,route._futureSnapshot)){route.data.next(route._futureSnapshot.data);}route.snapshot=route._futureSnapshot;}else{route.snapshot=route._futureSnapshot;route.data.next(route._futureSnapshot.data);}}function equalParamsAndUrlSegments(a,b){return shallowEqual(a.params,b.params)&&equalSegments(a.url,b.url)}

function createRouterState(routeReuseStrategy,curr,prevState){var root=createNode(routeReuseStrategy,curr._root,prevState?prevState._root:undefined);return new RouterState(root,curr)}function createNode(routeReuseStrategy,curr,prevState){if(prevState&&routeReuseStrategy.shouldReuseRoute(curr.value,prevState.value.snapshot)){var value=prevState.value;value._futureSnapshot=curr.value;var children=createOrReuseChildren(routeReuseStrategy,curr,prevState);return new TreeNode(value,children)}else if(routeReuseStrategy.retrieve(curr.value)){var tree=routeReuseStrategy.retrieve(curr.value).route;setFutureSnapshotsOfActivatedRoutes(curr,tree);return tree}else{var value=createActivatedRoute(curr.value);var children=curr.children.map(function(c){return createNode(routeReuseStrategy,c)});return new TreeNode(value,children)}}function setFutureSnapshotsOfActivatedRoutes(curr,result){if(curr.value.routeConfig!==result.value.routeConfig){throw new Error('Cannot reattach ActivatedRouteSnapshot created from a different route')}if(curr.children.length!==result.children.length){throw new Error('Cannot reattach ActivatedRouteSnapshot with a different number of children')}result.value._futureSnapshot=curr.value;for(var i=0;i<curr.children.length;++i){setFutureSnapshotsOfActivatedRoutes(curr.children[i],result.children[i]);}}function createOrReuseChildren(routeReuseStrategy,curr,prevState){return curr.children.map(function(child){for(var _i=0,_a=prevState.children;_i<_a.length;_i++){var p=_a[_i];if(routeReuseStrategy.shouldReuseRoute(p.value.snapshot,child.value)){return createNode(routeReuseStrategy,child,p)}}return createNode(routeReuseStrategy,child)})}function createActivatedRoute(c){return new ActivatedRoute(new BehaviorSubject_2(c.url),new BehaviorSubject_2(c.params),new BehaviorSubject_2(c.queryParams),new BehaviorSubject_2(c.fragment),new BehaviorSubject_2(c.data),c.outlet,c.component,c)}

function createUrlTree(route,urlTree,commands,queryParams,fragment){if(commands.length===0){return tree(urlTree.root,urlTree.root,urlTree,queryParams,fragment)}var nav=computeNavigation(commands);if(nav.toRoot()){return tree(urlTree.root,new UrlSegmentGroup([],{}),urlTree,queryParams,fragment)}var startingPosition=findStartingPosition(nav,urlTree,route);var segmentGroup=startingPosition.processChildren?updateSegmentGroupChildren(startingPosition.segmentGroup,startingPosition.index,nav.commands):updateSegmentGroup(startingPosition.segmentGroup,startingPosition.index,nav.commands);return tree(startingPosition.segmentGroup,segmentGroup,urlTree,queryParams,fragment)}function isMatrixParams(command){return(typeof command==='undefined'?'undefined':_typeof(command))==='object'&&!command.outlets&&!command.segmentPath}function tree(oldSegmentGroup,newSegmentGroup,urlTree,queryParams,fragment){if(urlTree.root===oldSegmentGroup){return new UrlTree(newSegmentGroup,stringify$4(queryParams),fragment)}return new UrlTree(replaceSegment(urlTree.root,oldSegmentGroup,newSegmentGroup),stringify$4(queryParams),fragment)}function replaceSegment(current,oldSegment,newSegment){var children={};forEach(current.children,function(c,outletName){if(c===oldSegment){children[outletName]=newSegment;}else{children[outletName]=replaceSegment(c,oldSegment,newSegment);}});return new UrlSegmentGroup(current.segments,children)}var Navigation=function(){function Navigation(isAbsolute,numberOfDoubleDots,commands){this.isAbsolute=isAbsolute;this.numberOfDoubleDots=numberOfDoubleDots;this.commands=commands;if(isAbsolute&&commands.length>0&&isMatrixParams(commands[0])){throw new Error('Root segment cannot have matrix parameters')}var cmdWithOutlet=commands.find(function(c){return(typeof c==='undefined'?'undefined':_typeof(c))==='object'&&c.outlets});if(cmdWithOutlet&&cmdWithOutlet!==last$3(commands)){throw new Error('{outlets:{}} has to be the last command')}}Navigation.prototype.toRoot=function(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=='/'};return Navigation}();function computeNavigation(commands){if(typeof commands[0]==='string'&&commands.length===1&&commands[0]==='/'){return new Navigation(true,0,commands)}var numberOfDoubleDots=0;var isAbsolute=false;var res=commands.reduce(function(res,cmd,cmdIdx){if((typeof cmd==='undefined'?'undefined':_typeof(cmd))==='object'){if(cmd.outlets){var outlets_1={};forEach(cmd.outlets,function(commands,name){outlets_1[name]=typeof commands==='string'?commands.split('/'):commands;});return res.concat([{outlets:outlets_1}])}if(cmd.segmentPath){return res.concat([cmd.segmentPath])}}if(!(typeof cmd==='string')){return res.concat([cmd])}if(cmdIdx===0){cmd.split('/').forEach(function(urlPart,partIndex){if(partIndex==0&&urlPart==='.'){}else if(partIndex==0&&urlPart===''){isAbsolute=true;}else if(urlPart==='..'){numberOfDoubleDots++;}else if(urlPart!=''){res.push(urlPart);}});return res}return res.concat([cmd])},[]);return new Navigation(isAbsolute,numberOfDoubleDots,res)}var Position=function(){function Position(segmentGroup,processChildren,index){this.segmentGroup=segmentGroup;this.processChildren=processChildren;this.index=index;}return Position}();function findStartingPosition(nav,tree,route){if(nav.isAbsolute){return new Position(tree.root,true,0)}if(route.snapshot._lastPathIndex===-1){return new Position(route.snapshot._urlSegment,true,0)}var modifier=isMatrixParams(nav.commands[0])?0:1;var index=route.snapshot._lastPathIndex+modifier;return createPositionApplyingDoubleDots(route.snapshot._urlSegment,index,nav.numberOfDoubleDots)}function createPositionApplyingDoubleDots(group,index,numberOfDoubleDots){var g=group;var ci=index;var dd=numberOfDoubleDots;while(dd>ci){dd-=ci;g=g.parent;if(!g){throw new Error('Invalid number of \'../\'')}ci=g.segments.length;}return new Position(g,false,ci-dd)}function getPath(command){if((typeof command==='undefined'?'undefined':_typeof(command))==='object'&&command.outlets)return command.outlets[PRIMARY_OUTLET];return''+command}function getOutlets(commands){if(!(_typeof(commands[0])==='object'))return _a={},_a[PRIMARY_OUTLET]=commands,_a;if(commands[0].outlets===undefined)return _b={},_b[PRIMARY_OUTLET]=commands,_b;return commands[0].outlets;var _a,_b;}function updateSegmentGroup(segmentGroup,startIndex,commands){if(!segmentGroup){segmentGroup=new UrlSegmentGroup([],{});}if(segmentGroup.segments.length===0&&segmentGroup.hasChildren()){return updateSegmentGroupChildren(segmentGroup,startIndex,commands)}var m=prefixedWith(segmentGroup,startIndex,commands);var slicedCommands=commands.slice(m.commandIndex);if(m.match&&m.pathIndex<segmentGroup.segments.length){var g=new UrlSegmentGroup(segmentGroup.segments.slice(0,m.pathIndex),{});g.children[PRIMARY_OUTLET]=new UrlSegmentGroup(segmentGroup.segments.slice(m.pathIndex),segmentGroup.children);return updateSegmentGroupChildren(g,0,slicedCommands)}else if(m.match&&slicedCommands.length===0){return new UrlSegmentGroup(segmentGroup.segments,{})}else if(m.match&&!segmentGroup.hasChildren()){return createNewSegmentGroup(segmentGroup,startIndex,commands)}else if(m.match){return updateSegmentGroupChildren(segmentGroup,0,slicedCommands)}else{return createNewSegmentGroup(segmentGroup,startIndex,commands)}}function updateSegmentGroupChildren(segmentGroup,startIndex,commands){if(commands.length===0){return new UrlSegmentGroup(segmentGroup.segments,{})}else{var outlets_2=getOutlets(commands);var children_1={};forEach(outlets_2,function(commands,outlet){if(commands!==null){children_1[outlet]=updateSegmentGroup(segmentGroup.children[outlet],startIndex,commands);}});forEach(segmentGroup.children,function(child,childOutlet){if(outlets_2[childOutlet]===undefined){children_1[childOutlet]=child;}});return new UrlSegmentGroup(segmentGroup.segments,children_1)}}function prefixedWith(segmentGroup,startIndex,commands){var currentCommandIndex=0;var currentPathIndex=startIndex;var noMatch={match:false,pathIndex:0,commandIndex:0};while(currentPathIndex<segmentGroup.segments.length){if(currentCommandIndex>=commands.length)return noMatch;var path=segmentGroup.segments[currentPathIndex];var curr=getPath(commands[currentCommandIndex]);var next=currentCommandIndex<commands.length-1?commands[currentCommandIndex+1]:null;if(currentPathIndex>0&&curr===undefined)break;if(curr&&next&&(typeof next==='undefined'?'undefined':_typeof(next))==='object'&&next.outlets===undefined){if(!compare(curr,next,path))return noMatch;currentCommandIndex+=2;}else{if(!compare(curr,{},path))return noMatch;currentCommandIndex++;}currentPathIndex++;}return{match:true,pathIndex:currentPathIndex,commandIndex:currentCommandIndex}}function createNewSegmentGroup(segmentGroup,startIndex,commands){var paths=segmentGroup.segments.slice(0,startIndex);var i=0;while(i<commands.length){if(_typeof(commands[i])==='object'&&commands[i].outlets!==undefined){var children=createNewSegmentChildren(commands[i].outlets);return new UrlSegmentGroup(paths,children)}if(i===0&&isMatrixParams(commands[0])){var p=segmentGroup.segments[startIndex];paths.push(new UrlSegment(p.path,commands[0]));i++;continue}var curr=getPath(commands[i]);var next=i<commands.length-1?commands[i+1]:null;if(curr&&next&&isMatrixParams(next)){paths.push(new UrlSegment(curr,stringify$4(next)));i+=2;}else{paths.push(new UrlSegment(curr,{}));i++;}}return new UrlSegmentGroup(paths,{})}function createNewSegmentChildren(outlets){var children={};forEach(outlets,function(commands,outlet){if(commands!==null){children[outlet]=createNewSegmentGroup(new UrlSegmentGroup([],{}),0,commands);}});return children}function stringify$4(params){var res={};forEach(params,function(v,k){return res[k]=''+v});return res}function compare(path,params,segment){return path==segment.path&&shallowEqual(params,segment.parameters)}

var NoMatch$1=function(){function NoMatch(){}return NoMatch}();function recognize(rootComponentType,config,urlTree,url){return new Recognizer(rootComponentType,config,urlTree,url).recognize()}var Recognizer=function(){function Recognizer(rootComponentType,config,urlTree,url){this.rootComponentType=rootComponentType;this.config=config;this.urlTree=urlTree;this.url=url;}Recognizer.prototype.recognize=function(){try{var rootSegmentGroup=split$1(this.urlTree.root,[],[],this.config).segmentGroup;var children=this.processSegmentGroup(this.config,rootSegmentGroup,PRIMARY_OUTLET);var root=new ActivatedRouteSnapshot([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},PRIMARY_OUTLET,this.rootComponentType,null,this.urlTree.root,-1,{});var rootNode=new TreeNode(root,children);var routeState=new RouterStateSnapshot(this.url,rootNode);this.inheriteParamsAndData(routeState._root);return of_1$1(routeState)}catch(e){return new Observable_2(function(obs){return obs.error(e)})}};Recognizer.prototype.inheriteParamsAndData=function(routeNode){var _this=this;var route=routeNode.value;var i=inheritedParamsDataResolve(route);route.params=Object.freeze(i.params);route.data=Object.freeze(i.data);routeNode.children.forEach(function(n){return _this.inheriteParamsAndData(n)});};Recognizer.prototype.processSegmentGroup=function(config,segmentGroup,outlet){if(segmentGroup.segments.length===0&&segmentGroup.hasChildren()){return this.processChildren(config,segmentGroup)}else{return this.processSegment(config,segmentGroup,segmentGroup.segments,outlet)}};Recognizer.prototype.processChildren=function(config,segmentGroup){var _this=this;var children=mapChildrenIntoArray(segmentGroup,function(child,childOutlet){return _this.processSegmentGroup(config,child,childOutlet)});checkOutletNameUniqueness(children);sortActivatedRouteSnapshots(children);return children};Recognizer.prototype.processSegment=function(config,segmentGroup,segments,outlet){for(var _i=0,config_1=config;_i<config_1.length;_i++){var r=config_1[_i];try{return this.processSegmentAgainstRoute(r,segmentGroup,segments,outlet)}catch(e){if(!(e instanceof NoMatch$1))throw e}}if(this.noLeftoversInUrl(segmentGroup,segments,outlet)){return[]}else{throw new NoMatch$1}};Recognizer.prototype.noLeftoversInUrl=function(segmentGroup,segments,outlet){return segments.length===0&&!segmentGroup.children[outlet]};Recognizer.prototype.processSegmentAgainstRoute=function(route,rawSegment,segments,outlet){if(route.redirectTo)throw new NoMatch$1;if((route.outlet?route.outlet:PRIMARY_OUTLET)!==outlet)throw new NoMatch$1;if(route.path==='**'){var params=segments.length>0?last$3(segments).parameters:{};var snapshot_1=new ActivatedRouteSnapshot(segments,params,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,getData(route),outlet,route.component,route,getSourceSegmentGroup(rawSegment),getPathIndexShift(rawSegment)+segments.length,getResolve(route));return[new TreeNode(snapshot_1,[])]}var _a=match$1(rawSegment,route,segments),consumedSegments=_a.consumedSegments,parameters=_a.parameters,lastChild=_a.lastChild;var rawSlicedSegments=segments.slice(lastChild);var childConfig=getChildConfig(route);var _b=split$1(rawSegment,consumedSegments,rawSlicedSegments,childConfig),segmentGroup=_b.segmentGroup,slicedSegments=_b.slicedSegments;var snapshot=new ActivatedRouteSnapshot(consumedSegments,parameters,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,getData(route),outlet,route.component,route,getSourceSegmentGroup(rawSegment),getPathIndexShift(rawSegment)+consumedSegments.length,getResolve(route));if(slicedSegments.length===0&&segmentGroup.hasChildren()){var children=this.processChildren(childConfig,segmentGroup);return[new TreeNode(snapshot,children)]}else if(childConfig.length===0&&slicedSegments.length===0){return[new TreeNode(snapshot,[])]}else{var children=this.processSegment(childConfig,segmentGroup,slicedSegments,PRIMARY_OUTLET);return[new TreeNode(snapshot,children)]}};return Recognizer}();function sortActivatedRouteSnapshots(nodes){nodes.sort(function(a,b){if(a.value.outlet===PRIMARY_OUTLET)return-1;if(b.value.outlet===PRIMARY_OUTLET)return 1;return a.value.outlet.localeCompare(b.value.outlet)});}function getChildConfig(route){if(route.children){return route.children}else if(route.loadChildren){return route._loadedConfig.routes}else{return[]}}function match$1(segmentGroup,route,segments){if(route.path===''){if(route.pathMatch==='full'&&(segmentGroup.hasChildren()||segments.length>0)){throw new NoMatch$1}else{return{consumedSegments:[],lastChild:0,parameters:{}}}}var matcher=route.matcher||defaultUrlMatcher;var res=matcher(segments,segmentGroup,route);if(!res)throw new NoMatch$1;var posParams={};forEach(res.posParams,function(v,k){posParams[k]=v.path;});var parameters=merge$8(posParams,res.consumed[res.consumed.length-1].parameters);return{consumedSegments:res.consumed,lastChild:res.consumed.length,parameters:parameters}}function checkOutletNameUniqueness(nodes){var names={};nodes.forEach(function(n){var routeWithSameOutletName=names[n.value.outlet];if(routeWithSameOutletName){var p=routeWithSameOutletName.url.map(function(s){return s.toString()}).join('/');var c=n.value.url.map(function(s){return s.toString()}).join('/');throw new Error('Two segments cannot have the same outlet name: \''+p+'\' and \''+c+'\'.')}names[n.value.outlet]=n.value;});}function getSourceSegmentGroup(segmentGroup){var s=segmentGroup;while(s._sourceSegment){s=s._sourceSegment;}return s}function getPathIndexShift(segmentGroup){var s=segmentGroup;var res=s._segmentIndexShift?s._segmentIndexShift:0;while(s._sourceSegment){s=s._sourceSegment;res+=s._segmentIndexShift?s._segmentIndexShift:0;}return res-1}function split$1(segmentGroup,consumedSegments,slicedSegments,config){if(slicedSegments.length>0&&containsEmptyPathMatchesWithNamedOutlets(segmentGroup,slicedSegments,config)){var s=new UrlSegmentGroup(consumedSegments,createChildrenForEmptyPaths(segmentGroup,consumedSegments,config,new UrlSegmentGroup(slicedSegments,segmentGroup.children)));s._sourceSegment=segmentGroup;s._segmentIndexShift=consumedSegments.length;return{segmentGroup:s,slicedSegments:[]}}else if(slicedSegments.length===0&&containsEmptyPathMatches(segmentGroup,slicedSegments,config)){var s=new UrlSegmentGroup(segmentGroup.segments,addEmptyPathsToChildrenIfNeeded(segmentGroup,slicedSegments,config,segmentGroup.children));s._sourceSegment=segmentGroup;s._segmentIndexShift=consumedSegments.length;return{segmentGroup:s,slicedSegments:slicedSegments}}else{var s=new UrlSegmentGroup(segmentGroup.segments,segmentGroup.children);s._sourceSegment=segmentGroup;s._segmentIndexShift=consumedSegments.length;return{segmentGroup:s,slicedSegments:slicedSegments}}}function addEmptyPathsToChildrenIfNeeded(segmentGroup,slicedSegments,routes,children){var res={};for(var _i=0,routes_1=routes;_i<routes_1.length;_i++){var r=routes_1[_i];if(emptyPathMatch(segmentGroup,slicedSegments,r)&&!children[getOutlet$2(r)]){var s=new UrlSegmentGroup([],{});s._sourceSegment=segmentGroup;s._segmentIndexShift=segmentGroup.segments.length;res[getOutlet$2(r)]=s;}}return merge$8(children,res)}function createChildrenForEmptyPaths(segmentGroup,consumedSegments,routes,primarySegment){var res={};res[PRIMARY_OUTLET]=primarySegment;primarySegment._sourceSegment=segmentGroup;primarySegment._segmentIndexShift=consumedSegments.length;for(var _i=0,routes_2=routes;_i<routes_2.length;_i++){var r=routes_2[_i];if(r.path===''&&getOutlet$2(r)!==PRIMARY_OUTLET){var s=new UrlSegmentGroup([],{});s._sourceSegment=segmentGroup;s._segmentIndexShift=consumedSegments.length;res[getOutlet$2(r)]=s;}}return res}function containsEmptyPathMatchesWithNamedOutlets(segmentGroup,slicedSegments,routes){return routes.filter(function(r){return emptyPathMatch(segmentGroup,slicedSegments,r)&&getOutlet$2(r)!==PRIMARY_OUTLET}).length>0}function containsEmptyPathMatches(segmentGroup,slicedSegments,routes){return routes.filter(function(r){return emptyPathMatch(segmentGroup,slicedSegments,r)}).length>0}function emptyPathMatch(segmentGroup,slicedSegments,r){if((segmentGroup.hasChildren()||slicedSegments.length>0)&&r.pathMatch==='full')return false;return r.path===''&&r.redirectTo===undefined}function getOutlet$2(route){return route.outlet?route.outlet:PRIMARY_OUTLET}function getData(route){return route.data?route.data:{}}function getResolve(route){return route.resolve?route.resolve:{}}

var RouterOutletMap=function(){function RouterOutletMap(){this._outlets={};}RouterOutletMap.prototype.registerOutlet=function(name,outlet){this._outlets[name]=outlet;};RouterOutletMap.prototype.removeOutlet=function(name){this._outlets[name]=undefined;};return RouterOutletMap}();

var UrlHandlingStrategy=function(){function UrlHandlingStrategy(){}UrlHandlingStrategy.prototype.shouldProcessUrl=function(url){};UrlHandlingStrategy.prototype.extract=function(url){};UrlHandlingStrategy.prototype.merge=function(newUrlPart,rawUrl){};return UrlHandlingStrategy}();var DefaultUrlHandlingStrategy=function(){function DefaultUrlHandlingStrategy(){}DefaultUrlHandlingStrategy.prototype.shouldProcessUrl=function(url){return true};DefaultUrlHandlingStrategy.prototype.extract=function(url){return url};DefaultUrlHandlingStrategy.prototype.merge=function(newUrlPart,wholeUrl){return newUrlPart};return DefaultUrlHandlingStrategy}();

var NavigationStart=function(){function NavigationStart(id,url){this.id=id;this.url=url;}NavigationStart.prototype.toString=function(){return'NavigationStart(id: '+this.id+', url: \''+this.url+'\')'};return NavigationStart}();var NavigationEnd=function(){function NavigationEnd(id,url,urlAfterRedirects){this.id=id;this.url=url;this.urlAfterRedirects=urlAfterRedirects;}NavigationEnd.prototype.toString=function(){return'NavigationEnd(id: '+this.id+', url: \''+this.url+'\', urlAfterRedirects: \''+this.urlAfterRedirects+'\')'};return NavigationEnd}();var NavigationCancel=function(){function NavigationCancel(id,url,reason){this.id=id;this.url=url;this.reason=reason;}NavigationCancel.prototype.toString=function(){return'NavigationCancel(id: '+this.id+', url: \''+this.url+'\')'};return NavigationCancel}();var NavigationError=function(){function NavigationError(id,url,error){this.id=id;this.url=url;this.error=error;}NavigationError.prototype.toString=function(){return'NavigationError(id: '+this.id+', url: \''+this.url+'\', error: '+this.error+')'};return NavigationError}();var RoutesRecognized=function(){function RoutesRecognized(id,url,urlAfterRedirects,state$$1){this.id=id;this.url=url;this.urlAfterRedirects=urlAfterRedirects;this.state=state$$1;}RoutesRecognized.prototype.toString=function(){return'RoutesRecognized(id: '+this.id+', url: \''+this.url+'\', urlAfterRedirects: \''+this.urlAfterRedirects+'\', state: '+this.state+')'};return RoutesRecognized}();function defaultErrorHandler(error){throw error}var DefaultRouteReuseStrategy=function(){function DefaultRouteReuseStrategy(){}DefaultRouteReuseStrategy.prototype.shouldDetach=function(route){return false};DefaultRouteReuseStrategy.prototype.store=function(route,detachedTree){};DefaultRouteReuseStrategy.prototype.shouldAttach=function(route){return false};DefaultRouteReuseStrategy.prototype.retrieve=function(route){return null};DefaultRouteReuseStrategy.prototype.shouldReuseRoute=function(future,curr){return future.routeConfig===curr.routeConfig};return DefaultRouteReuseStrategy}();var Router=function(){function Router(rootComponentType,urlSerializer,outletMap,location,injector,loader,compiler,config){this.rootComponentType=rootComponentType;this.urlSerializer=urlSerializer;this.outletMap=outletMap;this.location=location;this.injector=injector;this.config=config;this.navigations=new BehaviorSubject_2(null);this.routerEvents=new Subject_2;this.navigationId=0;this.errorHandler=defaultErrorHandler;this.navigated=false;this.urlHandlingStrategy=new DefaultUrlHandlingStrategy;this.routeReuseStrategy=new DefaultRouteReuseStrategy;this.resetConfig(config);this.currentUrlTree=createEmptyUrlTree();this.rawUrlTree=this.currentUrlTree;this.configLoader=new RouterConfigLoader(loader,compiler);this.currentRouterState=createEmptyState(this.currentUrlTree,this.rootComponentType);this.processNavigations();}Router.prototype.resetRootComponentType=function(rootComponentType){this.rootComponentType=rootComponentType;this.currentRouterState.root.component=this.rootComponentType;};Router.prototype.initialNavigation=function(){this.setUpLocationChangeListener();this.navigateByUrl(this.location.path(true),{replaceUrl:true});};Router.prototype.setUpLocationChangeListener=function(){var _this=this;if(!this.locationSubscription){this.locationSubscription=this.location.subscribe(Zone.current.wrap(function(change){var rawUrlTree=_this.urlSerializer.parse(change['url']);var lastNavigation=_this.navigations.value;if(lastNavigation&&lastNavigation.imperative&&lastNavigation.rawUrl.toString()===rawUrlTree.toString()){return}setTimeout(function(){_this.scheduleNavigation(rawUrlTree,false,{skipLocationChange:change['pop'],replaceUrl:true});},0);}));}};Object.defineProperty(Router.prototype,'routerState',{get:function get(){return this.currentRouterState},enumerable:true,configurable:true});Object.defineProperty(Router.prototype,'url',{get:function get(){return this.serializeUrl(this.currentUrlTree)},enumerable:true,configurable:true});Object.defineProperty(Router.prototype,'events',{get:function get(){return this.routerEvents},enumerable:true,configurable:true});Router.prototype.resetConfig=function(config){validateConfig(config);this.config=config;};Router.prototype.ngOnDestroy=function(){this.dispose();};Router.prototype.dispose=function(){if(this.locationSubscription){this.locationSubscription.unsubscribe();this.locationSubscription=null;}};Router.prototype.createUrlTree=function(commands,_a){var _b=_a===void 0?{}:_a,relativeTo=_b.relativeTo,queryParams=_b.queryParams,fragment=_b.fragment,preserveQueryParams=_b.preserveQueryParams,preserveFragment=_b.preserveFragment;var a=relativeTo||this.routerState.root;var q=preserveQueryParams?this.currentUrlTree.queryParams:queryParams;var f=preserveFragment?this.currentUrlTree.fragment:fragment;return createUrlTree(a,this.currentUrlTree,commands,q,f)};Router.prototype.navigateByUrl=function(url,extras){if(extras===void 0){extras={skipLocationChange:false};}if(url instanceof UrlTree){return this.scheduleNavigation(this.urlHandlingStrategy.merge(url,this.rawUrlTree),true,extras)}var urlTree=this.urlSerializer.parse(url);return this.scheduleNavigation(this.urlHandlingStrategy.merge(urlTree,this.rawUrlTree),true,extras)};Router.prototype.navigate=function(commands,extras){if(extras===void 0){extras={skipLocationChange:false};}if(_typeof(extras.queryParams)==='object'&&extras.queryParams!==null){extras.queryParams=this.removeEmptyProps(extras.queryParams);}return this.navigateByUrl(this.createUrlTree(commands,extras),extras)};Router.prototype.serializeUrl=function(url){return this.urlSerializer.serialize(url)};Router.prototype.parseUrl=function(url){return this.urlSerializer.parse(url)};Router.prototype.isActive=function(url,exact){if(url instanceof UrlTree){return containsTree(this.currentUrlTree,url,exact)}else{var urlTree=this.urlSerializer.parse(url);return containsTree(this.currentUrlTree,urlTree,exact)}};Router.prototype.removeEmptyProps=function(params){return Object.keys(params).reduce(function(result,key){var value=params[key];if(value!==null&&value!==undefined){result[key]=value;}return result},{})};Router.prototype.processNavigations=function(){var _this=this;concatMap_2.call(this.navigations,function(nav){if(nav){_this.executeScheduledNavigation(nav);return nav.promise.catch(function(){})}else{return of_1$1(null)}}).subscribe(function(){});};Router.prototype.scheduleNavigation=function(rawUrl,imperative,extras){var resolve=null;var reject=null;var promise=new Promise(function(res,rej){resolve=res;reject=rej;});var id=++this.navigationId;this.navigations.next({id:id,imperative:imperative,rawUrl:rawUrl,extras:extras,resolve:resolve,reject:reject,promise:promise});return promise.catch(function(e){return Promise.reject(e)})};Router.prototype.executeScheduledNavigation=function(_a){var _this=this;var id=_a.id,rawUrl=_a.rawUrl,extras=_a.extras,resolve=_a.resolve,reject=_a.reject;var url=this.urlHandlingStrategy.extract(rawUrl);var urlTransition=!this.navigated||url.toString()!==this.currentUrlTree.toString();if(urlTransition&&this.urlHandlingStrategy.shouldProcessUrl(rawUrl)){this.routerEvents.next(new NavigationStart(id,this.serializeUrl(url)));Promise.resolve().then(function(_){return _this.runNavigate(url,rawUrl,extras.skipLocationChange,extras.replaceUrl,id,null)}).then(resolve,reject);}else if(urlTransition&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){this.routerEvents.next(new NavigationStart(id,this.serializeUrl(url)));Promise.resolve().then(function(_){return _this.runNavigate(url,rawUrl,false,false,id,createEmptyState(url,_this.rootComponentType).snapshot)}).then(resolve,reject);}else{this.rawUrlTree=rawUrl;resolve(null);}};Router.prototype.runNavigate=function(url,rawUrl,shouldPreventPushState,shouldReplaceUrl,id,precreatedState){var _this=this;if(id!==this.navigationId){this.location.go(this.urlSerializer.serialize(this.currentUrlTree));this.routerEvents.next(new NavigationCancel(id,this.serializeUrl(url),'Navigation ID '+id+' is not equal to the current navigation id '+this.navigationId));return Promise.resolve(false)}return new Promise(function(resolvePromise,rejectPromise){var urlAndSnapshot$;if(!precreatedState){var redirectsApplied$=applyRedirects(_this.injector,_this.configLoader,_this.urlSerializer,url,_this.config);urlAndSnapshot$=mergeMap_2.call(redirectsApplied$,function(appliedUrl){return map_2.call(recognize(_this.rootComponentType,_this.config,appliedUrl,_this.serializeUrl(appliedUrl)),function(snapshot){_this.routerEvents.next(new RoutesRecognized(id,_this.serializeUrl(url),_this.serializeUrl(appliedUrl),snapshot));return{appliedUrl:appliedUrl,snapshot:snapshot}})});}else{urlAndSnapshot$=of_1$1({appliedUrl:url,snapshot:precreatedState});}var preActivation;var preactivationTraverse$=map_2.call(urlAndSnapshot$,function(_a){var appliedUrl=_a.appliedUrl,snapshot=_a.snapshot;preActivation=new PreActivation(snapshot,_this.currentRouterState.snapshot,_this.injector);preActivation.traverse(_this.outletMap);return{appliedUrl:appliedUrl,snapshot:snapshot}});var preactivationCheckGuards=mergeMap_2.call(preactivationTraverse$,function(_a){var appliedUrl=_a.appliedUrl,snapshot=_a.snapshot;if(_this.navigationId!==id)return of_1$1(false);return map_2.call(preActivation.checkGuards(),function(shouldActivate){return{appliedUrl:appliedUrl,snapshot:snapshot,shouldActivate:shouldActivate}})});var preactivationResolveData$=mergeMap_2.call(preactivationCheckGuards,function(p){if(_this.navigationId!==id)return of_1$1(false);if(p.shouldActivate){return map_2.call(preActivation.resolveData(),function(){return p})}else{return of_1$1(p)}});var routerState$=map_2.call(preactivationResolveData$,function(_a){var appliedUrl=_a.appliedUrl,snapshot=_a.snapshot,shouldActivate=_a.shouldActivate;if(shouldActivate){var state$$1=createRouterState(_this.routeReuseStrategy,snapshot,_this.currentRouterState);return{appliedUrl:appliedUrl,state:state$$1,shouldActivate:shouldActivate}}else{return{appliedUrl:appliedUrl,state:null,shouldActivate:shouldActivate}}});var navigationIsSuccessful;var storedState=_this.currentRouterState;var storedUrl=_this.currentUrlTree;routerState$.forEach(function(_a){var appliedUrl=_a.appliedUrl,state$$1=_a.state,shouldActivate=_a.shouldActivate;if(!shouldActivate||id!==_this.navigationId){navigationIsSuccessful=false;return}_this.currentUrlTree=appliedUrl;_this.rawUrlTree=_this.urlHandlingStrategy.merge(_this.currentUrlTree,rawUrl);_this.currentRouterState=state$$1;if(!shouldPreventPushState){var path=_this.urlSerializer.serialize(_this.rawUrlTree);if(_this.location.isCurrentPathEqualTo(path)||shouldReplaceUrl){_this.location.replaceState(path);}else{_this.location.go(path);}}new ActivateRoutes(_this.routeReuseStrategy,state$$1,storedState).activate(_this.outletMap);navigationIsSuccessful=true;}).then(function(){_this.navigated=true;if(navigationIsSuccessful){_this.routerEvents.next(new NavigationEnd(id,_this.serializeUrl(url),_this.serializeUrl(_this.currentUrlTree)));resolvePromise(true);}else{_this.resetUrlToCurrentUrlTree();_this.routerEvents.next(new NavigationCancel(id,_this.serializeUrl(url),''));resolvePromise(false);}},function(e){if(e instanceof NavigationCancelingError){_this.resetUrlToCurrentUrlTree();_this.navigated=true;_this.routerEvents.next(new NavigationCancel(id,_this.serializeUrl(url),e.message));resolvePromise(false);}else{_this.routerEvents.next(new NavigationError(id,_this.serializeUrl(url),e));try{resolvePromise(_this.errorHandler(e));}catch(ee){rejectPromise(ee);}}_this.currentRouterState=storedState;_this.currentUrlTree=storedUrl;_this.rawUrlTree=_this.urlHandlingStrategy.merge(_this.currentUrlTree,rawUrl);_this.location.replaceState(_this.serializeUrl(_this.rawUrlTree));});})};Router.prototype.resetUrlToCurrentUrlTree=function(){var path=this.urlSerializer.serialize(this.rawUrlTree);this.location.replaceState(path);};return Router}();var CanActivate=function(){function CanActivate(path){this.path=path;}Object.defineProperty(CanActivate.prototype,'route',{get:function get(){return this.path[this.path.length-1]},enumerable:true,configurable:true});return CanActivate}();var CanDeactivate=function(){function CanDeactivate(component,route){this.component=component;this.route=route;}return CanDeactivate}();var PreActivation=function(){function PreActivation(future,curr,injector){this.future=future;this.curr=curr;this.injector=injector;this.checks=[];}PreActivation.prototype.traverse=function(parentOutletMap){var futureRoot=this.future._root;var currRoot=this.curr?this.curr._root:null;this.traverseChildRoutes(futureRoot,currRoot,parentOutletMap,[futureRoot.value]);};PreActivation.prototype.checkGuards=function(){var _this=this;if(this.checks.length===0)return of_1$1(true);var checks$=from_1$1(this.checks);var runningChecks$=mergeMap_2.call(checks$,function(s){if(s instanceof CanActivate){return andObservables(from_1$1([_this.runCanActivateChild(s.path),_this.runCanActivate(s.route)]))}else if(s instanceof CanDeactivate){var s2=s;return _this.runCanDeactivate(s2.component,s2.route)}else{throw new Error('Cannot be reached')}});return every_2.call(runningChecks$,function(result){return result===true})};PreActivation.prototype.resolveData=function(){var _this=this;if(this.checks.length===0)return of_1$1(null);var checks$=from_1$1(this.checks);var runningChecks$=concatMap_2.call(checks$,function(s){if(s instanceof CanActivate){return _this.runResolve(s.route)}else{return of_1$1(null)}});return reduce_2.call(runningChecks$,function(_,__){return _})};PreActivation.prototype.traverseChildRoutes=function(futureNode,currNode,outletMap,futurePath){var _this=this;var prevChildren=nodeChildrenAsMap(currNode);futureNode.children.forEach(function(c){_this.traverseRoutes(c,prevChildren[c.value.outlet],outletMap,futurePath.concat([c.value]));delete prevChildren[c.value.outlet];});forEach(prevChildren,function(v,k){return _this.deactiveRouteAndItsChildren(v,outletMap._outlets[k])});};PreActivation.prototype.traverseRoutes=function(futureNode,currNode,parentOutletMap,futurePath){var future=futureNode.value;var curr=currNode?currNode.value:null;var outlet=parentOutletMap?parentOutletMap._outlets[futureNode.value.outlet]:null;if(curr&&future._routeConfig===curr._routeConfig){if(!equalParamsAndUrlSegments(future,curr)){this.checks.push(new CanDeactivate(outlet.component,curr),new CanActivate(futurePath));}else{future.data=curr.data;future._resolvedData=curr._resolvedData;}if(future.component){this.traverseChildRoutes(futureNode,currNode,outlet?outlet.outletMap:null,futurePath);}else{this.traverseChildRoutes(futureNode,currNode,parentOutletMap,futurePath);}}else{if(curr){this.deactiveRouteAndItsChildren(currNode,outlet);}this.checks.push(new CanActivate(futurePath));if(future.component){this.traverseChildRoutes(futureNode,null,outlet?outlet.outletMap:null,futurePath);}else{this.traverseChildRoutes(futureNode,null,parentOutletMap,futurePath);}}};PreActivation.prototype.deactiveRouteAndItsChildren=function(route,outlet){var _this=this;var prevChildren=nodeChildrenAsMap(route);var r=route.value;forEach(prevChildren,function(v,k){if(!r.component){_this.deactiveRouteAndItsChildren(v,outlet);}else if(!!outlet){_this.deactiveRouteAndItsChildren(v,outlet.outletMap._outlets[k]);}else{_this.deactiveRouteAndItsChildren(v,null);}});if(!r.component){this.checks.push(new CanDeactivate(null,r));}else if(outlet&&outlet.isActivated){this.checks.push(new CanDeactivate(outlet.component,r));}else{this.checks.push(new CanDeactivate(null,r));}};PreActivation.prototype.runCanActivate=function(future){var _this=this;var canActivate=future._routeConfig?future._routeConfig.canActivate:null;if(!canActivate||canActivate.length===0)return of_1$1(true);var obs=map_2.call(from_1$1(canActivate),function(c){var guard=_this.getToken(c,future);var observable;if(guard.canActivate){observable=wrapIntoObservable(guard.canActivate(future,_this.future));}else{observable=wrapIntoObservable(guard(future,_this.future));}return first_2.call(observable)});return andObservables(obs)};PreActivation.prototype.runCanActivateChild=function(path){var _this=this;var future=path[path.length-1];var canActivateChildGuards=path.slice(0,path.length-1).reverse().map(function(p){return _this.extractCanActivateChild(p)}).filter(function(_){return _!==null});return andObservables(map_2.call(from_1$1(canActivateChildGuards),function(d){var obs=map_2.call(from_1$1(d.guards),function(c){var guard=_this.getToken(c,c.node);var observable;if(guard.canActivateChild){observable=wrapIntoObservable(guard.canActivateChild(future,_this.future));}else{observable=wrapIntoObservable(guard(future,_this.future));}return first_2.call(observable)});return andObservables(obs)}))};PreActivation.prototype.extractCanActivateChild=function(p){var canActivateChild=p._routeConfig?p._routeConfig.canActivateChild:null;if(!canActivateChild||canActivateChild.length===0)return null;return{node:p,guards:canActivateChild}};PreActivation.prototype.runCanDeactivate=function(component,curr){var _this=this;var canDeactivate=curr&&curr._routeConfig?curr._routeConfig.canDeactivate:null;if(!canDeactivate||canDeactivate.length===0)return of_1$1(true);var canDeactivate$=mergeMap_2.call(from_1$1(canDeactivate),function(c){var guard=_this.getToken(c,curr);var observable;if(guard.canDeactivate){observable=wrapIntoObservable(guard.canDeactivate(component,curr,_this.curr));}else{observable=wrapIntoObservable(guard(component,curr,_this.curr));}return first_2.call(observable)});return every_2.call(canDeactivate$,function(result){return result===true})};PreActivation.prototype.runResolve=function(future){var resolve=future._resolve;return map_2.call(this.resolveNode(resolve,future),function(resolvedData){future._resolvedData=resolvedData;future.data=merge$8(future.data,inheritedParamsDataResolve(future).resolve);return null})};PreActivation.prototype.resolveNode=function(resolve,future){var _this=this;return waitForMap(resolve,function(k,v){var resolver=_this.getToken(v,future);return resolver.resolve?wrapIntoObservable(resolver.resolve(future,_this.future)):wrapIntoObservable(resolver(future,_this.future))})};PreActivation.prototype.getToken=function(token,snapshot){var config=closestLoadedConfig(snapshot);var injector=config?config.injector:this.injector;return injector.get(token)};return PreActivation}();var ActivateRoutes=function(){function ActivateRoutes(routeReuseStrategy,futureState,currState){this.routeReuseStrategy=routeReuseStrategy;this.futureState=futureState;this.currState=currState;}ActivateRoutes.prototype.activate=function(parentOutletMap){var futureRoot=this.futureState._root;var currRoot=this.currState?this.currState._root:null;this.deactivateChildRoutes(futureRoot,currRoot,parentOutletMap);advanceActivatedRoute(this.futureState.root);this.activateChildRoutes(futureRoot,currRoot,parentOutletMap);};ActivateRoutes.prototype.deactivateChildRoutes=function(futureNode,currNode,outletMap){var _this=this;var prevChildren=nodeChildrenAsMap(currNode);futureNode.children.forEach(function(c){_this.deactivateRoutes(c,prevChildren[c.value.outlet],outletMap);delete prevChildren[c.value.outlet];});forEach(prevChildren,function(v,k){return _this.deactiveRouteAndItsChildren(v,outletMap)});};ActivateRoutes.prototype.activateChildRoutes=function(futureNode,currNode,outletMap){var _this=this;var prevChildren=nodeChildrenAsMap(currNode);futureNode.children.forEach(function(c){_this.activateRoutes(c,prevChildren[c.value.outlet],outletMap);});};ActivateRoutes.prototype.deactivateRoutes=function(futureNode,currNode,parentOutletMap){var future=futureNode.value;var curr=currNode?currNode.value:null;if(future===curr){if(future.component){var outlet=getOutlet(parentOutletMap,future);this.deactivateChildRoutes(futureNode,currNode,outlet.outletMap);}else{this.deactivateChildRoutes(futureNode,currNode,parentOutletMap);}}else{if(curr){this.deactiveRouteAndItsChildren(currNode,parentOutletMap);}}};ActivateRoutes.prototype.activateRoutes=function(futureNode,currNode,parentOutletMap){var future=futureNode.value;var curr=currNode?currNode.value:null;if(future===curr){advanceActivatedRoute(future);if(future.component){var outlet=getOutlet(parentOutletMap,future);this.activateChildRoutes(futureNode,currNode,outlet.outletMap);}else{this.activateChildRoutes(futureNode,currNode,parentOutletMap);}}else{if(future.component){advanceActivatedRoute(future);var outlet=getOutlet(parentOutletMap,futureNode.value);if(this.routeReuseStrategy.shouldAttach(future.snapshot)){var stored=this.routeReuseStrategy.retrieve(future.snapshot);this.routeReuseStrategy.store(future.snapshot,null);outlet.attach(stored.componentRef,stored.route.value);advanceActivatedRouteNodeAndItsChildren(stored.route);}else{var outletMap=new RouterOutletMap;this.placeComponentIntoOutlet(outletMap,future,outlet);this.activateChildRoutes(futureNode,null,outletMap);}}else{advanceActivatedRoute(future);this.activateChildRoutes(futureNode,null,parentOutletMap);}}};ActivateRoutes.prototype.placeComponentIntoOutlet=function(outletMap,future,outlet){var resolved=[{provide:ActivatedRoute,useValue:future},{provide:RouterOutletMap,useValue:outletMap}];var config=parentLoadedConfig(future.snapshot);var resolver=null;var injector=null;if(config){injector=config.injectorFactory(outlet.locationInjector);resolver=config.factoryResolver;resolved.push({provide:ComponentFactoryResolver,useValue:resolver});}else{injector=outlet.locationInjector;resolver=outlet.locationFactoryResolver;}outlet.activate(future,resolver,injector,ReflectiveInjector.resolve(resolved),outletMap);};ActivateRoutes.prototype.deactiveRouteAndItsChildren=function(route,parentOutletMap){if(this.routeReuseStrategy.shouldDetach(route.value.snapshot)){this.detachAndStoreRouteSubtree(route,parentOutletMap);}else{this.deactiveRouteAndOutlet(route,parentOutletMap);}};ActivateRoutes.prototype.detachAndStoreRouteSubtree=function(route,parentOutletMap){var outlet=getOutlet(parentOutletMap,route.value);var componentRef=outlet.detach();this.routeReuseStrategy.store(route.value.snapshot,{componentRef:componentRef,route:route});};ActivateRoutes.prototype.deactiveRouteAndOutlet=function(route,parentOutletMap){var _this=this;var prevChildren=nodeChildrenAsMap(route);var outlet=null;try{outlet=getOutlet(parentOutletMap,route.value);}catch(e){return}var childOutletMap=outlet.outletMap;forEach(prevChildren,function(v,k){if(route.value.component){_this.deactiveRouteAndItsChildren(v,childOutletMap);}else{_this.deactiveRouteAndItsChildren(v,parentOutletMap);}});if(outlet&&outlet.isActivated){outlet.deactivate();}};return ActivateRoutes}();function advanceActivatedRouteNodeAndItsChildren(node){advanceActivatedRoute(node.value);node.children.forEach(advanceActivatedRouteNodeAndItsChildren);}function parentLoadedConfig(snapshot){var s=snapshot.parent;while(s){var c=s._routeConfig;if(c&&c._loadedConfig)return c._loadedConfig;if(c&&c.component)return null;s=s.parent;}return null}function closestLoadedConfig(snapshot){if(!snapshot)return null;var s=snapshot.parent;while(s){var c=s._routeConfig;if(c&&c._loadedConfig)return c._loadedConfig;s=s.parent;}return null}function nodeChildrenAsMap(node){return node?node.children.reduce(function(m,c){m[c.value.outlet]=c;return m},{}):{}}function getOutlet(outletMap,route){var outlet=outletMap._outlets[route.outlet];if(!outlet){var componentName=route.component.name;if(route.outlet===PRIMARY_OUTLET){throw new Error('Cannot find primary outlet to load \''+componentName+'\'')}else{throw new Error('Cannot find the outlet '+route.outlet+' to load \''+componentName+'\'')}}return outlet}

var RouterLink=function(){function RouterLink(router,route){this.router=router;this.route=route;this.commands=[];}Object.defineProperty(RouterLink.prototype,'routerLink',{set:function set(data){if(Array.isArray(data)){this.commands=data;}else{this.commands=[data];}},enumerable:true,configurable:true});RouterLink.prototype.onClick=function(){var extras={skipLocationChange:attrBoolValue(this.skipLocationChange),replaceUrl:attrBoolValue(this.replaceUrl)};this.router.navigateByUrl(this.urlTree,extras);return true};Object.defineProperty(RouterLink.prototype,'urlTree',{get:function get(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:attrBoolValue(this.preserveQueryParams),preserveFragment:attrBoolValue(this.preserveFragment)})},enumerable:true,configurable:true});RouterLink.decorators=[{type:Directive,args:[{selector:':not(a)[routerLink]'}]}];RouterLink.ctorParameters=function(){return[{type:Router},{type:ActivatedRoute}]};RouterLink.propDecorators={'queryParams':[{type:Input}],'fragment':[{type:Input}],'preserveQueryParams':[{type:Input}],'preserveFragment':[{type:Input}],'skipLocationChange':[{type:Input}],'replaceUrl':[{type:Input}],'routerLink':[{type:Input}],'onClick':[{type:HostListener,args:['click',[]]}]};return RouterLink}();var RouterLinkWithHref=function(){function RouterLinkWithHref(router,route,locationStrategy){var _this=this;this.router=router;this.route=route;this.locationStrategy=locationStrategy;this.commands=[];this.subscription=router.events.subscribe(function(s){if(s instanceof NavigationEnd){_this.updateTargetUrlAndHref();}});}Object.defineProperty(RouterLinkWithHref.prototype,'routerLink',{set:function set(data){if(Array.isArray(data)){this.commands=data;}else{this.commands=[data];}},enumerable:true,configurable:true});RouterLinkWithHref.prototype.ngOnChanges=function(changes){this.updateTargetUrlAndHref();};RouterLinkWithHref.prototype.ngOnDestroy=function(){this.subscription.unsubscribe();};RouterLinkWithHref.prototype.onClick=function(button,ctrlKey,metaKey){if(button!==0||ctrlKey||metaKey){return true}if(typeof this.target==='string'&&this.target!='_self'){return true}var extras={skipLocationChange:attrBoolValue(this.skipLocationChange),replaceUrl:attrBoolValue(this.replaceUrl)};this.router.navigateByUrl(this.urlTree,extras);return false};RouterLinkWithHref.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree));};Object.defineProperty(RouterLinkWithHref.prototype,'urlTree',{get:function get(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:attrBoolValue(this.preserveQueryParams),preserveFragment:attrBoolValue(this.preserveFragment)})},enumerable:true,configurable:true});RouterLinkWithHref.decorators=[{type:Directive,args:[{selector:'a[routerLink]'}]}];RouterLinkWithHref.ctorParameters=function(){return[{type:Router},{type:ActivatedRoute},{type:LocationStrategy}]};RouterLinkWithHref.propDecorators={'target':[{type:Input}],'queryParams':[{type:Input}],'fragment':[{type:Input}],'preserveQueryParams':[{type:Input}],'preserveFragment':[{type:Input}],'skipLocationChange':[{type:Input}],'replaceUrl':[{type:Input}],'href':[{type:HostBinding}],'routerLink':[{type:Input}],'onClick':[{type:HostListener,args:['click',['$event.button','$event.ctrlKey','$event.metaKey']]}]};return RouterLinkWithHref}();function attrBoolValue(s){return s===''||!!s}

var RouterLinkActive=function(){function RouterLinkActive(router,element,renderer){var _this=this;this.router=router;this.element=element;this.renderer=renderer;this.classes=[];this.routerLinkActiveOptions={exact:false};this.subscription=router.events.subscribe(function(s){if(s instanceof NavigationEnd){_this.update();}});}Object.defineProperty(RouterLinkActive.prototype,'isActive',{get:function get(){return this.hasActiveLink()},enumerable:true,configurable:true});RouterLinkActive.prototype.ngAfterContentInit=function(){var _this=this;this.links.changes.subscribe(function(s){return _this.update()});this.linksWithHrefs.changes.subscribe(function(s){return _this.update()});this.update();};Object.defineProperty(RouterLinkActive.prototype,'routerLinkActive',{set:function set(data){if(Array.isArray(data)){this.classes=data;}else{this.classes=data.split(' ');}},enumerable:true,configurable:true});RouterLinkActive.prototype.ngOnChanges=function(changes){this.update();};RouterLinkActive.prototype.ngOnDestroy=function(){this.subscription.unsubscribe();};RouterLinkActive.prototype.update=function(){var _this=this;if(!this.links||!this.linksWithHrefs||!this.router.navigated)return;var isActive=this.hasActiveLink();this.classes.forEach(function(c){if(c){_this.renderer.setElementClass(_this.element.nativeElement,c,isActive);}});};RouterLinkActive.prototype.isLinkActive=function(router){var _this=this;return function(link){return router.isActive(link.urlTree,_this.routerLinkActiveOptions.exact)}};RouterLinkActive.prototype.hasActiveLink=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))};RouterLinkActive.decorators=[{type:Directive,args:[{selector:'[routerLinkActive]',exportAs:'routerLinkActive'}]}];RouterLinkActive.ctorParameters=function(){return[{type:Router},{type:ElementRef},{type:Renderer}]};RouterLinkActive.propDecorators={'links':[{type:ContentChildren,args:[RouterLink,{descendants:true}]}],'linksWithHrefs':[{type:ContentChildren,args:[RouterLinkWithHref,{descendants:true}]}],'routerLinkActiveOptions':[{type:Input}],'routerLinkActive':[{type:Input}]};return RouterLinkActive}();

var RouterOutlet=function(){function RouterOutlet(parentOutletMap,location,resolver,name){this.parentOutletMap=parentOutletMap;this.location=location;this.resolver=resolver;this.name=name;this.activateEvents=new EventEmitter;this.deactivateEvents=new EventEmitter;parentOutletMap.registerOutlet(name?name:PRIMARY_OUTLET,this);}RouterOutlet.prototype.ngOnDestroy=function(){this.parentOutletMap.removeOutlet(this.name?this.name:PRIMARY_OUTLET);};Object.defineProperty(RouterOutlet.prototype,'locationInjector',{get:function get(){return this.location.injector},enumerable:true,configurable:true});Object.defineProperty(RouterOutlet.prototype,'locationFactoryResolver',{get:function get(){return this.resolver},enumerable:true,configurable:true});Object.defineProperty(RouterOutlet.prototype,'isActivated',{get:function get(){return!!this.activated},enumerable:true,configurable:true});Object.defineProperty(RouterOutlet.prototype,'component',{get:function get(){if(!this.activated)throw new Error('Outlet is not activated');return this.activated.instance},enumerable:true,configurable:true});Object.defineProperty(RouterOutlet.prototype,'activatedRoute',{get:function get(){if(!this.activated)throw new Error('Outlet is not activated');return this._activatedRoute},enumerable:true,configurable:true});RouterOutlet.prototype.detach=function(){if(!this.activated)throw new Error('Outlet is not activated');this.location.detach();var r=this.activated;this.activated=null;this._activatedRoute=null;return r};RouterOutlet.prototype.attach=function(ref,activatedRoute){this.activated=ref;this._activatedRoute=activatedRoute;this.location.insert(ref.hostView);};RouterOutlet.prototype.deactivate=function(){if(this.activated){var c=this.component;this.activated.destroy();this.activated=null;this._activatedRoute=null;this.deactivateEvents.emit(c);}};RouterOutlet.prototype.activate=function(activatedRoute,resolver,injector,providers,outletMap){if(this.isActivated){throw new Error('Cannot activate an already activated outlet')}this.outletMap=outletMap;this._activatedRoute=activatedRoute;var snapshot=activatedRoute._futureSnapshot;var component=snapshot._routeConfig.component;var factory=resolver.resolveComponentFactory(component);var inj=ReflectiveInjector.fromResolvedProviders(providers,injector);this.activated=this.location.createComponent(factory,this.location.length,inj,[]);this.activated.changeDetectorRef.detectChanges();this.activateEvents.emit(this.activated.instance);};RouterOutlet.decorators=[{type:Directive,args:[{selector:'router-outlet'}]}];RouterOutlet.ctorParameters=function(){return[{type:RouterOutletMap},{type:ViewContainerRef},{type:ComponentFactoryResolver},{type:undefined,decorators:[{type:Attribute,args:['name']}]}]};RouterOutlet.propDecorators={'activateEvents':[{type:Output,args:['activate']}],'deactivateEvents':[{type:Output,args:['deactivate']}]};return RouterOutlet}();

var RouteReuseStrategy=function(){function RouteReuseStrategy(){}RouteReuseStrategy.prototype.shouldDetach=function(route){};RouteReuseStrategy.prototype.store=function(route,handle){};RouteReuseStrategy.prototype.shouldAttach=function(route){};RouteReuseStrategy.prototype.retrieve=function(route){};RouteReuseStrategy.prototype.shouldReuseRoute=function(future,curr){};return RouteReuseStrategy}();

var getDOM$1=__platform_browser_private__.getDOM;

var PreloadingStrategy=function(){function PreloadingStrategy(){}PreloadingStrategy.prototype.preload=function(route,fn){};return PreloadingStrategy}();var PreloadAllModules=function(){function PreloadAllModules(){}PreloadAllModules.prototype.preload=function(route,fn){return _catch_2.call(fn(),function(){return of_1$1(null)})};return PreloadAllModules}();var NoPreloading=function(){function NoPreloading(){}NoPreloading.prototype.preload=function(route,fn){return of_1$1(null)};return NoPreloading}();var RouterPreloader=function(){function RouterPreloader(router,moduleLoader,compiler,injector,preloadingStrategy){this.router=router;this.injector=injector;this.preloadingStrategy=preloadingStrategy;this.loader=new RouterConfigLoader(moduleLoader,compiler);}RouterPreloader.prototype.setUpPreloading=function(){var _this=this;var navigations=filter_2.call(this.router.events,function(e){return e instanceof NavigationEnd});this.subscription=concatMap_2.call(navigations,function(){return _this.preload()}).subscribe(function(v){});};RouterPreloader.prototype.preload=function(){return this.processRoutes(this.injector,this.router.config)};RouterPreloader.prototype.ngOnDestroy=function(){this.subscription.unsubscribe();};RouterPreloader.prototype.processRoutes=function(injector,routes){var res=[];for(var _i=0,routes_1=routes;_i<routes_1.length;_i++){var c=routes_1[_i];if(c.loadChildren&&!c.canLoad&&c._loadedConfig){var childConfig=c._loadedConfig;res.push(this.processRoutes(childConfig.injector,childConfig.routes));}else if(c.loadChildren&&!c.canLoad){res.push(this.preloadConfig(injector,c));}else if(c.children){res.push(this.processRoutes(injector,c.children));}}return mergeAll_2.call(from_1$1(res))};RouterPreloader.prototype.preloadConfig=function(injector,route){var _this=this;return this.preloadingStrategy.preload(route,function(){var loaded=_this.loader.load(injector,route.loadChildren);return mergeMap_2.call(loaded,function(config){var c=route;c._loadedConfig=config;return _this.processRoutes(config.injector,config.routes)})})};RouterPreloader.decorators=[{type:Injectable}];RouterPreloader.ctorParameters=function(){return[{type:Router},{type:NgModuleFactoryLoader},{type:Compiler},{type:Injector},{type:PreloadingStrategy}]};return RouterPreloader}();

var ROUTER_DIRECTIVES=[RouterOutlet,RouterLink,RouterLinkWithHref,RouterLinkActive];var ROUTER_CONFIGURATION=new OpaqueToken('ROUTER_CONFIGURATION');var ROUTER_FORROOT_GUARD=new OpaqueToken('ROUTER_FORROOT_GUARD');var ROUTER_PROVIDERS=[Location,{provide:UrlSerializer,useClass:DefaultUrlSerializer},{provide:Router,useFactory:setupRouter,deps:[ApplicationRef,UrlSerializer,RouterOutletMap,Location,Injector,NgModuleFactoryLoader,Compiler,ROUTES,ROUTER_CONFIGURATION,[UrlHandlingStrategy,new Optional],[RouteReuseStrategy,new Optional]]},RouterOutletMap,{provide:ActivatedRoute,useFactory:rootRoute,deps:[Router]},{provide:NgModuleFactoryLoader,useClass:SystemJsNgModuleLoader},RouterPreloader,NoPreloading,PreloadAllModules,{provide:ROUTER_CONFIGURATION,useValue:{enableTracing:false}}];function routerNgProbeToken(){return new NgProbeToken('Router',Router)}var RouterModule=function(){function RouterModule(guard){}RouterModule.forRoot=function(routes,config){return{ngModule:RouterModule,providers:[ROUTER_PROVIDERS,provideRoutes(routes),{provide:ROUTER_FORROOT_GUARD,useFactory:provideForRootGuard,deps:[[Router,new Optional,new SkipSelf]]},{provide:ROUTER_CONFIGURATION,useValue:config?config:{}},{provide:LocationStrategy,useFactory:provideLocationStrategy,deps:[PlatformLocation,[new Inject(APP_BASE_HREF),new Optional],ROUTER_CONFIGURATION]},{provide:PreloadingStrategy,useExisting:config&&config.preloadingStrategy?config.preloadingStrategy:NoPreloading},{provide:NgProbeToken,multi:true,useFactory:routerNgProbeToken},provideRouterInitializer()]}};RouterModule.forChild=function(routes){return{ngModule:RouterModule,providers:[provideRoutes(routes)]}};RouterModule.decorators=[{type:NgModule,args:[{declarations:ROUTER_DIRECTIVES,exports:ROUTER_DIRECTIVES}]}];RouterModule.ctorParameters=function(){return[{type:undefined,decorators:[{type:Optional},{type:Inject,args:[ROUTER_FORROOT_GUARD]}]}]};return RouterModule}();function provideLocationStrategy(platformLocationStrategy,baseHref,options){if(options===void 0){options={};}return options.useHash?new HashLocationStrategy(platformLocationStrategy,baseHref):new PathLocationStrategy(platformLocationStrategy,baseHref)}function provideForRootGuard(router){if(router){throw new Error('RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.')}return'guarded'}function provideRoutes(routes){return[{provide:ANALYZE_FOR_ENTRY_COMPONENTS,multi:true,useValue:routes},{provide:ROUTES,multi:true,useValue:routes}]}function setupRouter(ref,urlSerializer,outletMap,location,injector,loader,compiler,config,opts,urlHandlingStrategy,routeReuseStrategy){if(opts===void 0){opts={};}var router=new Router(null,urlSerializer,outletMap,location,injector,loader,compiler,flatten(config));if(urlHandlingStrategy){router.urlHandlingStrategy=urlHandlingStrategy;}if(routeReuseStrategy){router.routeReuseStrategy=routeReuseStrategy;}if(opts.errorHandler){router.errorHandler=opts.errorHandler;}if(opts.enableTracing){var dom_1=getDOM$1();router.events.subscribe(function(e){dom_1.logGroup('Router Event: '+e.constructor.name);dom_1.log(e.toString());dom_1.log(e);dom_1.logGroupEnd();});}return router}function rootRoute(router){return router.routerState.root}function initialRouterNavigation(router,ref,preloader,opts){return function(bootstrappedComponentRef){if(bootstrappedComponentRef!==ref.components[0]){return}router.resetRootComponentType(ref.componentTypes[0]);preloader.setUpPreloading();if(opts.initialNavigation===false){router.setUpLocationChangeListener();}else{router.initialNavigation();}}}var ROUTER_INITIALIZER=new OpaqueToken('Router Initializer');function provideRouterInitializer(){return[{provide:ROUTER_INITIALIZER,useFactory:initialRouterNavigation,deps:[Router,ApplicationRef,RouterPreloader,ROUTER_CONFIGURATION]},{provide:APP_BOOTSTRAP_LISTENER,multi:true,useExisting:ROUTER_INITIALIZER}]}

var VERSION$4=new Version('3.3.1');

var __decorate$4=window&&window.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata$4=window&&window.__metadata||function(k,v){if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var ToneListComponent=function(){function ToneListComponent(appBus,route){classCallCheck(this,ToneListComponent);this.appBus=appBus;this.route=route;this.audioContext=new AudioContext;this.entries=[];this.isPlaying=false;this.elapsed=0;}createClass(ToneListComponent,[{key:"ngOnInit",value:function ngOnInit(){var _this=this;this.addEntry(true);this.addSubscriptions();this.route.queryParams.subscribe(function(params){if(params["entries"]!=null){try{var entries=JSON.parse(params["entries"]);_this.entries=[];_this.addEntriesFromQueryParam(entries);}catch(err){console.log(params["entries"]);throw new Error("Unable to parse entries")}}if(params["start"]=="true")_this.startAll();});}},{key:"addEntry",value:function addEntry(){var temp=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var entry=new ToneEntry;entry.temp=temp;this.entries.push(entry);}},{key:"removeEntry",value:function removeEntry(id){this.entries=this.entries.filter(function(entry){return entry.id!=id});}},{key:"startAll",value:function startAll(){var _this2=this;if(this.isPlaying)throw new Error("List is already playing");this.entries=this.entries.filter(function(entry){return!entry.temp});Observable$1.from(this.entries).flatMap(function(entry){return entry.start(_this2.audioContext)}).subscribe(function(Void){},function(err){throw new Error(err)},function(){_this2.isPlaying=true;_this2.elapsed=0;_this2.elapsedSubscription=Observable$1.interval(100).timeInterval().subscribe(function(time){_this2.elapsed+=time.interval;},function(err){throw new Error(err)});});}},{key:"stopAll",value:function stopAll(){var _this3=this;Observable$1.from(this.entries).flatMap(function(entry){return entry.stop()}).subscribe(function(Void){},function(err){throw new Error(err)},function(){_this3.elapsedSubscription.unsubscribe();_this3.isPlaying=false;_this3.addEntry(true);if(MathUtil.numberWithinPercentOfMod(_this3.elapsed,1000,10))_this3.elapsed=Math.round(_this3.elapsed/1000)*1000;});}},{key:"entriesValid",value:function entriesValid(){return Observable$1.from(this.entries).filter(function(entry){return!entry.temp}).defaultIfEmpty(null).every(function(entry){if(entry==null)return false;return entry.validate()})}},{key:"addSubscriptions",value:function addSubscriptions(){var _this4=this;this.appBus.addSubscription(ToneEndedEvent.name,function(o){return o.subscribe(function(event){if(_this4.entries.every(function(entry){return entry.ended}))_this4.stopAll();},function(err){throw new Error(err)})});this.appBus.addSubscription(ToneRemovedEvent.name,function(o){return o.subscribe(function(event){return _this4.removeEntry(event.toneEntry.id)},function(err){throw new Error(err)})});this.appBus.addSubscription(ToneAddedEvent.name,function(o){return o.subscribe(function(event){return _this4.addEntry(true)},function(err){throw new Error(err)})});}},{key:"addEntriesFromQueryParam",value:function addEntriesFromQueryParam(entries){var _this5=this;Observable$1.from(entries).map(function(input){var entry=new ToneEntry;for(var key in input){entry.frequency=input["frequency"];}return entry}).subscribe(function(entry){return _this5.entries.push(entry)});}}]);return ToneListComponent}();ToneListComponent=__decorate$4([Component({moduleId:module.id,selector:"tone-list-component",styleUrls:["tone-list.css"],templateUrl:"tone-list.html"}),__metadata$4("design:paramtypes",[AppBus,ActivatedRoute])],ToneListComponent);

var __decorate$6=window&&window.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata$6=window&&window.__metadata||function(k,v){if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var ToneEntryComponent=function(){function ToneEntryComponent(appBus){classCallCheck(this,ToneEntryComponent);this.appBus=appBus;this.TimeUnit=TimeUnit;this.MathUtil=MathUtil;}createClass(ToneEntryComponent,[{key:"ngOnInit",value:function ngOnInit(){var _this=this;this.entry.onEnded.subscribe(function(Void){return _this.appBus.publish(new ToneEndedEvent(_this.entry))});}},{key:"clickRemove",value:function clickRemove(){this.appBus.publish(new ToneRemovedEvent(this.entry));}},{key:"validateInputNumber",value:function validateInputNumber(text){return Number(text)&&Number(text)>0}},{key:"addEntryIfTemp",value:function addEntryIfTemp(entry){if(entry.temp){entry.temp=false;this.appBus.publish(new ToneAddedEvent);}}}]);return ToneEntryComponent}();__decorate$6([Input(),__metadata$6("design:type",ToneEntry)],ToneEntryComponent.prototype,"entry",void 0);ToneEntryComponent=__decorate$6([Component({moduleId:module.id,selector:"tone-entry-component",styleUrls:["tone-entry.css"],templateUrl:"tone-entry.html"}),__metadata$6("design:paramtypes",[AppBus])],ToneEntryComponent);

var routes=[{path:'',component:ToneListComponent}];var routing=RouterModule.forRoot(routes);

var __decorate=window&&window.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=window&&window.__metadata||function(k,v){if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var AppModule=function AppModule(){classCallCheck(this,AppModule);};AppModule=__decorate([NgModule({imports:[BrowserModule,FormsModule,RouterModule,routing],declarations:[AppComponent,TimeElapsedPipe,TimeUnitPipe,ToneListComponent,ToneEntryComponent],providers:[AppBus],bootstrap:[AppComponent]}),__metadata("design:paramtypes",[])],AppModule);

var styles=['.no-select[_ngcontent-%COMP%] {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.tone-entry-row[_ngcontent-%COMP%] {\n  display: inline-block;\n}\n.tone-entry-row[_ngcontent-%COMP%]   .delete-ctnr[_ngcontent-%COMP%] {\n  float: left;\n  width: 30px;\n  height: 1px;\n}\n.tone-entry-row[_ngcontent-%COMP%]   .frequency-ctnr[_ngcontent-%COMP%] {\n  float: left;\n  width: 175px;\n  margin-left: 7.5px;\n  margin-right: 7.5px;\n}\n.tone-entry-row[_ngcontent-%COMP%]   .delay-ctnr[_ngcontent-%COMP%] {\n  float: left;\n  width: 150px;\n  margin-left: 7.5px;\n  margin-right: 7.5px;\n}\n.tone-entry-row[_ngcontent-%COMP%]   .duration-ctnr[_ngcontent-%COMP%] {\n  float: left;\n  width: 150px;\n  margin-left: 7.5px;\n  margin-right: 7.5px;\n}\n.tone-entry-row[_ngcontent-%COMP%]   .volume-ctnr[_ngcontent-%COMP%] {\n  float: left;\n  width: 125px;\n  margin-left: 7.5px;\n  margin-right: 7.5px;\n}\n.tone-entry-row[_ngcontent-%COMP%]   .pan-ctnr[_ngcontent-%COMP%] {\n  float: left;\n  width: 200px;\n  margin-left: 7.5px;\n  margin-right: 7.5px;\n}\n.tone-list[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%] {\n  width: 905px;\n  display: inline-block;\n  margin-bottom: 22px;\n}\n.tone-list[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .play-pause-ctnr[_ngcontent-%COMP%] {\n  margin-left: 38px;\n  display: inline-block;\n}\n.tone-list[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .play-pause-ctnr[_ngcontent-%COMP%]   .play-pause-btn[_ngcontent-%COMP%] {\n  padding: 10px 0;\n  width: 100px;\n  text-align: center;\n  background-color: #28CD28;\n  display: inline-block;\n  border-radius: 3px;\n  cursor: pointer;\n  border: 0;\n  outline: 0;\n  transition: background-color 100ms;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.tone-list[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .play-pause-ctnr[_ngcontent-%COMP%]   .play-pause-btn[_ngcontent-%COMP%]   .fa-play[_ngcontent-%COMP%], .tone-list[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .play-pause-ctnr[_ngcontent-%COMP%]   .play-pause-btn[_ngcontent-%COMP%]   .fa-pause[_ngcontent-%COMP%] {\n  font-size: 40px;\n  color: white;\n}\n.tone-list[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .play-pause-ctnr[_ngcontent-%COMP%]   .play-pause-btn[_ngcontent-%COMP%]:hover {\n  background-color: #24b824;\n}\n.tone-list[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .play-pause-ctnr[_ngcontent-%COMP%]   .play-pause-btn[_ngcontent-%COMP%]:disabled {\n  cursor: not-allowed;\n  background-color: #CFCFCF;\n}\n.tone-list[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .time-elapsed-ctnr[_ngcontent-%COMP%] {\n  display: inline-block;\n  margin-top: 3px;\n  margin-left: 26px;\n}\n.tone-list[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .time-elapsed-ctnr[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%] {\n  font-size: 36px;\n  font-weight: 300;\n  margin: 0;\n}\n.tone-list[_ngcontent-%COMP%]   .tone-entry-row[_ngcontent-%COMP%]   .delete-ctnr[_ngcontent-%COMP%]   .fa.fa-plus[_ngcontent-%COMP%] {\n  cursor: pointer;\n  font-size: 20px;\n  margin-top: 2px;\n  margin-left: 7px;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}'];

var Wrapper_NgFor=function(){function Wrapper_NgFor(p0,p1,p2,p3){classCallCheck(this,Wrapper_NgFor);this._changed=false;this._changes={};this.context=new NgFor(p0,p1,p2,p3);this._expr_0=UNINITIALIZED;this._expr_1=UNINITIALIZED;this._expr_2=UNINITIALIZED;}createClass(Wrapper_NgFor,[{key:'ngOnDetach',value:function ngOnDetach(view,componentView,el){}},{key:'ngOnDestroy',value:function ngOnDestroy(){}},{key:'check_ngForOf',value:function check_ngForOf(currValue,throwOnChange,forceUpdate){if(forceUpdate||checkBinding(throwOnChange,this._expr_0,currValue)){this._changed=true;this.context.ngForOf=currValue;this._changes['ngForOf']=new SimpleChange(this._expr_0,currValue);this._expr_0=currValue;}}},{key:'check_ngForTrackBy',value:function check_ngForTrackBy(currValue,throwOnChange,forceUpdate){if(forceUpdate||checkBinding(throwOnChange,this._expr_1,currValue)){this._changed=true;this.context.ngForTrackBy=currValue;this._changes['ngForTrackBy']=new SimpleChange(this._expr_1,currValue);this._expr_1=currValue;}}},{key:'check_ngForTemplate',value:function check_ngForTemplate(currValue,throwOnChange,forceUpdate){if(forceUpdate||checkBinding(throwOnChange,this._expr_2,currValue)){this._changed=true;this.context.ngForTemplate=currValue;this._changes['ngForTemplate']=new SimpleChange(this._expr_2,currValue);this._expr_2=currValue;}}},{key:'ngDoCheck',value:function ngDoCheck(view,el,throwOnChange){var changed=this._changed;this._changed=false;if(!throwOnChange){if(changed){this.context.ngOnChanges(this._changes);this._changes={};}this.context.ngDoCheck();}return changed}},{key:'checkHost',value:function checkHost(view,componentView,el,throwOnChange){}},{key:'handleEvent',value:function handleEvent(eventName,$event){var result=true;return result}},{key:'subscribe',value:function subscribe(view,_eventHandler){this._eventHandler=_eventHandler;}}]);return Wrapper_NgFor}();

var styles$1=['.no-select[_ngcontent-%COMP%] {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.tone-entry-row[_ngcontent-%COMP%] {\n  display: inline-block;\n}\n.tone-entry-row[_ngcontent-%COMP%]   .delete-ctnr[_ngcontent-%COMP%] {\n  float: left;\n  width: 30px;\n  height: 1px;\n}\n.tone-entry-row[_ngcontent-%COMP%]   .frequency-ctnr[_ngcontent-%COMP%] {\n  float: left;\n  width: 175px;\n  margin-left: 7.5px;\n  margin-right: 7.5px;\n}\n.tone-entry-row[_ngcontent-%COMP%]   .delay-ctnr[_ngcontent-%COMP%] {\n  float: left;\n  width: 150px;\n  margin-left: 7.5px;\n  margin-right: 7.5px;\n}\n.tone-entry-row[_ngcontent-%COMP%]   .duration-ctnr[_ngcontent-%COMP%] {\n  float: left;\n  width: 150px;\n  margin-left: 7.5px;\n  margin-right: 7.5px;\n}\n.tone-entry-row[_ngcontent-%COMP%]   .volume-ctnr[_ngcontent-%COMP%] {\n  float: left;\n  width: 125px;\n  margin-left: 7.5px;\n  margin-right: 7.5px;\n}\n.tone-entry-row[_ngcontent-%COMP%]   .pan-ctnr[_ngcontent-%COMP%] {\n  float: left;\n  width: 200px;\n  margin-left: 7.5px;\n  margin-right: 7.5px;\n}\n.tone-entry[_ngcontent-%COMP%] {\n  margin-bottom: 10px;\n  opacity: 1;\n  transition: opacity 100ms;\n}\n.tone-entry.temp[_ngcontent-%COMP%] {\n  opacity: 0.6;\n}\n.tone-entry.temp[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n.tone-entry[_ngcontent-%COMP%]   .delete-ctnr[_ngcontent-%COMP%]   .fa-minus-circle[_ngcontent-%COMP%] {\n  cursor: pointer;\n  font-size: 18px;\n  margin-top: 9px;\n  margin-left: 7px;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.tone-entry[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\n  transition: border-color 100ms;\n}\n.tone-entry[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus {\n  border-color: #28CD28;\n}\n.tone-entry[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:focus) {\n  border-color: #d0d0d0;\n}\n.tone-entry[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover:not(:focus) {\n  border-color: #b7b7b7;\n}\n.tone-entry[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\n  border-right: 0;\n}\n.tone-entry[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%] {\n  border-color: #D75452;\n  background-color: #fdf8f8;\n}\n.tone-entry[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-btn[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%] {\n  font-size: 13px;\n  background-color: #28CD28;\n  border: 0;\n  outline: 0;\n  padding-top: 8px;\n  padding-bottom: 9px;\n  margin-left: 0;\n  padding-left: 12px;\n  padding-right: 6px;\n  transition: background-color 100ms;\n}\n.tone-entry[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-btn[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:hover {\n  background-color: #24b824;\n}\n.tone-entry[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-btn[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:active {\n  background-color: #20a220;\n}\n.tone-entry[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-btn[_ngcontent-%COMP%]   .dropdown-toggle.dropdown-toggle[_ngcontent-%COMP%]::after {\n  margin-left: 6px;\n}\n.tone-entry[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-btn[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] {\n  margin: 0;\n  padding: 3px 0;\n}\n.tone-entry[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-btn[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%] {\n  cursor: pointer;\n}\n.tone-entry[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-btn[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%] {\n  background-color: #3152AD;\n}\n.tone-entry[_ngcontent-%COMP%]   .volume-ctnr[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-addon[_ngcontent-%COMP%] {\n  background-color: #d0d0d0;\n  border: 0;\n}\n.tone-entry[_ngcontent-%COMP%]   .pan-ctnr[_ngcontent-%COMP%]   .range-ctnr[_ngcontent-%COMP%] {\n  float: left;\n  width: 57.5%;\n  margin-right: 7.5%;\n  position: relative;\n}\n.tone-entry[_ngcontent-%COMP%]   .pan-ctnr[_ngcontent-%COMP%]   .range-ctnr[_ngcontent-%COMP%]   .l-r-desc[_ngcontent-%COMP%] {\n  position: absolute;\n  margin-top: -1px;\n  cursor: default;\n}\n.tone-entry[_ngcontent-%COMP%]   .pan-ctnr[_ngcontent-%COMP%]   .range-ctnr[_ngcontent-%COMP%]   .l-r-desc.disabled[_ngcontent-%COMP%] {\n  color: #999999;\n}\n.tone-entry[_ngcontent-%COMP%]   .pan-ctnr[_ngcontent-%COMP%]   .range-ctnr[_ngcontent-%COMP%]   .left-desc[_ngcontent-%COMP%] {\n  position: absolute;\n  margin-top: -1px;\n  cursor: default;\n}\n.tone-entry[_ngcontent-%COMP%]   .pan-ctnr[_ngcontent-%COMP%]   .range-ctnr[_ngcontent-%COMP%]   .left-desc.disabled[_ngcontent-%COMP%] {\n  color: #999999;\n}\n.tone-entry[_ngcontent-%COMP%]   .pan-ctnr[_ngcontent-%COMP%]   .range-ctnr[_ngcontent-%COMP%]   .right-desc[_ngcontent-%COMP%] {\n  position: absolute;\n  margin-top: -1px;\n  cursor: default;\n  text-align: right;\n  width: 100%;\n}\n.tone-entry[_ngcontent-%COMP%]   .pan-ctnr[_ngcontent-%COMP%]   .range-ctnr[_ngcontent-%COMP%]   .right-desc.disabled[_ngcontent-%COMP%] {\n  color: #999999;\n}\n.tone-entry[_ngcontent-%COMP%]   .pan-ctnr[_ngcontent-%COMP%]   .range-ctnr[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%] {\n  padding: 0;\n  margin-top: 15px;\n  cursor: pointer;\n}\n.tone-entry[_ngcontent-%COMP%]   .pan-ctnr[_ngcontent-%COMP%]   .range-ctnr[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%]:disabled {\n  cursor: not-allowed;\n}\n.tone-entry[_ngcontent-%COMP%]   .pan-ctnr[_ngcontent-%COMP%]   .text-input[_ngcontent-%COMP%] {\n  width: 35%;\n}'];

var Wrapper_NgClass=function(){function Wrapper_NgClass(p0,p1,p2,p3){classCallCheck(this,Wrapper_NgClass);this._changed=false;this.context=new NgClass(p0,p1,p2,p3);this._expr_0=UNINITIALIZED;this._expr_1=UNINITIALIZED;}createClass(Wrapper_NgClass,[{key:'ngOnDetach',value:function ngOnDetach(view,componentView,el){}},{key:'ngOnDestroy',value:function ngOnDestroy(){}},{key:'check_klass',value:function check_klass(currValue,throwOnChange,forceUpdate){if(forceUpdate||checkBinding(throwOnChange,this._expr_0,currValue)){this._changed=true;this.context.klass=currValue;this._expr_0=currValue;}}},{key:'check_ngClass',value:function check_ngClass(currValue,throwOnChange,forceUpdate){if(forceUpdate||checkBinding(throwOnChange,this._expr_1,currValue)){this._changed=true;this.context.ngClass=currValue;this._expr_1=currValue;}}},{key:'ngDoCheck',value:function ngDoCheck(view,el,throwOnChange){var changed=this._changed;this._changed=false;if(!throwOnChange){this.context.ngDoCheck();}return changed}},{key:'checkHost',value:function checkHost(view,componentView,el,throwOnChange){}},{key:'handleEvent',value:function handleEvent(eventName,$event){var result=true;return result}},{key:'subscribe',value:function subscribe(view,_eventHandler){this._eventHandler=_eventHandler;}}]);return Wrapper_NgClass}();

var Wrapper_DefaultValueAccessor=function(){function Wrapper_DefaultValueAccessor(p0,p1){classCallCheck(this,Wrapper_DefaultValueAccessor);this._changed=false;this.context=new DefaultValueAccessor(p0,p1);}createClass(Wrapper_DefaultValueAccessor,[{key:'ngOnDetach',value:function ngOnDetach(view,componentView,el){}},{key:'ngOnDestroy',value:function ngOnDestroy(){}},{key:'ngDoCheck',value:function ngDoCheck(view,el,throwOnChange){var changed=this._changed;this._changed=false;return changed}},{key:'checkHost',value:function checkHost(view,componentView,el,throwOnChange){}},{key:'handleEvent',value:function handleEvent(eventName,$event){var result=true;if(eventName=='input'){var pd_sub_0=this.context.onChange($event.target.value)!==false;result=pd_sub_0&&result;}if(eventName=='blur'){var pd_sub_1=this.context.onTouched()!==false;result=pd_sub_1&&result;}return result}},{key:'subscribe',value:function subscribe(view,_eventHandler){this._eventHandler=_eventHandler;}}]);return Wrapper_DefaultValueAccessor}();

var Wrapper_NgModel=function(){function Wrapper_NgModel(p0,p1,p2,p3){classCallCheck(this,Wrapper_NgModel);this._changed=false;this._changes={};this.context=new NgModel(p0,p1,p2,p3);this._expr_0=UNINITIALIZED;this._expr_1=UNINITIALIZED;this._expr_2=UNINITIALIZED;this._expr_3=UNINITIALIZED;}createClass(Wrapper_NgModel,[{key:'ngOnDetach',value:function ngOnDetach(view,componentView,el){}},{key:'ngOnDestroy',value:function ngOnDestroy(){this.context.ngOnDestroy();this.subscription0&&this.subscription0.unsubscribe();}},{key:'check_name',value:function check_name(currValue,throwOnChange,forceUpdate){if(forceUpdate||checkBinding(throwOnChange,this._expr_0,currValue)){this._changed=true;this.context.name=currValue;this._changes['name']=new SimpleChange(this._expr_0,currValue);this._expr_0=currValue;}}},{key:'check_isDisabled',value:function check_isDisabled(currValue,throwOnChange,forceUpdate){if(forceUpdate||checkBinding(throwOnChange,this._expr_1,currValue)){this._changed=true;this.context.isDisabled=currValue;this._changes['isDisabled']=new SimpleChange(this._expr_1,currValue);this._expr_1=currValue;}}},{key:'check_model',value:function check_model(currValue,throwOnChange,forceUpdate){if(forceUpdate||checkBinding(throwOnChange,this._expr_2,currValue)){this._changed=true;this.context.model=currValue;this._changes['model']=new SimpleChange(this._expr_2,currValue);this._expr_2=currValue;}}},{key:'check_options',value:function check_options(currValue,throwOnChange,forceUpdate){if(forceUpdate||checkBinding(throwOnChange,this._expr_3,currValue)){this._changed=true;this.context.options=currValue;this._changes['options']=new SimpleChange(this._expr_3,currValue);this._expr_3=currValue;}}},{key:'ngDoCheck',value:function ngDoCheck(view,el,throwOnChange){var changed=this._changed;this._changed=false;if(!throwOnChange){if(changed){this.context.ngOnChanges(this._changes);this._changes={};}}return changed}},{key:'checkHost',value:function checkHost(view,componentView,el,throwOnChange){}},{key:'handleEvent',value:function handleEvent(eventName,$event){var result=true;return result}},{key:'subscribe',value:function subscribe(view,_eventHandler,emit0){this._eventHandler=_eventHandler;if(emit0){this.subscription0=this.context.update.subscribe(_eventHandler.bind(view,'ngModelChange'));}}}]);return Wrapper_NgModel}();

var Wrapper_NgControlStatus=function(){function Wrapper_NgControlStatus(p0){classCallCheck(this,Wrapper_NgControlStatus);this._changed=false;this.context=new NgControlStatus(p0);this._expr_0=UNINITIALIZED;this._expr_1=UNINITIALIZED;this._expr_2=UNINITIALIZED;this._expr_3=UNINITIALIZED;this._expr_4=UNINITIALIZED;this._expr_5=UNINITIALIZED;this._expr_6=UNINITIALIZED;}createClass(Wrapper_NgControlStatus,[{key:'ngOnDetach',value:function ngOnDetach(view,componentView,el){}},{key:'ngOnDestroy',value:function ngOnDestroy(){}},{key:'ngDoCheck',value:function ngDoCheck(view,el,throwOnChange){var changed=this._changed;this._changed=false;return changed}},{key:'checkHost',value:function checkHost(view,componentView,el,throwOnChange){var currVal_0=this.context.ngClassUntouched;if(checkBinding(throwOnChange,this._expr_0,currVal_0)){view.renderer.setElementClass(el,'ng-untouched',currVal_0);this._expr_0=currVal_0;}var currVal_1=this.context.ngClassTouched;if(checkBinding(throwOnChange,this._expr_1,currVal_1)){view.renderer.setElementClass(el,'ng-touched',currVal_1);this._expr_1=currVal_1;}var currVal_2=this.context.ngClassPristine;if(checkBinding(throwOnChange,this._expr_2,currVal_2)){view.renderer.setElementClass(el,'ng-pristine',currVal_2);this._expr_2=currVal_2;}var currVal_3=this.context.ngClassDirty;if(checkBinding(throwOnChange,this._expr_3,currVal_3)){view.renderer.setElementClass(el,'ng-dirty',currVal_3);this._expr_3=currVal_3;}var currVal_4=this.context.ngClassValid;if(checkBinding(throwOnChange,this._expr_4,currVal_4)){view.renderer.setElementClass(el,'ng-valid',currVal_4);this._expr_4=currVal_4;}var currVal_5=this.context.ngClassInvalid;if(checkBinding(throwOnChange,this._expr_5,currVal_5)){view.renderer.setElementClass(el,'ng-invalid',currVal_5);this._expr_5=currVal_5;}var currVal_6=this.context.ngClassPending;if(checkBinding(throwOnChange,this._expr_6,currVal_6)){view.renderer.setElementClass(el,'ng-pending',currVal_6);this._expr_6=currVal_6;}}},{key:'handleEvent',value:function handleEvent(eventName,$event){var result=true;return result}},{key:'subscribe',value:function subscribe(view,_eventHandler){this._eventHandler=_eventHandler;}}]);return Wrapper_NgControlStatus}();var Wrapper_NgControlStatusGroup=function(){function Wrapper_NgControlStatusGroup(p0){classCallCheck(this,Wrapper_NgControlStatusGroup);this._changed=false;this.context=new NgControlStatusGroup(p0);this._expr_0=UNINITIALIZED;this._expr_1=UNINITIALIZED;this._expr_2=UNINITIALIZED;this._expr_3=UNINITIALIZED;this._expr_4=UNINITIALIZED;this._expr_5=UNINITIALIZED;this._expr_6=UNINITIALIZED;}createClass(Wrapper_NgControlStatusGroup,[{key:'ngOnDetach',value:function ngOnDetach(view,componentView,el){}},{key:'ngOnDestroy',value:function ngOnDestroy(){}},{key:'ngDoCheck',value:function ngDoCheck(view,el,throwOnChange){var changed=this._changed;this._changed=false;return changed}},{key:'checkHost',value:function checkHost(view,componentView,el,throwOnChange){var currVal_0=this.context.ngClassUntouched;if(checkBinding(throwOnChange,this._expr_0,currVal_0)){view.renderer.setElementClass(el,'ng-untouched',currVal_0);this._expr_0=currVal_0;}var currVal_1=this.context.ngClassTouched;if(checkBinding(throwOnChange,this._expr_1,currVal_1)){view.renderer.setElementClass(el,'ng-touched',currVal_1);this._expr_1=currVal_1;}var currVal_2=this.context.ngClassPristine;if(checkBinding(throwOnChange,this._expr_2,currVal_2)){view.renderer.setElementClass(el,'ng-pristine',currVal_2);this._expr_2=currVal_2;}var currVal_3=this.context.ngClassDirty;if(checkBinding(throwOnChange,this._expr_3,currVal_3)){view.renderer.setElementClass(el,'ng-dirty',currVal_3);this._expr_3=currVal_3;}var currVal_4=this.context.ngClassValid;if(checkBinding(throwOnChange,this._expr_4,currVal_4)){view.renderer.setElementClass(el,'ng-valid',currVal_4);this._expr_4=currVal_4;}var currVal_5=this.context.ngClassInvalid;if(checkBinding(throwOnChange,this._expr_5,currVal_5)){view.renderer.setElementClass(el,'ng-invalid',currVal_5);this._expr_5=currVal_5;}var currVal_6=this.context.ngClassPending;if(checkBinding(throwOnChange,this._expr_6,currVal_6)){view.renderer.setElementClass(el,'ng-pending',currVal_6);this._expr_6=currVal_6;}}},{key:'handleEvent',value:function handleEvent(eventName,$event){var result=true;return result}},{key:'subscribe',value:function subscribe(view,_eventHandler){this._eventHandler=_eventHandler;}}]);return Wrapper_NgControlStatusGroup}();

var Wrapper_RangeValueAccessor=function(){function Wrapper_RangeValueAccessor(p0,p1){classCallCheck(this,Wrapper_RangeValueAccessor);this._changed=false;this.context=new RangeValueAccessor(p0,p1);}createClass(Wrapper_RangeValueAccessor,[{key:'ngOnDetach',value:function ngOnDetach(view,componentView,el){}},{key:'ngOnDestroy',value:function ngOnDestroy(){}},{key:'ngDoCheck',value:function ngDoCheck(view,el,throwOnChange){var changed=this._changed;this._changed=false;return changed}},{key:'checkHost',value:function checkHost(view,componentView,el,throwOnChange){}},{key:'handleEvent',value:function handleEvent(eventName,$event){var result=true;if(eventName=='change'){var pd_sub_0=this.context.onChange($event.target.value)!==false;result=pd_sub_0&&result;}if(eventName=='input'){var pd_sub_1=this.context.onChange($event.target.value)!==false;result=pd_sub_1&&result;}if(eventName=='blur'){var pd_sub_2=this.context.onTouched()!==false;result=pd_sub_2&&result;}return result}},{key:'subscribe',value:function subscribe(view,_eventHandler){this._eventHandler=_eventHandler;}}]);return Wrapper_RangeValueAccessor}();

var Wrapper_ToneEntryComponent=function(){function Wrapper_ToneEntryComponent(p0){classCallCheck(this,Wrapper_ToneEntryComponent);this._changed=false;this.context=new ToneEntryComponent(p0);this._expr_0=UNINITIALIZED;}createClass(Wrapper_ToneEntryComponent,[{key:'ngOnDetach',value:function ngOnDetach(view,componentView,el){}},{key:'ngOnDestroy',value:function ngOnDestroy(){}},{key:'check_entry',value:function check_entry(currValue,throwOnChange,forceUpdate){if(forceUpdate||checkBinding(throwOnChange,this._expr_0,currValue)){this._changed=true;this.context.entry=currValue;this._expr_0=currValue;}}},{key:'ngDoCheck',value:function ngDoCheck(view,el,throwOnChange){var changed=this._changed;this._changed=false;if(!throwOnChange){if(view.numberOfChecks===0){this.context.ngOnInit();}}return changed}},{key:'checkHost',value:function checkHost(view,componentView,el,throwOnChange){}},{key:'handleEvent',value:function handleEvent(eventName,$event){var result=true;return result}},{key:'subscribe',value:function subscribe(view,_eventHandler){this._eventHandler=_eventHandler;}}]);return Wrapper_ToneEntryComponent}();var renderType_ToneEntryComponent_Host=createRenderComponentType('',0,ViewEncapsulation.None,[],{});var View_ToneEntryComponent_Host0=function(_import2$AppView){inherits(View_ToneEntryComponent_Host0,_import2$AppView);function View_ToneEntryComponent_Host0(viewUtils,parentView,parentIndex,parentElement){classCallCheck(this,View_ToneEntryComponent_Host0);return possibleConstructorReturn(this,(View_ToneEntryComponent_Host0.__proto__||Object.getPrototypeOf(View_ToneEntryComponent_Host0)).call(this,View_ToneEntryComponent_Host0,renderType_ToneEntryComponent_Host,ViewType.HOST,viewUtils,parentView,parentIndex,parentElement,ChangeDetectorStatus.CheckAlways))}createClass(View_ToneEntryComponent_Host0,[{key:'createInternal',value:function createInternal(rootSelector){this._el_0=selectOrCreateRenderHostElement(this.renderer,'tone-entry-component',EMPTY_INLINE_ARRAY,rootSelector,null);this.compView_0=new View_ToneEntryComponent0(this.viewUtils,this,0,this._el_0);this._ToneEntryComponent_0_3=new Wrapper_ToneEntryComponent(this.injectorGet(AppBus,this.parentIndex));this.compView_0.create(this._ToneEntryComponent_0_3.context);this.init(this._el_0,this.renderer.directRenderer?null:[this._el_0],null);return new ComponentRef_(0,this,this._el_0,this._ToneEntryComponent_0_3.context)}},{key:'injectorGetInternal',value:function injectorGetInternal(token,requestNodeIndex,notFoundResult){if(token===ToneEntryComponent&&0===requestNodeIndex){return this._ToneEntryComponent_0_3.context}return notFoundResult}},{key:'detectChangesInternal',value:function detectChangesInternal(throwOnChange){this._ToneEntryComponent_0_3.ngDoCheck(this,this._el_0,throwOnChange);this.compView_0.internalDetectChanges(throwOnChange);}},{key:'destroyInternal',value:function destroyInternal(){this.compView_0.destroy();}},{key:'visitRootNodesInternal',value:function visitRootNodesInternal(cb,ctx){cb(this._el_0,ctx);}}]);return View_ToneEntryComponent_Host0}(AppView);var ToneEntryComponentNgFactory=new ComponentFactory('tone-entry-component',View_ToneEntryComponent_Host0,ToneEntryComponent);var styles_ToneEntryComponent=[styles$1];var renderType_ToneEntryComponent=createRenderComponentType('',0,ViewEncapsulation.Emulated,styles_ToneEntryComponent,{});var View_ToneEntryComponent0=function(_import2$AppView2){inherits(View_ToneEntryComponent0,_import2$AppView2);function View_ToneEntryComponent0(viewUtils,parentView,parentIndex,parentElement){classCallCheck(this,View_ToneEntryComponent0);var _this2=possibleConstructorReturn(this,(View_ToneEntryComponent0.__proto__||Object.getPrototypeOf(View_ToneEntryComponent0)).call(this,View_ToneEntryComponent0,renderType_ToneEntryComponent,ViewType.COMPONENT,viewUtils,parentView,parentIndex,parentElement,ChangeDetectorStatus.CheckAlways));_this2._map_155=pureProxy1(function(p0){return{temp:p0}});_this2._expr_156=UNINITIALIZED;_this2._map_157=pureProxy1(function(p0){return{error:p0}});_this2._expr_158=UNINITIALIZED;_this2._expr_159=UNINITIALIZED;_this2._map_160=pureProxy1(function(p0){return{active:p0}});_this2._map_161=pureProxy1(function(p0){return{active:p0}});_this2._map_162=pureProxy1(function(p0){return{active:p0}});_this2._map_163=pureProxy1(function(p0){return{active:p0}});_this2._map_164=pureProxy1(function(p0){return{error:p0}});_this2._expr_165=UNINITIALIZED;_this2._expr_166=UNINITIALIZED;_this2._map_169=pureProxy1(function(p0){return{active:p0}});_this2._expr_170=UNINITIALIZED;_this2._map_172=pureProxy1(function(p0){return{active:p0}});_this2._expr_173=UNINITIALIZED;_this2._map_175=pureProxy1(function(p0){return{active:p0}});_this2._expr_176=UNINITIALIZED;_this2._map_178=pureProxy1(function(p0){return{active:p0}});_this2._expr_179=UNINITIALIZED;_this2._map_181=pureProxy1(function(p0){return{error:p0}});_this2._expr_182=UNINITIALIZED;_this2._expr_183=UNINITIALIZED;_this2._map_185=pureProxy1(function(p0){return{active:p0}});_this2._expr_186=UNINITIALIZED;_this2._map_188=pureProxy1(function(p0){return{active:p0}});_this2._expr_189=UNINITIALIZED;_this2._map_191=pureProxy1(function(p0){return{active:p0}});_this2._expr_192=UNINITIALIZED;_this2._map_194=pureProxy1(function(p0){return{active:p0}});_this2._expr_195=UNINITIALIZED;_this2._map_197=pureProxy1(function(p0){return{disabled:p0}});_this2._map_198=pureProxy1(function(p0){return{disabled:p0}});return _this2}createClass(View_ToneEntryComponent0,[{key:'createInternal',value:function createInternal(rootSelector){var parentRenderNode=this.renderer.createViewRoot(this.parentElement);this._text_0=this.renderer.createText(parentRenderNode,'\n',null);this._el_1=createRenderElement(this.renderer,parentRenderNode,'div',new InlineArray2(2,'class','tone-entry tone-entry-row'),null);this._NgClass_1_3=new Wrapper_NgClass(this.parentView.injectorGet(IterableDiffers,this.parentIndex),this.parentView.injectorGet(KeyValueDiffers,this.parentIndex),new ElementRef(this._el_1),this.renderer);this._text_2=this.renderer.createText(this._el_1,'\n  ',null);this._el_3=createRenderElement(this.renderer,this._el_1,'div',new InlineArray2(2,'class','delete-ctnr'),null);this._text_4=this.renderer.createText(this._el_3,'\n    ',null);this._el_5=createRenderElement(this.renderer,this._el_3,'div',new InlineArray2(2,'class','fa fa-minus-circle'),null);this._text_6=this.renderer.createText(this._el_3,'\n  ',null);this._text_7=this.renderer.createText(this._el_1,'\n  ',null);this._el_8=createRenderElement(this.renderer,this._el_1,'div',new InlineArray2(2,'class','frequency-ctnr'),null);this._text_9=this.renderer.createText(this._el_8,'\n    ',null);this._el_10=createRenderElement(this.renderer,this._el_8,'div',new InlineArray2(2,'class','input-group'),null);this._text_11=this.renderer.createText(this._el_10,'\n      ',null);this._el_12=createRenderElement(this.renderer,this._el_10,'input',new InlineArray8(6,'class','form-control','placeholder','Hz','type','text'),null);this._NgClass_12_3=new Wrapper_NgClass(this.parentView.injectorGet(IterableDiffers,this.parentIndex),this.parentView.injectorGet(KeyValueDiffers,this.parentIndex),new ElementRef(this._el_12),this.renderer);this._DefaultValueAccessor_12_4=new Wrapper_DefaultValueAccessor(this.renderer,new ElementRef(this._el_12));this._NG_VALUE_ACCESSOR_12_5=[this._DefaultValueAccessor_12_4.context];this._NgModel_12_6=new Wrapper_NgModel(null,null,null,this._NG_VALUE_ACCESSOR_12_5);this._NgControl_12_7=this._NgModel_12_6.context;this._NgControlStatus_12_8=new Wrapper_NgControlStatus(this._NgControl_12_7);this._text_13=this.renderer.createText(this._el_10,'\n      ',null);this._el_14=createRenderElement(this.renderer,this._el_10,'div',new InlineArray2(2,'class','input-group-btn'),null);this._text_15=this.renderer.createText(this._el_14,'\n        ',null);this._el_16=createRenderElement(this.renderer,this._el_14,'button',new InlineArray16(10,'aria-expanded','false','aria-haspopup','true','class','btn btn-primary dropdown-toggle','data-toggle','dropdown','type','button'),null);this._text_17=this.renderer.createText(this._el_16,'',null);this._text_18=this.renderer.createText(this._el_14,'\n        ',null);this._el_19=createRenderElement(this.renderer,this._el_14,'div',new InlineArray2(2,'class','dropdown-menu'),null);this._el_20=createRenderElement(this.renderer,this._el_19,'span',new InlineArray2(2,'class','dropdown-item'),null);this._NgClass_20_3=new Wrapper_NgClass(this.parentView.injectorGet(IterableDiffers,this.parentIndex),this.parentView.injectorGet(KeyValueDiffers,this.parentIndex),new ElementRef(this._el_20),this.renderer);this._text_21=this.renderer.createText(this._el_20,'sine',null);this._el_22=createRenderElement(this.renderer,this._el_19,'span',new InlineArray2(2,'class','dropdown-item'),null);this._NgClass_22_3=new Wrapper_NgClass(this.parentView.injectorGet(IterableDiffers,this.parentIndex),this.parentView.injectorGet(KeyValueDiffers,this.parentIndex),new ElementRef(this._el_22),this.renderer);this._text_23=this.renderer.createText(this._el_22,'square',null);this._el_24=createRenderElement(this.renderer,this._el_19,'span',new InlineArray2(2,'class','dropdown-item'),null);this._NgClass_24_3=new Wrapper_NgClass(this.parentView.injectorGet(IterableDiffers,this.parentIndex),this.parentView.injectorGet(KeyValueDiffers,this.parentIndex),new ElementRef(this._el_24),this.renderer);this._text_25=this.renderer.createText(this._el_24,'triangle',null);this._el_26=createRenderElement(this.renderer,this._el_19,'span',new InlineArray2(2,'class','dropdown-item'),null);this._NgClass_26_3=new Wrapper_NgClass(this.parentView.injectorGet(IterableDiffers,this.parentIndex),this.parentView.injectorGet(KeyValueDiffers,this.parentIndex),new ElementRef(this._el_26),this.renderer);this._text_27=this.renderer.createText(this._el_26,'sawtooth',null);this._text_28=this.renderer.createText(this._el_14,'\n      ',null);this._text_29=this.renderer.createText(this._el_10,'\n    ',null);this._text_30=this.renderer.createText(this._el_8,'\n  ',null);this._text_31=this.renderer.createText(this._el_1,'\n  ',null);this._el_32=createRenderElement(this.renderer,this._el_1,'div',new InlineArray2(2,'class','delay-ctnr'),null);this._text_33=this.renderer.createText(this._el_32,'\n    ',null);this._el_34=createRenderElement(this.renderer,this._el_32,'div',new InlineArray2(2,'class','input-group'),null);this._text_35=this.renderer.createText(this._el_34,'\n      ',null);this._el_36=createRenderElement(this.renderer,this._el_34,'input',new InlineArray8(6,'class','form-control','placeholder','0','type','text'),null);this._NgClass_36_3=new Wrapper_NgClass(this.parentView.injectorGet(IterableDiffers,this.parentIndex),this.parentView.injectorGet(KeyValueDiffers,this.parentIndex),new ElementRef(this._el_36),this.renderer);this._DefaultValueAccessor_36_4=new Wrapper_DefaultValueAccessor(this.renderer,new ElementRef(this._el_36));this._NG_VALUE_ACCESSOR_36_5=[this._DefaultValueAccessor_36_4.context];this._NgModel_36_6=new Wrapper_NgModel(null,null,null,this._NG_VALUE_ACCESSOR_36_5);this._NgControl_36_7=this._NgModel_36_6.context;this._NgControlStatus_36_8=new Wrapper_NgControlStatus(this._NgControl_36_7);this._text_37=this.renderer.createText(this._el_34,'\n      ',null);this._el_38=createRenderElement(this.renderer,this._el_34,'div',new InlineArray2(2,'class','input-group-btn'),null);this._text_39=this.renderer.createText(this._el_38,'\n        ',null);this._el_40=createRenderElement(this.renderer,this._el_38,'button',new InlineArray16(10,'aria-expanded','false','aria-haspopup','true','class','btn btn-primary dropdown-toggle','data-toggle','dropdown','type','button'),null);this._text_41=this.renderer.createText(this._el_40,'',null);this._text_42=this.renderer.createText(this._el_38,'\n        ',null);this._el_43=createRenderElement(this.renderer,this._el_38,'div',new InlineArray2(2,'class','dropdown-menu'),null);this._el_44=createRenderElement(this.renderer,this._el_43,'span',new InlineArray2(2,'class','dropdown-item'),null);this._NgClass_44_3=new Wrapper_NgClass(this.parentView.injectorGet(IterableDiffers,this.parentIndex),this.parentView.injectorGet(KeyValueDiffers,this.parentIndex),new ElementRef(this._el_44),this.renderer);this._text_45=this.renderer.createText(this._el_44,'',null);this._el_46=createRenderElement(this.renderer,this._el_43,'span',new InlineArray2(2,'class','dropdown-item'),null);this._NgClass_46_3=new Wrapper_NgClass(this.parentView.injectorGet(IterableDiffers,this.parentIndex),this.parentView.injectorGet(KeyValueDiffers,this.parentIndex),new ElementRef(this._el_46),this.renderer);this._text_47=this.renderer.createText(this._el_46,'',null);this._el_48=createRenderElement(this.renderer,this._el_43,'span',new InlineArray2(2,'class','dropdown-item'),null);this._NgClass_48_3=new Wrapper_NgClass(this.parentView.injectorGet(IterableDiffers,this.parentIndex),this.parentView.injectorGet(KeyValueDiffers,this.parentIndex),new ElementRef(this._el_48),this.renderer);this._text_49=this.renderer.createText(this._el_48,'',null);this._el_50=createRenderElement(this.renderer,this._el_43,'span',new InlineArray2(2,'class','dropdown-item'),null);this._NgClass_50_3=new Wrapper_NgClass(this.parentView.injectorGet(IterableDiffers,this.parentIndex),this.parentView.injectorGet(KeyValueDiffers,this.parentIndex),new ElementRef(this._el_50),this.renderer);this._text_51=this.renderer.createText(this._el_50,'',null);this._text_52=this.renderer.createText(this._el_38,'\n      ',null);this._text_53=this.renderer.createText(this._el_34,'\n    ',null);this._text_54=this.renderer.createText(this._el_32,'\n  ',null);this._text_55=this.renderer.createText(this._el_1,'\n  ',null);this._el_56=createRenderElement(this.renderer,this._el_1,'div',new InlineArray2(2,'class','duration-ctnr'),null);this._text_57=this.renderer.createText(this._el_56,'\n    ',null);this._el_58=createRenderElement(this.renderer,this._el_56,'div',new InlineArray2(2,'class','input-group'),null);this._text_59=this.renderer.createText(this._el_58,'\n      ',null);this._el_60=createRenderElement(this.renderer,this._el_58,'input',new InlineArray8(6,'class','form-control','placeholder','0','type','text'),null);this._NgClass_60_3=new Wrapper_NgClass(this.parentView.injectorGet(IterableDiffers,this.parentIndex),this.parentView.injectorGet(KeyValueDiffers,this.parentIndex),new ElementRef(this._el_60),this.renderer);this._DefaultValueAccessor_60_4=new Wrapper_DefaultValueAccessor(this.renderer,new ElementRef(this._el_60));this._NG_VALUE_ACCESSOR_60_5=[this._DefaultValueAccessor_60_4.context];this._NgModel_60_6=new Wrapper_NgModel(null,null,null,this._NG_VALUE_ACCESSOR_60_5);this._NgControl_60_7=this._NgModel_60_6.context;this._NgControlStatus_60_8=new Wrapper_NgControlStatus(this._NgControl_60_7);this._text_61=this.renderer.createText(this._el_58,'\n      ',null);this._el_62=createRenderElement(this.renderer,this._el_58,'div',new InlineArray2(2,'class','input-group-btn'),null);this._text_63=this.renderer.createText(this._el_62,'\n        ',null);this._el_64=createRenderElement(this.renderer,this._el_62,'button',new InlineArray16(10,'aria-expanded','false','aria-haspopup','true','class','btn btn-primary dropdown-toggle','data-toggle','dropdown','type','button'),null);this._text_65=this.renderer.createText(this._el_64,'',null);this._text_66=this.renderer.createText(this._el_62,'\n        ',null);this._el_67=createRenderElement(this.renderer,this._el_62,'div',new InlineArray2(2,'class','dropdown-menu'),null);this._el_68=createRenderElement(this.renderer,this._el_67,'span',new InlineArray2(2,'class','dropdown-item'),null);this._NgClass_68_3=new Wrapper_NgClass(this.parentView.injectorGet(IterableDiffers,this.parentIndex),this.parentView.injectorGet(KeyValueDiffers,this.parentIndex),new ElementRef(this._el_68),this.renderer);this._text_69=this.renderer.createText(this._el_68,'',null);this._el_70=createRenderElement(this.renderer,this._el_67,'span',new InlineArray2(2,'class','dropdown-item'),null);this._NgClass_70_3=new Wrapper_NgClass(this.parentView.injectorGet(IterableDiffers,this.parentIndex),this.parentView.injectorGet(KeyValueDiffers,this.parentIndex),new ElementRef(this._el_70),this.renderer);this._text_71=this.renderer.createText(this._el_70,'',null);this._el_72=createRenderElement(this.renderer,this._el_67,'span',new InlineArray2(2,'class','dropdown-item'),null);this._NgClass_72_3=new Wrapper_NgClass(this.parentView.injectorGet(IterableDiffers,this.parentIndex),this.parentView.injectorGet(KeyValueDiffers,this.parentIndex),new ElementRef(this._el_72),this.renderer);this._text_73=this.renderer.createText(this._el_72,'',null);this._el_74=createRenderElement(this.renderer,this._el_67,'span',new InlineArray2(2,'class','dropdown-item'),null);this._NgClass_74_3=new Wrapper_NgClass(this.parentView.injectorGet(IterableDiffers,this.parentIndex),this.parentView.injectorGet(KeyValueDiffers,this.parentIndex),new ElementRef(this._el_74),this.renderer);this._text_75=this.renderer.createText(this._el_74,'',null);this._text_76=this.renderer.createText(this._el_62,'\n      ',null);this._text_77=this.renderer.createText(this._el_58,'\n    ',null);this._text_78=this.renderer.createText(this._el_56,'\n  ',null);this._text_79=this.renderer.createText(this._el_1,'\n  ',null);this._el_80=createRenderElement(this.renderer,this._el_1,'div',new InlineArray2(2,'class','volume-ctnr'),null);this._text_81=this.renderer.createText(this._el_80,'\n    ',null);this._el_82=createRenderElement(this.renderer,this._el_80,'div',new InlineArray2(2,'class','input-group'),null);this._text_83=this.renderer.createText(this._el_82,'\n      ',null);this._el_84=createRenderElement(this.renderer,this._el_82,'input',new InlineArray8(6,'class','form-control','placeholder','0','type','text'),null);this._DefaultValueAccessor_84_3=new Wrapper_DefaultValueAccessor(this.renderer,new ElementRef(this._el_84));this._NG_VALUE_ACCESSOR_84_4=[this._DefaultValueAccessor_84_3.context];this._NgModel_84_5=new Wrapper_NgModel(null,null,null,this._NG_VALUE_ACCESSOR_84_4);this._NgControl_84_6=this._NgModel_84_5.context;this._NgControlStatus_84_7=new Wrapper_NgControlStatus(this._NgControl_84_6);this._el_85=createRenderElement(this.renderer,this._el_82,'span',new InlineArray2(2,'class','input-group-addon'),null);this._text_86=this.renderer.createText(this._el_85,'%',null);this._text_87=this.renderer.createText(this._el_82,'\n    ',null);this._text_88=this.renderer.createText(this._el_80,'\n  ',null);this._text_89=this.renderer.createText(this._el_1,'\n  ',null);this._el_90=createRenderElement(this.renderer,this._el_1,'div',new InlineArray2(2,'class','pan-ctnr'),null);this._text_91=this.renderer.createText(this._el_90,'\n    ',null);this._el_92=createRenderElement(this.renderer,this._el_90,'div',new InlineArray2(2,'class','range-ctnr'),null);this._text_93=this.renderer.createText(this._el_92,'\n      ',null);this._el_94=createRenderElement(this.renderer,this._el_92,'p',new InlineArray2(2,'class','left-desc'),null);this._NgClass_94_3=new Wrapper_NgClass(this.parentView.injectorGet(IterableDiffers,this.parentIndex),this.parentView.injectorGet(KeyValueDiffers,this.parentIndex),new ElementRef(this._el_94),this.renderer);this._text_95=this.renderer.createText(this._el_94,'L',null);this._text_96=this.renderer.createText(this._el_92,'\n      ',null);this._el_97=createRenderElement(this.renderer,this._el_92,'p',new InlineArray2(2,'class','right-desc'),null);this._NgClass_97_3=new Wrapper_NgClass(this.parentView.injectorGet(IterableDiffers,this.parentIndex),this.parentView.injectorGet(KeyValueDiffers,this.parentIndex),new ElementRef(this._el_97),this.renderer);this._text_98=this.renderer.createText(this._el_97,'R',null);this._text_99=this.renderer.createText(this._el_92,'\n      ',null);this._el_100=createRenderElement(this.renderer,this._el_92,'input',new InlineArray16(10,'class','form-control range-input','max','1','min','-1','step','0.01','type','range'),null);this._DefaultValueAccessor_100_3=new Wrapper_DefaultValueAccessor(this.renderer,new ElementRef(this._el_100));this._RangeValueAccessor_100_4=new Wrapper_RangeValueAccessor(this.renderer,new ElementRef(this._el_100));this._NG_VALUE_ACCESSOR_100_5=[this._DefaultValueAccessor_100_3.context,this._RangeValueAccessor_100_4.context];this._NgModel_100_6=new Wrapper_NgModel(null,null,null,this._NG_VALUE_ACCESSOR_100_5);this._NgControl_100_7=this._NgModel_100_6.context;this._NgControlStatus_100_8=new Wrapper_NgControlStatus(this._NgControl_100_7);this._text_101=this.renderer.createText(this._el_92,'\n    ',null);this._text_102=this.renderer.createText(this._el_90,'\n    ',null);this._el_103=createRenderElement(this.renderer,this._el_90,'input',new InlineArray4(4,'class','form-control text-input','type','text'),null);this._DefaultValueAccessor_103_3=new Wrapper_DefaultValueAccessor(this.renderer,new ElementRef(this._el_103));this._NG_VALUE_ACCESSOR_103_4=[this._DefaultValueAccessor_103_3.context];this._NgModel_103_5=new Wrapper_NgModel(null,null,null,this._NG_VALUE_ACCESSOR_103_4);this._NgControl_103_6=this._NgModel_103_5.context;this._NgControlStatus_103_7=new Wrapper_NgControlStatus(this._NgControl_103_6);this._text_104=this.renderer.createText(this._el_90,'\n  ',null);this._text_105=this.renderer.createText(this._el_1,'\n',null);var disposable_0=subscribeToRenderElement(this,this._el_5,new InlineArray2(2,'click',null),this.eventHandler(this.handleEvent_5));var disposable_1=subscribeToRenderElement(this,this._el_12,new InlineArray8(6,'ngModelChange',null,'input',null,'blur',null),this.eventHandler(this.handleEvent_12));this._NgModel_12_6.subscribe(this,this.eventHandler(this.handleEvent_12),true);var disposable_2=subscribeToRenderElement(this,this._el_20,new InlineArray2(2,'click',null),this.eventHandler(this.handleEvent_20));var disposable_3=subscribeToRenderElement(this,this._el_22,new InlineArray2(2,'click',null),this.eventHandler(this.handleEvent_22));var disposable_4=subscribeToRenderElement(this,this._el_24,new InlineArray2(2,'click',null),this.eventHandler(this.handleEvent_24));var disposable_5=subscribeToRenderElement(this,this._el_26,new InlineArray2(2,'click',null),this.eventHandler(this.handleEvent_26));var disposable_6=subscribeToRenderElement(this,this._el_36,new InlineArray8(6,'ngModelChange',null,'input',null,'blur',null),this.eventHandler(this.handleEvent_36));this._NgModel_36_6.subscribe(this,this.eventHandler(this.handleEvent_36),true);this._pipe_timeunit_0=new TimeUnitPipe;this._pipe_timeunit_0_0=pureProxy2(this._pipe_timeunit_0.transform.bind(this._pipe_timeunit_0));var disposable_7=subscribeToRenderElement(this,this._el_44,new InlineArray2(2,'click',null),this.eventHandler(this.handleEvent_44));this._pipe_timeunit_0_1=pureProxy2(this._pipe_timeunit_0.transform.bind(this._pipe_timeunit_0));var disposable_8=subscribeToRenderElement(this,this._el_46,new InlineArray2(2,'click',null),this.eventHandler(this.handleEvent_46));this._pipe_timeunit_0_2=pureProxy2(this._pipe_timeunit_0.transform.bind(this._pipe_timeunit_0));var disposable_9=subscribeToRenderElement(this,this._el_48,new InlineArray2(2,'click',null),this.eventHandler(this.handleEvent_48));this._pipe_timeunit_0_3=pureProxy2(this._pipe_timeunit_0.transform.bind(this._pipe_timeunit_0));var disposable_10=subscribeToRenderElement(this,this._el_50,new InlineArray2(2,'click',null),this.eventHandler(this.handleEvent_50));this._pipe_timeunit_0_4=pureProxy2(this._pipe_timeunit_0.transform.bind(this._pipe_timeunit_0));var disposable_11=subscribeToRenderElement(this,this._el_60,new InlineArray8(6,'ngModelChange',null,'input',null,'blur',null),this.eventHandler(this.handleEvent_60));this._NgModel_60_6.subscribe(this,this.eventHandler(this.handleEvent_60),true);this._pipe_timeunit_0_5=pureProxy2(this._pipe_timeunit_0.transform.bind(this._pipe_timeunit_0));var disposable_12=subscribeToRenderElement(this,this._el_68,new InlineArray2(2,'click',null),this.eventHandler(this.handleEvent_68));this._pipe_timeunit_0_6=pureProxy2(this._pipe_timeunit_0.transform.bind(this._pipe_timeunit_0));var disposable_13=subscribeToRenderElement(this,this._el_70,new InlineArray2(2,'click',null),this.eventHandler(this.handleEvent_70));this._pipe_timeunit_0_7=pureProxy2(this._pipe_timeunit_0.transform.bind(this._pipe_timeunit_0));var disposable_14=subscribeToRenderElement(this,this._el_72,new InlineArray2(2,'click',null),this.eventHandler(this.handleEvent_72));this._pipe_timeunit_0_8=pureProxy2(this._pipe_timeunit_0.transform.bind(this._pipe_timeunit_0));var disposable_15=subscribeToRenderElement(this,this._el_74,new InlineArray2(2,'click',null),this.eventHandler(this.handleEvent_74));this._pipe_timeunit_0_9=pureProxy2(this._pipe_timeunit_0.transform.bind(this._pipe_timeunit_0));var disposable_16=subscribeToRenderElement(this,this._el_84,new InlineArray8(8,'ngModelChange',null,'change',null,'input',null,'blur',null),this.eventHandler(this.handleEvent_84));this._NgModel_84_5.subscribe(this,this.eventHandler(this.handleEvent_84),true);var disposable_17=subscribeToRenderElement(this,this._el_100,new InlineArray8(8,'ngModelChange',null,'input',null,'blur',null,'change',null),this.eventHandler(this.handleEvent_100));this._NgModel_100_6.subscribe(this,this.eventHandler(this.handleEvent_100),true);var disposable_18=subscribeToRenderElement(this,this._el_103,new InlineArray8(8,'ngModelChange',null,'change',null,'input',null,'blur',null),this.eventHandler(this.handleEvent_103));this._NgModel_103_5.subscribe(this,this.eventHandler(this.handleEvent_103),true);this.init(null,this.renderer.directRenderer?null:[this._text_0,this._el_1,this._text_2,this._el_3,this._text_4,this._el_5,this._text_6,this._text_7,this._el_8,this._text_9,this._el_10,this._text_11,this._el_12,this._text_13,this._el_14,this._text_15,this._el_16,this._text_17,this._text_18,this._el_19,this._el_20,this._text_21,this._el_22,this._text_23,this._el_24,this._text_25,this._el_26,this._text_27,this._text_28,this._text_29,this._text_30,this._text_31,this._el_32,this._text_33,this._el_34,this._text_35,this._el_36,this._text_37,this._el_38,this._text_39,this._el_40,this._text_41,this._text_42,this._el_43,this._el_44,this._text_45,this._el_46,this._text_47,this._el_48,this._text_49,this._el_50,this._text_51,this._text_52,this._text_53,this._text_54,this._text_55,this._el_56,this._text_57,this._el_58,this._text_59,this._el_60,this._text_61,this._el_62,this._text_63,this._el_64,this._text_65,this._text_66,this._el_67,this._el_68,this._text_69,this._el_70,this._text_71,this._el_72,this._text_73,this._el_74,this._text_75,this._text_76,this._text_77,this._text_78,this._text_79,this._el_80,this._text_81,this._el_82,this._text_83,this._el_84,this._el_85,this._text_86,this._text_87,this._text_88,this._text_89,this._el_90,this._text_91,this._el_92,this._text_93,this._el_94,this._text_95,this._text_96,this._el_97,this._text_98,this._text_99,this._el_100,this._text_101,this._text_102,this._el_103,this._text_104,this._text_105],[disposable_0,disposable_1,disposable_2,disposable_3,disposable_4,disposable_5,disposable_6,disposable_7,disposable_8,disposable_9,disposable_10,disposable_11,disposable_12,disposable_13,disposable_14,disposable_15,disposable_16,disposable_17,disposable_18]);return null}},{key:'injectorGetInternal',value:function injectorGetInternal(token,requestNodeIndex,notFoundResult){if(token===NgClass&&12===requestNodeIndex){return this._NgClass_12_3.context}if(token===DefaultValueAccessor&&12===requestNodeIndex){return this._DefaultValueAccessor_12_4.context}if(token===NG_VALUE_ACCESSOR&&12===requestNodeIndex){return this._NG_VALUE_ACCESSOR_12_5}if(token===NgModel&&12===requestNodeIndex){return this._NgModel_12_6.context}if(token===NgControl&&12===requestNodeIndex){return this._NgControl_12_7}if(token===NgControlStatus&&12===requestNodeIndex){return this._NgControlStatus_12_8.context}if(token===NgClass&&20<=requestNodeIndex&&requestNodeIndex<=21){return this._NgClass_20_3.context}if(token===NgClass&&22<=requestNodeIndex&&requestNodeIndex<=23){return this._NgClass_22_3.context}if(token===NgClass&&24<=requestNodeIndex&&requestNodeIndex<=25){return this._NgClass_24_3.context}if(token===NgClass&&26<=requestNodeIndex&&requestNodeIndex<=27){return this._NgClass_26_3.context}if(token===NgClass&&36===requestNodeIndex){return this._NgClass_36_3.context}if(token===DefaultValueAccessor&&36===requestNodeIndex){return this._DefaultValueAccessor_36_4.context}if(token===NG_VALUE_ACCESSOR&&36===requestNodeIndex){return this._NG_VALUE_ACCESSOR_36_5}if(token===NgModel&&36===requestNodeIndex){return this._NgModel_36_6.context}if(token===NgControl&&36===requestNodeIndex){return this._NgControl_36_7}if(token===NgControlStatus&&36===requestNodeIndex){return this._NgControlStatus_36_8.context}if(token===NgClass&&44<=requestNodeIndex&&requestNodeIndex<=45){return this._NgClass_44_3.context}if(token===NgClass&&46<=requestNodeIndex&&requestNodeIndex<=47){return this._NgClass_46_3.context}if(token===NgClass&&48<=requestNodeIndex&&requestNodeIndex<=49){return this._NgClass_48_3.context}if(token===NgClass&&50<=requestNodeIndex&&requestNodeIndex<=51){return this._NgClass_50_3.context}if(token===NgClass&&60===requestNodeIndex){return this._NgClass_60_3.context}if(token===DefaultValueAccessor&&60===requestNodeIndex){return this._DefaultValueAccessor_60_4.context}if(token===NG_VALUE_ACCESSOR&&60===requestNodeIndex){return this._NG_VALUE_ACCESSOR_60_5}if(token===NgModel&&60===requestNodeIndex){return this._NgModel_60_6.context}if(token===NgControl&&60===requestNodeIndex){return this._NgControl_60_7}if(token===NgControlStatus&&60===requestNodeIndex){return this._NgControlStatus_60_8.context}if(token===NgClass&&68<=requestNodeIndex&&requestNodeIndex<=69){return this._NgClass_68_3.context}if(token===NgClass&&70<=requestNodeIndex&&requestNodeIndex<=71){return this._NgClass_70_3.context}if(token===NgClass&&72<=requestNodeIndex&&requestNodeIndex<=73){return this._NgClass_72_3.context}if(token===NgClass&&74<=requestNodeIndex&&requestNodeIndex<=75){return this._NgClass_74_3.context}if(token===DefaultValueAccessor&&84===requestNodeIndex){return this._DefaultValueAccessor_84_3.context}if(token===NG_VALUE_ACCESSOR&&84===requestNodeIndex){return this._NG_VALUE_ACCESSOR_84_4}if(token===NgModel&&84===requestNodeIndex){return this._NgModel_84_5.context}if(token===NgControl&&84===requestNodeIndex){return this._NgControl_84_6}if(token===NgControlStatus&&84===requestNodeIndex){return this._NgControlStatus_84_7.context}if(token===NgClass&&94<=requestNodeIndex&&requestNodeIndex<=95){return this._NgClass_94_3.context}if(token===NgClass&&97<=requestNodeIndex&&requestNodeIndex<=98){return this._NgClass_97_3.context}if(token===DefaultValueAccessor&&100===requestNodeIndex){return this._DefaultValueAccessor_100_3.context}if(token===RangeValueAccessor&&100===requestNodeIndex){return this._RangeValueAccessor_100_4.context}if(token===NG_VALUE_ACCESSOR&&100===requestNodeIndex){return this._NG_VALUE_ACCESSOR_100_5}if(token===NgModel&&100===requestNodeIndex){return this._NgModel_100_6.context}if(token===NgControl&&100===requestNodeIndex){return this._NgControl_100_7}if(token===NgControlStatus&&100===requestNodeIndex){return this._NgControlStatus_100_8.context}if(token===DefaultValueAccessor&&103===requestNodeIndex){return this._DefaultValueAccessor_103_3.context}if(token===NG_VALUE_ACCESSOR&&103===requestNodeIndex){return this._NG_VALUE_ACCESSOR_103_4}if(token===NgModel&&103===requestNodeIndex){return this._NgModel_103_5.context}if(token===NgControl&&103===requestNodeIndex){return this._NgControl_103_6}if(token===NgControlStatus&&103===requestNodeIndex){return this._NgControlStatus_103_7.context}if(token===NgClass&&1<=requestNodeIndex&&requestNodeIndex<=105){return this._NgClass_1_3.context}return notFoundResult}},{key:'detectChangesInternal',value:function detectChangesInternal(throwOnChange){var valUnwrapper=new ValueUnwrapper;var currVal_1_0_0='tone-entry tone-entry-row';this._NgClass_1_3.check_klass(currVal_1_0_0,throwOnChange,false);var currVal_1_0_1=this._map_155(this.context.entry.temp);this._NgClass_1_3.check_ngClass(currVal_1_0_1,throwOnChange,false);this._NgClass_1_3.ngDoCheck(this,this._el_1,throwOnChange);var currVal_12_0_0='form-control';this._NgClass_12_3.check_klass(currVal_12_0_0,throwOnChange,false);var currVal_12_0_1=this._map_157(!this.context.validateInputNumber(this.context.entry.frequency));this._NgClass_12_3.check_ngClass(currVal_12_0_1,throwOnChange,false);this._NgClass_12_3.ngDoCheck(this,this._el_12,throwOnChange);this._DefaultValueAccessor_12_4.ngDoCheck(this,this._el_12,throwOnChange);var currVal_12_2_0=this.context.entry.started;this._NgModel_12_6.check_isDisabled(currVal_12_2_0,throwOnChange,false);var currVal_12_2_1=this.context.entry.frequency;this._NgModel_12_6.check_model(currVal_12_2_1,throwOnChange,false);this._NgModel_12_6.ngDoCheck(this,this._el_12,throwOnChange);this._NgControlStatus_12_8.ngDoCheck(this,this._el_12,throwOnChange);var currVal_20_0_0='dropdown-item';this._NgClass_20_3.check_klass(currVal_20_0_0,throwOnChange,false);var currVal_20_0_1=this._map_160(this.context.entry.oscillationType=='sine');this._NgClass_20_3.check_ngClass(currVal_20_0_1,throwOnChange,false);this._NgClass_20_3.ngDoCheck(this,this._el_20,throwOnChange);var currVal_22_0_0='dropdown-item';this._NgClass_22_3.check_klass(currVal_22_0_0,throwOnChange,false);var currVal_22_0_1=this._map_161(this.context.entry.oscillationType=='square');this._NgClass_22_3.check_ngClass(currVal_22_0_1,throwOnChange,false);this._NgClass_22_3.ngDoCheck(this,this._el_22,throwOnChange);var currVal_24_0_0='dropdown-item';this._NgClass_24_3.check_klass(currVal_24_0_0,throwOnChange,false);var currVal_24_0_1=this._map_162(this.context.entry.oscillationType=='triangle');this._NgClass_24_3.check_ngClass(currVal_24_0_1,throwOnChange,false);this._NgClass_24_3.ngDoCheck(this,this._el_24,throwOnChange);var currVal_26_0_0='dropdown-item';this._NgClass_26_3.check_klass(currVal_26_0_0,throwOnChange,false);var currVal_26_0_1=this._map_163(this.context.entry.oscillationType=='sawtooth');this._NgClass_26_3.check_ngClass(currVal_26_0_1,throwOnChange,false);this._NgClass_26_3.ngDoCheck(this,this._el_26,throwOnChange);var currVal_36_0_0='form-control';this._NgClass_36_3.check_klass(currVal_36_0_0,throwOnChange,false);var currVal_36_0_1=this._map_164(this.context.entry.delayAmount&&!this.context.validateInputNumber(this.context.entry.delayAmount));this._NgClass_36_3.check_ngClass(currVal_36_0_1,throwOnChange,false);this._NgClass_36_3.ngDoCheck(this,this._el_36,throwOnChange);this._DefaultValueAccessor_36_4.ngDoCheck(this,this._el_36,throwOnChange);var currVal_36_2_0=this.context.entry.started;this._NgModel_36_6.check_isDisabled(currVal_36_2_0,throwOnChange,false);var currVal_36_2_1=this.context.entry.delayAmount;this._NgModel_36_6.check_model(currVal_36_2_1,throwOnChange,false);this._NgModel_36_6.ngDoCheck(this,this._el_36,throwOnChange);this._NgControlStatus_36_8.ngDoCheck(this,this._el_36,throwOnChange);var currVal_44_0_0='dropdown-item';this._NgClass_44_3.check_klass(currVal_44_0_0,throwOnChange,false);var currVal_44_0_1=this._map_169(this.context.entry.delayUnit==this.context.TimeUnit.MILLISECONDS);this._NgClass_44_3.check_ngClass(currVal_44_0_1,throwOnChange,false);this._NgClass_44_3.ngDoCheck(this,this._el_44,throwOnChange);var currVal_46_0_0='dropdown-item';this._NgClass_46_3.check_klass(currVal_46_0_0,throwOnChange,false);var currVal_46_0_1=this._map_172(this.context.entry.delayUnit==this.context.TimeUnit.SECONDS);this._NgClass_46_3.check_ngClass(currVal_46_0_1,throwOnChange,false);this._NgClass_46_3.ngDoCheck(this,this._el_46,throwOnChange);var currVal_48_0_0='dropdown-item';this._NgClass_48_3.check_klass(currVal_48_0_0,throwOnChange,false);var currVal_48_0_1=this._map_175(this.context.entry.delayUnit==this.context.TimeUnit.MINUTES);this._NgClass_48_3.check_ngClass(currVal_48_0_1,throwOnChange,false);this._NgClass_48_3.ngDoCheck(this,this._el_48,throwOnChange);var currVal_50_0_0='dropdown-item';this._NgClass_50_3.check_klass(currVal_50_0_0,throwOnChange,false);var currVal_50_0_1=this._map_178(this.context.entry.delayUnit==this.context.TimeUnit.HOURS);this._NgClass_50_3.check_ngClass(currVal_50_0_1,throwOnChange,false);this._NgClass_50_3.ngDoCheck(this,this._el_50,throwOnChange);var currVal_60_0_0='form-control';this._NgClass_60_3.check_klass(currVal_60_0_0,throwOnChange,false);var currVal_60_0_1=this._map_181(this.context.entry.durationAmount&&!this.context.validateInputNumber(this.context.entry.durationAmount));this._NgClass_60_3.check_ngClass(currVal_60_0_1,throwOnChange,false);this._NgClass_60_3.ngDoCheck(this,this._el_60,throwOnChange);this._DefaultValueAccessor_60_4.ngDoCheck(this,this._el_60,throwOnChange);var currVal_60_2_0=this.context.entry.started;this._NgModel_60_6.check_isDisabled(currVal_60_2_0,throwOnChange,false);var currVal_60_2_1=this.context.entry.durationAmount;this._NgModel_60_6.check_model(currVal_60_2_1,throwOnChange,false);this._NgModel_60_6.ngDoCheck(this,this._el_60,throwOnChange);this._NgControlStatus_60_8.ngDoCheck(this,this._el_60,throwOnChange);var currVal_68_0_0='dropdown-item';this._NgClass_68_3.check_klass(currVal_68_0_0,throwOnChange,false);var currVal_68_0_1=this._map_185(this.context.entry.durationUnit==this.context.TimeUnit.MILLISECONDS);this._NgClass_68_3.check_ngClass(currVal_68_0_1,throwOnChange,false);this._NgClass_68_3.ngDoCheck(this,this._el_68,throwOnChange);var currVal_70_0_0='dropdown-item';this._NgClass_70_3.check_klass(currVal_70_0_0,throwOnChange,false);var currVal_70_0_1=this._map_188(this.context.entry.durationUnit==this.context.TimeUnit.SECONDS);this._NgClass_70_3.check_ngClass(currVal_70_0_1,throwOnChange,false);this._NgClass_70_3.ngDoCheck(this,this._el_70,throwOnChange);var currVal_72_0_0='dropdown-item';this._NgClass_72_3.check_klass(currVal_72_0_0,throwOnChange,false);var currVal_72_0_1=this._map_191(this.context.entry.durationUnit==this.context.TimeUnit.MINUTES);this._NgClass_72_3.check_ngClass(currVal_72_0_1,throwOnChange,false);this._NgClass_72_3.ngDoCheck(this,this._el_72,throwOnChange);var currVal_74_0_0='dropdown-item';this._NgClass_74_3.check_klass(currVal_74_0_0,throwOnChange,false);var currVal_74_0_1=this._map_194(this.context.entry.durationUnit==this.context.TimeUnit.HOURS);this._NgClass_74_3.check_ngClass(currVal_74_0_1,throwOnChange,false);this._NgClass_74_3.ngDoCheck(this,this._el_74,throwOnChange);this._DefaultValueAccessor_84_3.ngDoCheck(this,this._el_84,throwOnChange);var currVal_84_1_0=this.context.entry.started;this._NgModel_84_5.check_isDisabled(currVal_84_1_0,throwOnChange,false);var currVal_84_1_1=this.context.entry.volume;this._NgModel_84_5.check_model(currVal_84_1_1,throwOnChange,false);this._NgModel_84_5.ngDoCheck(this,this._el_84,throwOnChange);this._NgControlStatus_84_7.ngDoCheck(this,this._el_84,throwOnChange);var currVal_94_0_0='left-desc';this._NgClass_94_3.check_klass(currVal_94_0_0,throwOnChange,false);var currVal_94_0_1=this._map_197(this.context.entry.started);this._NgClass_94_3.check_ngClass(currVal_94_0_1,throwOnChange,false);this._NgClass_94_3.ngDoCheck(this,this._el_94,throwOnChange);var currVal_97_0_0='right-desc';this._NgClass_97_3.check_klass(currVal_97_0_0,throwOnChange,false);var currVal_97_0_1=this._map_198(this.context.entry.started);this._NgClass_97_3.check_ngClass(currVal_97_0_1,throwOnChange,false);this._NgClass_97_3.ngDoCheck(this,this._el_97,throwOnChange);this._DefaultValueAccessor_100_3.ngDoCheck(this,this._el_100,throwOnChange);this._RangeValueAccessor_100_4.ngDoCheck(this,this._el_100,throwOnChange);var currVal_100_2_0=this.context.entry.started;this._NgModel_100_6.check_isDisabled(currVal_100_2_0,throwOnChange,false);var currVal_100_2_1=this.context.entry.pan;this._NgModel_100_6.check_model(currVal_100_2_1,throwOnChange,false);this._NgModel_100_6.ngDoCheck(this,this._el_100,throwOnChange);this._NgControlStatus_100_8.ngDoCheck(this,this._el_100,throwOnChange);this._DefaultValueAccessor_103_3.ngDoCheck(this,this._el_103,throwOnChange);var currVal_103_1_0=this.context.entry.started;this._NgModel_103_5.check_isDisabled(currVal_103_1_0,throwOnChange,false);var currVal_103_1_1=this.context.entry.pan;this._NgModel_103_5.check_model(currVal_103_1_1,throwOnChange,false);this._NgModel_103_5.ngDoCheck(this,this._el_103,throwOnChange);this._NgControlStatus_103_7.ngDoCheck(this,this._el_103,throwOnChange);var currVal_156=this.context.entry.started||this.context.entry.temp;if(checkBinding(throwOnChange,this._expr_156,currVal_156)){this.renderer.setElementProperty(this._el_5,'hidden',currVal_156);this._expr_156=currVal_156;}this._NgControlStatus_12_8.checkHost(this,this,this._el_12,throwOnChange);var currVal_158=this.context.entry.started;if(checkBinding(throwOnChange,this._expr_158,currVal_158)){this.renderer.setElementProperty(this._el_16,'disabled',currVal_158);this._expr_158=currVal_158;}var currVal_159=inlineInterpolate(1,'',this.context.entry.oscillationType,'');if(checkBinding(throwOnChange,this._expr_159,currVal_159)){this.renderer.setText(this._text_17,currVal_159);this._expr_159=currVal_159;}this._NgControlStatus_36_8.checkHost(this,this,this._el_36,throwOnChange);var currVal_165=this.context.entry.started;if(checkBinding(throwOnChange,this._expr_165,currVal_165)){this.renderer.setElementProperty(this._el_40,'disabled',currVal_165);this._expr_165=currVal_165;}valUnwrapper.reset();var currVal_166=inlineInterpolate(1,'',valUnwrapper.unwrap(castByValue(this._pipe_timeunit_0_0,this._pipe_timeunit_0.transform)(this.context.entry.delayUnit,'shortname')),'');if(valUnwrapper.hasWrappedValue||checkBinding(throwOnChange,this._expr_166,currVal_166)){this.renderer.setText(this._text_41,currVal_166);this._expr_166=currVal_166;}valUnwrapper.reset();var currVal_170=inlineInterpolate(1,'',valUnwrapper.unwrap(castByValue(this._pipe_timeunit_0_1,this._pipe_timeunit_0.transform)(this.context.TimeUnit.MILLISECONDS,'shortname')),'');if(valUnwrapper.hasWrappedValue||checkBinding(throwOnChange,this._expr_170,currVal_170)){this.renderer.setText(this._text_45,currVal_170);this._expr_170=currVal_170;}valUnwrapper.reset();var currVal_173=inlineInterpolate(1,'',valUnwrapper.unwrap(castByValue(this._pipe_timeunit_0_2,this._pipe_timeunit_0.transform)(this.context.TimeUnit.SECONDS,'shortname')),'');if(valUnwrapper.hasWrappedValue||checkBinding(throwOnChange,this._expr_173,currVal_173)){this.renderer.setText(this._text_47,currVal_173);this._expr_173=currVal_173;}valUnwrapper.reset();var currVal_176=inlineInterpolate(1,'',valUnwrapper.unwrap(castByValue(this._pipe_timeunit_0_3,this._pipe_timeunit_0.transform)(this.context.TimeUnit.MINUTES,'shortname')),'');if(valUnwrapper.hasWrappedValue||checkBinding(throwOnChange,this._expr_176,currVal_176)){this.renderer.setText(this._text_49,currVal_176);this._expr_176=currVal_176;}valUnwrapper.reset();var currVal_179=inlineInterpolate(1,'',valUnwrapper.unwrap(castByValue(this._pipe_timeunit_0_4,this._pipe_timeunit_0.transform)(this.context.TimeUnit.HOURS,'shortname')),'');if(valUnwrapper.hasWrappedValue||checkBinding(throwOnChange,this._expr_179,currVal_179)){this.renderer.setText(this._text_51,currVal_179);this._expr_179=currVal_179;}this._NgControlStatus_60_8.checkHost(this,this,this._el_60,throwOnChange);var currVal_182=this.context.entry.started;if(checkBinding(throwOnChange,this._expr_182,currVal_182)){this.renderer.setElementProperty(this._el_64,'disabled',currVal_182);this._expr_182=currVal_182;}valUnwrapper.reset();var currVal_183=inlineInterpolate(1,'',valUnwrapper.unwrap(castByValue(this._pipe_timeunit_0_5,this._pipe_timeunit_0.transform)(this.context.entry.durationUnit,'shortname')),'');if(valUnwrapper.hasWrappedValue||checkBinding(throwOnChange,this._expr_183,currVal_183)){this.renderer.setText(this._text_65,currVal_183);this._expr_183=currVal_183;}valUnwrapper.reset();var currVal_186=inlineInterpolate(1,'',valUnwrapper.unwrap(castByValue(this._pipe_timeunit_0_6,this._pipe_timeunit_0.transform)(this.context.TimeUnit.MILLISECONDS,'shortname')),'');if(valUnwrapper.hasWrappedValue||checkBinding(throwOnChange,this._expr_186,currVal_186)){this.renderer.setText(this._text_69,currVal_186);this._expr_186=currVal_186;}valUnwrapper.reset();var currVal_189=inlineInterpolate(1,'',valUnwrapper.unwrap(castByValue(this._pipe_timeunit_0_7,this._pipe_timeunit_0.transform)(this.context.TimeUnit.SECONDS,'shortname')),'');if(valUnwrapper.hasWrappedValue||checkBinding(throwOnChange,this._expr_189,currVal_189)){this.renderer.setText(this._text_71,currVal_189);this._expr_189=currVal_189;}valUnwrapper.reset();var currVal_192=inlineInterpolate(1,'',valUnwrapper.unwrap(castByValue(this._pipe_timeunit_0_8,this._pipe_timeunit_0.transform)(this.context.TimeUnit.MINUTES,'shortname')),'');if(valUnwrapper.hasWrappedValue||checkBinding(throwOnChange,this._expr_192,currVal_192)){this.renderer.setText(this._text_73,currVal_192);this._expr_192=currVal_192;}valUnwrapper.reset();var currVal_195=inlineInterpolate(1,'',valUnwrapper.unwrap(castByValue(this._pipe_timeunit_0_9,this._pipe_timeunit_0.transform)(this.context.TimeUnit.HOURS,'shortname')),'');if(valUnwrapper.hasWrappedValue||checkBinding(throwOnChange,this._expr_195,currVal_195)){this.renderer.setText(this._text_75,currVal_195);this._expr_195=currVal_195;}this._NgControlStatus_84_7.checkHost(this,this,this._el_84,throwOnChange);this._NgControlStatus_100_8.checkHost(this,this,this._el_100,throwOnChange);this._NgControlStatus_103_7.checkHost(this,this,this._el_103,throwOnChange);}},{key:'destroyInternal',value:function destroyInternal(){this._NgModel_12_6.ngOnDestroy();this._NgModel_36_6.ngOnDestroy();this._NgModel_60_6.ngOnDestroy();this._NgModel_84_5.ngOnDestroy();this._NgModel_100_6.ngOnDestroy();this._NgModel_103_5.ngOnDestroy();}},{key:'handleEvent_5',value:function handleEvent_5(eventName,$event){this.markPathToRootAsCheckOnce();var result=true;if(eventName=='click'){var pd_sub_0=this.context.clickRemove()!==false;result=pd_sub_0&&result;}return result}},{key:'handleEvent_12',value:function handleEvent_12(eventName,$event){this.markPathToRootAsCheckOnce();var result=true;result=this._DefaultValueAccessor_12_4.handleEvent(eventName,$event)&&result;if(eventName=='ngModelChange'){var pd_sub_0=(this.context.entry.frequency=$event)!==false;result=pd_sub_0&&result;}if(eventName=='ngModelChange'){var pd_sub_1=this.context.addEntryIfTemp(this.context.entry)!==false;result=pd_sub_1&&result;}return result}},{key:'handleEvent_20',value:function handleEvent_20(eventName,$event){this.markPathToRootAsCheckOnce();var result=true;if(eventName=='click'){var pd_sub_0=(this.context.entry.oscillationType='sine')!==false;result=pd_sub_0&&result;}return result}},{key:'handleEvent_22',value:function handleEvent_22(eventName,$event){this.markPathToRootAsCheckOnce();var result=true;if(eventName=='click'){var pd_sub_0=(this.context.entry.oscillationType='square')!==false;result=pd_sub_0&&result;}return result}},{key:'handleEvent_24',value:function handleEvent_24(eventName,$event){this.markPathToRootAsCheckOnce();var result=true;if(eventName=='click'){var pd_sub_0=(this.context.entry.oscillationType='triangle')!==false;result=pd_sub_0&&result;}return result}},{key:'handleEvent_26',value:function handleEvent_26(eventName,$event){this.markPathToRootAsCheckOnce();var result=true;if(eventName=='click'){var pd_sub_0=(this.context.entry.oscillationType='sawtooth')!==false;result=pd_sub_0&&result;}return result}},{key:'handleEvent_36',value:function handleEvent_36(eventName,$event){this.markPathToRootAsCheckOnce();var result=true;result=this._DefaultValueAccessor_36_4.handleEvent(eventName,$event)&&result;if(eventName=='ngModelChange'){var pd_sub_0=(this.context.entry.delayAmount=$event)!==false;result=pd_sub_0&&result;}return result}},{key:'handleEvent_44',value:function handleEvent_44(eventName,$event){this.markPathToRootAsCheckOnce();var result=true;if(eventName=='click'){var pd_sub_0=(this.context.entry.delayUnit=this.context.TimeUnit.MILLISECONDS)!==false;result=pd_sub_0&&result;}return result}},{key:'handleEvent_46',value:function handleEvent_46(eventName,$event){this.markPathToRootAsCheckOnce();var result=true;if(eventName=='click'){var pd_sub_0=(this.context.entry.delayUnit=this.context.TimeUnit.SECONDS)!==false;result=pd_sub_0&&result;}return result}},{key:'handleEvent_48',value:function handleEvent_48(eventName,$event){this.markPathToRootAsCheckOnce();var result=true;if(eventName=='click'){var pd_sub_0=(this.context.entry.delayUnit=this.context.TimeUnit.MINUTES)!==false;result=pd_sub_0&&result;}return result}},{key:'handleEvent_50',value:function handleEvent_50(eventName,$event){this.markPathToRootAsCheckOnce();var result=true;if(eventName=='click'){var pd_sub_0=(this.context.entry.delayUnit=this.context.TimeUnit.HOURS)!==false;result=pd_sub_0&&result;}return result}},{key:'handleEvent_60',value:function handleEvent_60(eventName,$event){this.markPathToRootAsCheckOnce();var result=true;result=this._DefaultValueAccessor_60_4.handleEvent(eventName,$event)&&result;if(eventName=='ngModelChange'){var pd_sub_0=(this.context.entry.durationAmount=$event)!==false;result=pd_sub_0&&result;}return result}},{key:'handleEvent_68',value:function handleEvent_68(eventName,$event){this.markPathToRootAsCheckOnce();var result=true;if(eventName=='click'){var pd_sub_0=(this.context.entry.durationUnit=this.context.TimeUnit.MILLISECONDS)!==false;result=pd_sub_0&&result;}return result}},{key:'handleEvent_70',value:function handleEvent_70(eventName,$event){this.markPathToRootAsCheckOnce();var result=true;if(eventName=='click'){var pd_sub_0=(this.context.entry.durationUnit=this.context.TimeUnit.SECONDS)!==false;result=pd_sub_0&&result;}return result}},{key:'handleEvent_72',value:function handleEvent_72(eventName,$event){this.markPathToRootAsCheckOnce();var result=true;if(eventName=='click'){var pd_sub_0=(this.context.entry.durationUnit=this.context.TimeUnit.MINUTES)!==false;result=pd_sub_0&&result;}return result}},{key:'handleEvent_74',value:function handleEvent_74(eventName,$event){this.markPathToRootAsCheckOnce();var result=true;if(eventName=='click'){var pd_sub_0=(this.context.entry.durationUnit=this.context.TimeUnit.HOURS)!==false;result=pd_sub_0&&result;}return result}},{key:'handleEvent_84',value:function handleEvent_84(eventName,$event){this.markPathToRootAsCheckOnce();var result=true;result=this._DefaultValueAccessor_84_3.handleEvent(eventName,$event)&&result;if(eventName=='ngModelChange'){var pd_sub_0=(this.context.entry.volume=$event)!==false;result=pd_sub_0&&result;}if(eventName=='change'){var pd_sub_1=(this.context.entry.volume=this.context.MathUtil.clamp(this.context.entry.volume,0,100)||100)!==false;result=pd_sub_1&&result;}return result}},{key:'handleEvent_100',value:function handleEvent_100(eventName,$event){this.markPathToRootAsCheckOnce();var result=true;result=this._DefaultValueAccessor_100_3.handleEvent(eventName,$event)&&result;result=this._RangeValueAccessor_100_4.handleEvent(eventName,$event)&&result;if(eventName=='ngModelChange'){var pd_sub_0=(this.context.entry.pan=$event)!==false;result=pd_sub_0&&result;}return result}},{key:'handleEvent_103',value:function handleEvent_103(eventName,$event){this.markPathToRootAsCheckOnce();var result=true;result=this._DefaultValueAccessor_103_3.handleEvent(eventName,$event)&&result;if(eventName=='ngModelChange'){var pd_sub_0=(this.context.entry.pan=$event)!==false;result=pd_sub_0&&result;}if(eventName=='change'){var pd_sub_1=(this.context.entry.pan=this.context.MathUtil.clamp(this.context.entry.pan,0-1,1)||0)!==false;result=pd_sub_1&&result;}return result}}]);return View_ToneEntryComponent0}(AppView);

var Wrapper_ToneListComponent=function(){function Wrapper_ToneListComponent(p0,p1){classCallCheck(this,Wrapper_ToneListComponent);this._changed=false;this.context=new ToneListComponent(p0,p1);}createClass(Wrapper_ToneListComponent,[{key:'ngOnDetach',value:function ngOnDetach(view,componentView,el){}},{key:'ngOnDestroy',value:function ngOnDestroy(){}},{key:'ngDoCheck',value:function ngDoCheck(view,el,throwOnChange){var changed=this._changed;this._changed=false;if(!throwOnChange){if(view.numberOfChecks===0){this.context.ngOnInit();}}return changed}},{key:'checkHost',value:function checkHost(view,componentView,el,throwOnChange){}},{key:'handleEvent',value:function handleEvent(eventName,$event){var result=true;return result}},{key:'subscribe',value:function subscribe(view,_eventHandler){this._eventHandler=_eventHandler;}}]);return Wrapper_ToneListComponent}();var renderType_ToneListComponent_Host=createRenderComponentType('',0,ViewEncapsulation.None,[],{});var View_ToneListComponent_Host0=function(_import1$AppView){inherits(View_ToneListComponent_Host0,_import1$AppView);function View_ToneListComponent_Host0(viewUtils,parentView,parentIndex,parentElement){classCallCheck(this,View_ToneListComponent_Host0);return possibleConstructorReturn(this,(View_ToneListComponent_Host0.__proto__||Object.getPrototypeOf(View_ToneListComponent_Host0)).call(this,View_ToneListComponent_Host0,renderType_ToneListComponent_Host,ViewType.HOST,viewUtils,parentView,parentIndex,parentElement,ChangeDetectorStatus.CheckAlways))}createClass(View_ToneListComponent_Host0,[{key:'createInternal',value:function createInternal(rootSelector){this._el_0=selectOrCreateRenderHostElement(this.renderer,'tone-list-component',EMPTY_INLINE_ARRAY,rootSelector,null);this.compView_0=new View_ToneListComponent0(this.viewUtils,this,0,this._el_0);this._ToneListComponent_0_3=new Wrapper_ToneListComponent(this.injectorGet(AppBus,this.parentIndex),this.injectorGet(ActivatedRoute,this.parentIndex));this.compView_0.create(this._ToneListComponent_0_3.context);this.init(this._el_0,this.renderer.directRenderer?null:[this._el_0],null);return new ComponentRef_(0,this,this._el_0,this._ToneListComponent_0_3.context)}},{key:'injectorGetInternal',value:function injectorGetInternal(token,requestNodeIndex,notFoundResult){if(token===ToneListComponent&&0===requestNodeIndex){return this._ToneListComponent_0_3.context}return notFoundResult}},{key:'detectChangesInternal',value:function detectChangesInternal(throwOnChange){this._ToneListComponent_0_3.ngDoCheck(this,this._el_0,throwOnChange);this.compView_0.internalDetectChanges(throwOnChange);}},{key:'destroyInternal',value:function destroyInternal(){this.compView_0.destroy();}},{key:'visitRootNodesInternal',value:function visitRootNodesInternal(cb,ctx){cb(this._el_0,ctx);}}]);return View_ToneListComponent_Host0}(AppView);var ToneListComponentNgFactory=new ComponentFactory('tone-list-component',View_ToneListComponent_Host0,ToneListComponent);var styles_ToneListComponent=[styles];var renderType_ToneListComponent=createRenderComponentType('',0,ViewEncapsulation.Emulated,styles_ToneListComponent,{});var View_ToneListComponent0=function(_import1$AppView2){inherits(View_ToneListComponent0,_import1$AppView2);function View_ToneListComponent0(viewUtils,parentView,parentIndex,parentElement){classCallCheck(this,View_ToneListComponent0);var _this2=possibleConstructorReturn(this,(View_ToneListComponent0.__proto__||Object.getPrototypeOf(View_ToneListComponent0)).call(this,View_ToneListComponent0,renderType_ToneListComponent,ViewType.COMPONENT,viewUtils,parentView,parentIndex,parentElement,ChangeDetectorStatus.CheckAlways));_this2._expr_55=UNINITIALIZED;_this2._expr_56=UNINITIALIZED;_this2._expr_58=UNINITIALIZED;_this2._expr_59=UNINITIALIZED;return _this2}createClass(View_ToneListComponent0,[{key:'createInternal',value:function createInternal(rootSelector){var parentRenderNode=this.renderer.createViewRoot(this.parentElement);this._text_0=this.renderer.createText(parentRenderNode,'\n',null);this._el_1=createRenderElement(this.renderer,parentRenderNode,'div',new InlineArray2(2,'class','tone-list'),null);this._text_2=this.renderer.createText(this._el_1,'\n  ',null);this._el_3=createRenderElement(this.renderer,this._el_1,'div',new InlineArray2(2,'class','list-header'),null);this._text_4=this.renderer.createText(this._el_3,'\n    ',null);this._el_5=createRenderElement(this.renderer,this._el_3,'div',new InlineArray2(2,'class','play-pause-ctnr'),null);this._text_6=this.renderer.createText(this._el_5,'\n      ',null);this._el_7=createRenderElement(this.renderer,this._el_5,'button',new InlineArray2(2,'class','play-pause-btn'),null);this._text_8=this.renderer.createText(this._el_7,'\n        ',null);this._el_9=createRenderElement(this.renderer,this._el_7,'div',new InlineArray2(2,'class','fa fa-play'),null);this._text_10=this.renderer.createText(this._el_7,'\n      ',null);this._text_11=this.renderer.createText(this._el_5,'\n      ',null);this._el_12=createRenderElement(this.renderer,this._el_5,'button',new InlineArray2(2,'class','play-pause-btn'),null);this._text_13=this.renderer.createText(this._el_12,'\n        ',null);this._el_14=createRenderElement(this.renderer,this._el_12,'div',new InlineArray2(2,'class','fa fa-pause'),null);this._text_15=this.renderer.createText(this._el_12,'\n      ',null);this._text_16=this.renderer.createText(this._el_5,'\n    ',null);this._text_17=this.renderer.createText(this._el_3,'\n    ',null);this._el_18=createRenderElement(this.renderer,this._el_3,'div',new InlineArray2(2,'class','time-elapsed-ctnr'),null);this._text_19=this.renderer.createText(this._el_18,'\n      ',null);this._el_20=createRenderElement(this.renderer,this._el_18,'p',new InlineArray2(2,'class','time'),null);this._text_21=this.renderer.createText(this._el_20,'',null);this._text_22=this.renderer.createText(this._el_18,'\n    ',null);this._text_23=this.renderer.createText(this._el_3,'\n  ',null);this._text_24=this.renderer.createText(this._el_1,'\n  ',null);this._el_25=createRenderElement(this.renderer,this._el_1,'div',new InlineArray2(2,'class','tone-entry-row'),null);this._text_26=this.renderer.createText(this._el_25,'\n    ',null);this._el_27=createRenderElement(this.renderer,this._el_25,'div',new InlineArray2(2,'class','delete-ctnr'),null);this._text_28=this.renderer.createText(this._el_25,'\n    ',null);this._el_29=createRenderElement(this.renderer,this._el_25,'div',new InlineArray2(2,'class','frequency-ctnr'),null);this._el_30=createRenderElement(this.renderer,this._el_29,'span',EMPTY_INLINE_ARRAY,null);this._text_31=this.renderer.createText(this._el_30,'Frequency',null);this._text_32=this.renderer.createText(this._el_25,'\n    ',null);this._el_33=createRenderElement(this.renderer,this._el_25,'div',new InlineArray2(2,'class','delay-ctnr'),null);this._el_34=createRenderElement(this.renderer,this._el_33,'span',EMPTY_INLINE_ARRAY,null);this._text_35=this.renderer.createText(this._el_34,'Delay',null);this._text_36=this.renderer.createText(this._el_25,'\n    ',null);this._el_37=createRenderElement(this.renderer,this._el_25,'div',new InlineArray2(2,'class','duration-ctnr'),null);this._el_38=createRenderElement(this.renderer,this._el_37,'span',EMPTY_INLINE_ARRAY,null);this._text_39=this.renderer.createText(this._el_38,'Duration',null);this._text_40=this.renderer.createText(this._el_25,'\n    ',null);this._el_41=createRenderElement(this.renderer,this._el_25,'div',new InlineArray2(2,'class','volume-ctnr'),null);this._el_42=createRenderElement(this.renderer,this._el_41,'span',EMPTY_INLINE_ARRAY,null);this._text_43=this.renderer.createText(this._el_42,'Volume',null);this._text_44=this.renderer.createText(this._el_25,'\n    ',null);this._el_45=createRenderElement(this.renderer,this._el_25,'div',new InlineArray2(2,'class','pan-ctnr'),null);this._el_46=createRenderElement(this.renderer,this._el_45,'span',EMPTY_INLINE_ARRAY,null);this._text_47=this.renderer.createText(this._el_46,'Pan',null);this._text_48=this.renderer.createText(this._el_25,'\n  ',null);this._text_49=this.renderer.createText(this._el_1,'\n  ',null);this._anchor_50=this.renderer.createTemplateAnchor(this._el_1,null);this._vc_50=new ViewContainer(50,1,this,this._anchor_50);this._TemplateRef_50_5=new TemplateRef_(this,50,this._anchor_50);this._NgFor_50_6=new Wrapper_NgFor(this._vc_50.vcRef,this._TemplateRef_50_5,this.parentView.injectorGet(IterableDiffers,this.parentIndex),this.ref);this._text_51=this.renderer.createText(this._el_1,'\n',null);var disposable_0=subscribeToRenderElement(this,this._el_7,new InlineArray2(2,'click',null),this.eventHandler(this.handleEvent_7));this._pipe_async_0=new AsyncPipe(this.ref);var disposable_1=subscribeToRenderElement(this,this._el_12,new InlineArray2(2,'click',null),this.eventHandler(this.handleEvent_12));this._pipe_timeElapsed_1=new TimeElapsedPipe;this._pipe_timeElapsed_1_0=pureProxy1(this._pipe_timeElapsed_1.transform.bind(this._pipe_timeElapsed_1));this.init(null,this.renderer.directRenderer?null:[this._text_0,this._el_1,this._text_2,this._el_3,this._text_4,this._el_5,this._text_6,this._el_7,this._text_8,this._el_9,this._text_10,this._text_11,this._el_12,this._text_13,this._el_14,this._text_15,this._text_16,this._text_17,this._el_18,this._text_19,this._el_20,this._text_21,this._text_22,this._text_23,this._text_24,this._el_25,this._text_26,this._el_27,this._text_28,this._el_29,this._el_30,this._text_31,this._text_32,this._el_33,this._el_34,this._text_35,this._text_36,this._el_37,this._el_38,this._text_39,this._text_40,this._el_41,this._el_42,this._text_43,this._text_44,this._el_45,this._el_46,this._text_47,this._text_48,this._text_49,this._anchor_50,this._text_51],[disposable_0,disposable_1]);return null}},{key:'injectorGetInternal',value:function injectorGetInternal(token,requestNodeIndex,notFoundResult){if(token===TemplateRef&&50===requestNodeIndex){return this._TemplateRef_50_5}if(token===NgFor&&50===requestNodeIndex){return this._NgFor_50_6.context}return notFoundResult}},{key:'detectChangesInternal',value:function detectChangesInternal(throwOnChange){var valUnwrapper=new ValueUnwrapper;var currVal_50_0_0=this.context.entries;this._NgFor_50_6.check_ngForOf(currVal_50_0_0,throwOnChange,false);this._NgFor_50_6.ngDoCheck(this,this._anchor_50,throwOnChange);this._vc_50.detectChangesInNestedViews(throwOnChange);var currVal_55=this.context.isPlaying;if(checkBinding(throwOnChange,this._expr_55,currVal_55)){this.renderer.setElementProperty(this._el_7,'hidden',currVal_55);this._expr_55=currVal_55;}valUnwrapper.reset();var currVal_56=!valUnwrapper.unwrap(this._pipe_async_0.transform(this.context.entriesValid()));if(valUnwrapper.hasWrappedValue||checkBinding(throwOnChange,this._expr_56,currVal_56)){this.renderer.setElementProperty(this._el_7,'disabled',currVal_56);this._expr_56=currVal_56;}var currVal_58=!this.context.isPlaying;if(checkBinding(throwOnChange,this._expr_58,currVal_58)){this.renderer.setElementProperty(this._el_12,'hidden',currVal_58);this._expr_58=currVal_58;}valUnwrapper.reset();var currVal_59=inlineInterpolate(1,'',valUnwrapper.unwrap(castByValue(this._pipe_timeElapsed_1_0,this._pipe_timeElapsed_1.transform)(this.context.elapsed)),'');if(valUnwrapper.hasWrappedValue||checkBinding(throwOnChange,this._expr_59,currVal_59)){this.renderer.setText(this._text_21,currVal_59);this._expr_59=currVal_59;}}},{key:'destroyInternal',value:function destroyInternal(){this._vc_50.destroyNestedViews();this._pipe_async_0.ngOnDestroy();}},{key:'createEmbeddedViewInternal',value:function createEmbeddedViewInternal(nodeIndex){if(nodeIndex==50){return new View_ToneListComponent1(this.viewUtils,this,50,this._anchor_50,this._vc_50)}return null}},{key:'handleEvent_7',value:function handleEvent_7(eventName,$event){this.markPathToRootAsCheckOnce();var result=true;if(eventName=='click'){var pd_sub_0=this.context.startAll()!==false;result=pd_sub_0&&result;}return result}},{key:'handleEvent_12',value:function handleEvent_12(eventName,$event){this.markPathToRootAsCheckOnce();var result=true;if(eventName=='click'){var pd_sub_0=this.context.stopAll()!==false;result=pd_sub_0&&result;}return result}}]);return View_ToneListComponent0}(AppView);var View_ToneListComponent1=function(_import1$AppView3){inherits(View_ToneListComponent1,_import1$AppView3);function View_ToneListComponent1(viewUtils,parentView,parentIndex,parentElement,declaredViewContainer){classCallCheck(this,View_ToneListComponent1);return possibleConstructorReturn(this,(View_ToneListComponent1.__proto__||Object.getPrototypeOf(View_ToneListComponent1)).call(this,View_ToneListComponent1,renderType_ToneListComponent,ViewType.EMBEDDED,viewUtils,parentView,parentIndex,parentElement,ChangeDetectorStatus.CheckAlways,declaredViewContainer))}createClass(View_ToneListComponent1,[{key:'createInternal',value:function createInternal(rootSelector){this._el_0=createRenderElement(this.renderer,null,'div',EMPTY_INLINE_ARRAY,null);this._text_1=this.renderer.createText(this._el_0,'\n    ',null);this._el_2=createRenderElement(this.renderer,this._el_0,'tone-entry-component',EMPTY_INLINE_ARRAY,null);this.compView_2=new View_ToneEntryComponent0(this.viewUtils,this,2,this._el_2);this._ToneEntryComponent_2_3=new Wrapper_ToneEntryComponent(this.parentView.parentView.injectorGet(AppBus,this.parentView.parentIndex));this.compView_2.create(this._ToneEntryComponent_2_3.context);this._text_3=this.renderer.createText(this._el_0,'\n  ',null);this.init(this._el_0,this.renderer.directRenderer?null:[this._el_0,this._text_1,this._el_2,this._text_3],null);return null}},{key:'injectorGetInternal',value:function injectorGetInternal(token,requestNodeIndex,notFoundResult){if(token===ToneEntryComponent&&2===requestNodeIndex){return this._ToneEntryComponent_2_3.context}return notFoundResult}},{key:'detectChangesInternal',value:function detectChangesInternal(throwOnChange){var currVal_2_0_0=this.context.$implicit;this._ToneEntryComponent_2_3.check_entry(currVal_2_0_0,throwOnChange,false);this._ToneEntryComponent_2_3.ngDoCheck(this,this._el_2,throwOnChange);this.compView_2.internalDetectChanges(throwOnChange);}},{key:'destroyInternal',value:function destroyInternal(){this.compView_2.destroy();}},{key:'visitRootNodesInternal',value:function visitRootNodesInternal(cb,ctx){cb(this._el_0,ctx);}}]);return View_ToneListComponent1}(AppView);

var Wrapper_RouterOutlet=function(){function Wrapper_RouterOutlet(p0,p1,p2,p3){classCallCheck(this,Wrapper_RouterOutlet);this._changed=false;this.context=new RouterOutlet(p0,p1,p2,p3);}createClass(Wrapper_RouterOutlet,[{key:'ngOnDetach',value:function ngOnDetach(view,componentView,el){}},{key:'ngOnDestroy',value:function ngOnDestroy(){this.context.ngOnDestroy();this.subscription0&&this.subscription0.unsubscribe();this.subscription1&&this.subscription1.unsubscribe();}},{key:'ngDoCheck',value:function ngDoCheck(view,el,throwOnChange){var changed=this._changed;this._changed=false;return changed}},{key:'checkHost',value:function checkHost(view,componentView,el,throwOnChange){}},{key:'handleEvent',value:function handleEvent(eventName,$event){var result=true;return result}},{key:'subscribe',value:function subscribe(view,_eventHandler,emit0,emit1){this._eventHandler=_eventHandler;if(emit0){this.subscription0=this.context.activateEvents.subscribe(_eventHandler.bind(view,'activate'));}if(emit1){this.subscription1=this.context.deactivateEvents.subscribe(_eventHandler.bind(view,'deactivate'));}}}]);return Wrapper_RouterOutlet}();

var Wrapper_AppComponent=function(){function Wrapper_AppComponent(){classCallCheck(this,Wrapper_AppComponent);this._changed=false;this.context=new AppComponent;}createClass(Wrapper_AppComponent,[{key:'ngOnDetach',value:function ngOnDetach(view,componentView,el){}},{key:'ngOnDestroy',value:function ngOnDestroy(){}},{key:'ngDoCheck',value:function ngDoCheck(view,el,throwOnChange){var changed=this._changed;this._changed=false;return changed}},{key:'checkHost',value:function checkHost(view,componentView,el,throwOnChange){}},{key:'handleEvent',value:function handleEvent(eventName,$event){var result=true;return result}},{key:'subscribe',value:function subscribe(view,_eventHandler){this._eventHandler=_eventHandler;}}]);return Wrapper_AppComponent}();var renderType_AppComponent_Host=createRenderComponentType('',0,ViewEncapsulation.None,[],{});var View_AppComponent_Host0=function(_import1$AppView){inherits(View_AppComponent_Host0,_import1$AppView);function View_AppComponent_Host0(viewUtils,parentView,parentIndex,parentElement){classCallCheck(this,View_AppComponent_Host0);return possibleConstructorReturn(this,(View_AppComponent_Host0.__proto__||Object.getPrototypeOf(View_AppComponent_Host0)).call(this,View_AppComponent_Host0,renderType_AppComponent_Host,ViewType.HOST,viewUtils,parentView,parentIndex,parentElement,ChangeDetectorStatus.CheckAlways))}createClass(View_AppComponent_Host0,[{key:'createInternal',value:function createInternal(rootSelector){this._el_0=selectOrCreateRenderHostElement(this.renderer,'waveform-app',EMPTY_INLINE_ARRAY,rootSelector,null);this.compView_0=new View_AppComponent0(this.viewUtils,this,0,this._el_0);this._AppComponent_0_3=new Wrapper_AppComponent;this.compView_0.create(this._AppComponent_0_3.context);this.init(this._el_0,this.renderer.directRenderer?null:[this._el_0],null);return new ComponentRef_(0,this,this._el_0,this._AppComponent_0_3.context)}},{key:'injectorGetInternal',value:function injectorGetInternal(token,requestNodeIndex,notFoundResult){if(token===AppComponent&&0===requestNodeIndex){return this._AppComponent_0_3.context}return notFoundResult}},{key:'detectChangesInternal',value:function detectChangesInternal(throwOnChange){this._AppComponent_0_3.ngDoCheck(this,this._el_0,throwOnChange);this.compView_0.internalDetectChanges(throwOnChange);}},{key:'destroyInternal',value:function destroyInternal(){this.compView_0.destroy();}},{key:'visitRootNodesInternal',value:function visitRootNodesInternal(cb,ctx){cb(this._el_0,ctx);}}]);return View_AppComponent_Host0}(AppView);var AppComponentNgFactory=new ComponentFactory('waveform-app',View_AppComponent_Host0,AppComponent);var styles_AppComponent=[];var renderType_AppComponent=createRenderComponentType('',0,ViewEncapsulation.None,styles_AppComponent,{});var View_AppComponent0=function(_import1$AppView2){inherits(View_AppComponent0,_import1$AppView2);function View_AppComponent0(viewUtils,parentView,parentIndex,parentElement){classCallCheck(this,View_AppComponent0);return possibleConstructorReturn(this,(View_AppComponent0.__proto__||Object.getPrototypeOf(View_AppComponent0)).call(this,View_AppComponent0,renderType_AppComponent,ViewType.COMPONENT,viewUtils,parentView,parentIndex,parentElement,ChangeDetectorStatus.CheckAlways))}createClass(View_AppComponent0,[{key:'createInternal',value:function createInternal(rootSelector){var parentRenderNode=this.renderer.createViewRoot(this.parentElement);this._text_0=this.renderer.createText(parentRenderNode,'\n',null);this._el_1=createRenderElement(this.renderer,parentRenderNode,'router-outlet',EMPTY_INLINE_ARRAY,null);this._vc_1=new ViewContainer(1,null,this,this._el_1);this._RouterOutlet_1_5=new Wrapper_RouterOutlet(this.parentView.injectorGet(RouterOutletMap,this.parentIndex),this._vc_1.vcRef,this.parentView.injectorGet(ComponentFactoryResolver,this.parentIndex),null);this.init(null,this.renderer.directRenderer?null:[this._text_0,this._el_1],null);return null}},{key:'injectorGetInternal',value:function injectorGetInternal(token,requestNodeIndex,notFoundResult){if(token===RouterOutlet&&1===requestNodeIndex){return this._RouterOutlet_1_5.context}return notFoundResult}},{key:'detectChangesInternal',value:function detectChangesInternal(throwOnChange){this._RouterOutlet_1_5.ngDoCheck(this,this._el_1,throwOnChange);this._vc_1.detectChangesInNestedViews(throwOnChange);}},{key:'destroyInternal',value:function destroyInternal(){this._vc_1.destroyNestedViews();this._RouterOutlet_1_5.ngOnDestroy();}}]);return View_AppComponent0}(AppView);

var AppModuleInjector=function(_import0$NgModuleInje){inherits(AppModuleInjector,_import0$NgModuleInje);function AppModuleInjector(parent){classCallCheck(this,AppModuleInjector);return possibleConstructorReturn(this,(AppModuleInjector.__proto__||Object.getPrototypeOf(AppModuleInjector)).call(this,parent,[ToneListComponentNgFactory,AppComponentNgFactory],[AppComponentNgFactory]))}createClass(AppModuleInjector,[{key:'createInternal',value:function createInternal(){this._CommonModule_0=new CommonModule;this._ApplicationModule_1=new ApplicationModule;this._BrowserModule_2=new BrowserModule(this.parent.get(BrowserModule,null));this._InternalFormsSharedModule_3=new InternalFormsSharedModule;this._FormsModule_4=new FormsModule;this._ROUTER_FORROOT_GUARD_5=provideForRootGuard(this.parent.get(Router,null));this._RouterModule_6=new RouterModule(this._ROUTER_FORROOT_GUARD_5);this._AppModule_7=new AppModule;this._ErrorHandler_10=errorHandler();this._ApplicationInitStatus_11=new ApplicationInitStatus(this.parent.get(APP_INITIALIZER,null));this._Testability_12=new Testability(this.parent.get(NgZone));this._ApplicationRef__13=new ApplicationRef_(this.parent.get(NgZone),this.parent.get(Console),this,this._ErrorHandler_10,this,this._ApplicationInitStatus_11,this.parent.get(TestabilityRegistry,null),this._Testability_12);this._NoPreloading_44=new NoPreloading;this._PreloadingStrategy_45=this._NoPreloading_44;this._RouterPreloader_46=new RouterPreloader(this._Router_42,this._NgModuleFactoryLoader_40,this._Compiler_15,this,this._PreloadingStrategy_45);return this._AppModule_7}},{key:'getInternal',value:function getInternal(token,notFoundResult){if(token===CommonModule){return this._CommonModule_0}if(token===ApplicationModule){return this._ApplicationModule_1}if(token===BrowserModule){return this._BrowserModule_2}if(token===InternalFormsSharedModule){return this._InternalFormsSharedModule_3}if(token===FormsModule){return this._FormsModule_4}if(token===ROUTER_FORROOT_GUARD){return this._ROUTER_FORROOT_GUARD_5}if(token===RouterModule){return this._RouterModule_6}if(token===AppModule){return this._AppModule_7}if(token===LOCALE_ID){return this._LOCALE_ID_8}if(token===NgLocalization){return this._NgLocalization_9}if(token===ErrorHandler){return this._ErrorHandler_10}if(token===ApplicationInitStatus){return this._ApplicationInitStatus_11}if(token===Testability){return this._Testability_12}if(token===ApplicationRef_){return this._ApplicationRef__13}if(token===ApplicationRef){return this._ApplicationRef_14}if(token===Compiler){return this._Compiler_15}if(token===APP_ID){return this._APP_ID_16}if(token===DOCUMENT){return this._DOCUMENT_17}if(token===HAMMER_GESTURE_CONFIG){return this._HAMMER_GESTURE_CONFIG_18}if(token===EVENT_MANAGER_PLUGINS){return this._EVENT_MANAGER_PLUGINS_19}if(token===EventManager){return this._EventManager_20}if(token===DomSharedStylesHost){return this._DomSharedStylesHost_21}if(token===AnimationDriver){return this._AnimationDriver_22}if(token===DomRootRenderer){return this._DomRootRenderer_23}if(token===NgProbeToken){return this._NgProbeToken_24}if(token===RootRenderer){return this._RootRenderer_25}if(token===DomSanitizer){return this._DomSanitizer_26}if(token===Sanitizer){return this._Sanitizer_27}if(token===AnimationQueue){return this._AnimationQueue_28}if(token===ViewUtils){return this._ViewUtils_29}if(token===IterableDiffers){return this._IterableDiffers_30}if(token===KeyValueDiffers){return this._KeyValueDiffers_31}if(token===SharedStylesHost){return this._SharedStylesHost_32}if(token===Title){return this._Title_33}if(token===RadioControlRegistry){return this._RadioControlRegistry_34}if(token===ROUTER_CONFIGURATION){return this._ROUTER_CONFIGURATION_35}if(token===LocationStrategy){return this._LocationStrategy_36}if(token===Location){return this._Location_37}if(token===UrlSerializer){return this._UrlSerializer_38}if(token===RouterOutletMap){return this._RouterOutletMap_39}if(token===NgModuleFactoryLoader){return this._NgModuleFactoryLoader_40}if(token===ROUTES){return this._ROUTES_41}if(token===Router){return this._Router_42}if(token===ActivatedRoute){return this._ActivatedRoute_43}if(token===NoPreloading){return this._NoPreloading_44}if(token===PreloadingStrategy){return this._PreloadingStrategy_45}if(token===RouterPreloader){return this._RouterPreloader_46}if(token===PreloadAllModules){return this._PreloadAllModules_47}if(token===ROUTER_INITIALIZER){return this._ROUTER_INITIALIZER_48}if(token===APP_BOOTSTRAP_LISTENER){return this._APP_BOOTSTRAP_LISTENER_49}if(token===AppBus){return this._AppBus_50}return notFoundResult}},{key:'destroyInternal',value:function destroyInternal(){this._ApplicationRef__13.ngOnDestroy();this._RouterPreloader_46.ngOnDestroy();}},{key:'_LOCALE_ID_8',get:function get(){if(this.__LOCALE_ID_8==null){this.__LOCALE_ID_8='en-US';}return this.__LOCALE_ID_8}},{key:'_NgLocalization_9',get:function get(){if(this.__NgLocalization_9==null){this.__NgLocalization_9=new NgLocaleLocalization(this._LOCALE_ID_8);}return this.__NgLocalization_9}},{key:'_ApplicationRef_14',get:function get(){if(this.__ApplicationRef_14==null){this.__ApplicationRef_14=this._ApplicationRef__13;}return this.__ApplicationRef_14}},{key:'_Compiler_15',get:function get(){if(this.__Compiler_15==null){this.__Compiler_15=new Compiler;}return this.__Compiler_15}},{key:'_APP_ID_16',get:function get(){if(this.__APP_ID_16==null){this.__APP_ID_16=_appIdRandomProviderFactory();}return this.__APP_ID_16}},{key:'_DOCUMENT_17',get:function get(){if(this.__DOCUMENT_17==null){this.__DOCUMENT_17=_document();}return this.__DOCUMENT_17}},{key:'_HAMMER_GESTURE_CONFIG_18',get:function get(){if(this.__HAMMER_GESTURE_CONFIG_18==null){this.__HAMMER_GESTURE_CONFIG_18=new HammerGestureConfig;}return this.__HAMMER_GESTURE_CONFIG_18}},{key:'_EVENT_MANAGER_PLUGINS_19',get:function get(){if(this.__EVENT_MANAGER_PLUGINS_19==null){this.__EVENT_MANAGER_PLUGINS_19=[new DomEventsPlugin,new KeyEventsPlugin,new HammerGesturesPlugin(this._HAMMER_GESTURE_CONFIG_18)];}return this.__EVENT_MANAGER_PLUGINS_19}},{key:'_EventManager_20',get:function get(){if(this.__EventManager_20==null){this.__EventManager_20=new EventManager(this._EVENT_MANAGER_PLUGINS_19,this.parent.get(NgZone));}return this.__EventManager_20}},{key:'_DomSharedStylesHost_21',get:function get(){if(this.__DomSharedStylesHost_21==null){this.__DomSharedStylesHost_21=new DomSharedStylesHost(this._DOCUMENT_17);}return this.__DomSharedStylesHost_21}},{key:'_AnimationDriver_22',get:function get(){if(this.__AnimationDriver_22==null){this.__AnimationDriver_22=_resolveDefaultAnimationDriver();}return this.__AnimationDriver_22}},{key:'_DomRootRenderer_23',get:function get(){if(this.__DomRootRenderer_23==null){this.__DomRootRenderer_23=new DomRootRenderer_(this._DOCUMENT_17,this._EventManager_20,this._DomSharedStylesHost_21,this._AnimationDriver_22,this._APP_ID_16);}return this.__DomRootRenderer_23}},{key:'_NgProbeToken_24',get:function get(){if(this.__NgProbeToken_24==null){this.__NgProbeToken_24=[routerNgProbeToken()];}return this.__NgProbeToken_24}},{key:'_RootRenderer_25',get:function get(){if(this.__RootRenderer_25==null){this.__RootRenderer_25=_createConditionalRootRenderer(this._DomRootRenderer_23,this.parent.get(NgProbeToken$1,null),this._NgProbeToken_24);}return this.__RootRenderer_25}},{key:'_DomSanitizer_26',get:function get(){if(this.__DomSanitizer_26==null){this.__DomSanitizer_26=new DomSanitizerImpl;}return this.__DomSanitizer_26}},{key:'_Sanitizer_27',get:function get(){if(this.__Sanitizer_27==null){this.__Sanitizer_27=this._DomSanitizer_26;}return this.__Sanitizer_27}},{key:'_AnimationQueue_28',get:function get(){if(this.__AnimationQueue_28==null){this.__AnimationQueue_28=new AnimationQueue(this.parent.get(NgZone));}return this.__AnimationQueue_28}},{key:'_ViewUtils_29',get:function get(){if(this.__ViewUtils_29==null){this.__ViewUtils_29=new ViewUtils(this._RootRenderer_25,this._Sanitizer_27,this._AnimationQueue_28);}return this.__ViewUtils_29}},{key:'_IterableDiffers_30',get:function get(){if(this.__IterableDiffers_30==null){this.__IterableDiffers_30=_iterableDiffersFactory();}return this.__IterableDiffers_30}},{key:'_KeyValueDiffers_31',get:function get(){if(this.__KeyValueDiffers_31==null){this.__KeyValueDiffers_31=_keyValueDiffersFactory();}return this.__KeyValueDiffers_31}},{key:'_SharedStylesHost_32',get:function get(){if(this.__SharedStylesHost_32==null){this.__SharedStylesHost_32=this._DomSharedStylesHost_21;}return this.__SharedStylesHost_32}},{key:'_Title_33',get:function get(){if(this.__Title_33==null){this.__Title_33=new Title;}return this.__Title_33}},{key:'_RadioControlRegistry_34',get:function get(){if(this.__RadioControlRegistry_34==null){this.__RadioControlRegistry_34=new RadioControlRegistry;}return this.__RadioControlRegistry_34}},{key:'_ROUTER_CONFIGURATION_35',get:function get(){if(this.__ROUTER_CONFIGURATION_35==null){this.__ROUTER_CONFIGURATION_35={};}return this.__ROUTER_CONFIGURATION_35}},{key:'_LocationStrategy_36',get:function get(){if(this.__LocationStrategy_36==null){this.__LocationStrategy_36=provideLocationStrategy(this.parent.get(PlatformLocation),this.parent.get(APP_BASE_HREF,null),this._ROUTER_CONFIGURATION_35);}return this.__LocationStrategy_36}},{key:'_Location_37',get:function get(){if(this.__Location_37==null){this.__Location_37=new Location(this._LocationStrategy_36);}return this.__Location_37}},{key:'_UrlSerializer_38',get:function get(){if(this.__UrlSerializer_38==null){this.__UrlSerializer_38=new DefaultUrlSerializer;}return this.__UrlSerializer_38}},{key:'_RouterOutletMap_39',get:function get(){if(this.__RouterOutletMap_39==null){this.__RouterOutletMap_39=new RouterOutletMap;}return this.__RouterOutletMap_39}},{key:'_NgModuleFactoryLoader_40',get:function get(){if(this.__NgModuleFactoryLoader_40==null){this.__NgModuleFactoryLoader_40=new SystemJsNgModuleLoader(this._Compiler_15,this.parent.get(SystemJsNgModuleLoaderConfig,null));}return this.__NgModuleFactoryLoader_40}},{key:'_ROUTES_41',get:function get(){if(this.__ROUTES_41==null){this.__ROUTES_41=[[{path:'',component:ToneListComponent}]];}return this.__ROUTES_41}},{key:'_Router_42',get:function get(){if(this.__Router_42==null){this.__Router_42=setupRouter(this._ApplicationRef_14,this._UrlSerializer_38,this._RouterOutletMap_39,this._Location_37,this,this._NgModuleFactoryLoader_40,this._Compiler_15,this._ROUTES_41,this._ROUTER_CONFIGURATION_35,this.parent.get(UrlHandlingStrategy,null),this.parent.get(RouteReuseStrategy,null));}return this.__Router_42}},{key:'_ActivatedRoute_43',get:function get(){if(this.__ActivatedRoute_43==null){this.__ActivatedRoute_43=rootRoute(this._Router_42);}return this.__ActivatedRoute_43}},{key:'_PreloadAllModules_47',get:function get(){if(this.__PreloadAllModules_47==null){this.__PreloadAllModules_47=new PreloadAllModules;}return this.__PreloadAllModules_47}},{key:'_ROUTER_INITIALIZER_48',get:function get(){if(this.__ROUTER_INITIALIZER_48==null){this.__ROUTER_INITIALIZER_48=initialRouterNavigation(this._Router_42,this._ApplicationRef_14,this._RouterPreloader_46,this._ROUTER_CONFIGURATION_35);}return this.__ROUTER_INITIALIZER_48}},{key:'_APP_BOOTSTRAP_LISTENER_49',get:function get(){if(this.__APP_BOOTSTRAP_LISTENER_49==null){this.__APP_BOOTSTRAP_LISTENER_49=[this._ROUTER_INITIALIZER_48];}return this.__APP_BOOTSTRAP_LISTENER_49}},{key:'_AppBus_50',get:function get(){if(this.__AppBus_50==null){this.__AppBus_50=new AppBus;}return this.__AppBus_50}}]);return AppModuleInjector}(NgModuleInjector);var AppModuleNgFactory=new NgModuleFactory(AppModuleInjector,AppModule);

enableProdMode();platformBrowser().bootstrapModuleFactory(AppModuleNgFactory);

}());
//# sourceMappingURL=app.js.map
